var tt=Object.defineProperty,nt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,qe=(he,L,J)=>L in he?tt(he,L,{enumerable:!0,configurable:!0,writable:!0,value:J}):he[L]=J,Xe=(he,L)=>{for(var J in L||(L={}))rt.call(L,J)&&qe(he,J,L[J]);if(Qe)for(var J of Qe(L))st.call(L,J)&&qe(he,J,L[J]);return he},$e=(he,L)=>nt(he,it(L)),je=(he,L,J)=>(qe(he,"symbol"!=typeof L?L+"":L,J),J),Ye=(he,L,J)=>{if(!L.has(he))throw TypeError("Cannot "+J)},ge=(he,L,J)=>(Ye(he,L,"read from private field"),J?J.call(he):L.get(he)),Ce=(he,L,J)=>{if(L.has(he))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(he):L.set(he,J)},Pe=(he,L,J,p)=>(Ye(he,L,"write to private field"),p?p.call(he,J):L.set(he,J),J),ke=(he,L,J)=>(Ye(he,L,"access private method"),J);(self.webpackChunkproject_proverka=self.webpackChunkproject_proverka||[]).push([[817],{3817:(he,L,J)=>{"use strict";J.r(L),J.d(L,{CabinetStudentModule:()=>Q});var p=J(9808),le=J(3075),ie=J(2930),ae=J(3759),te=J(4173),t=J(5e3),e=J(4968),u=J(7579),s=J(2076),l=J(2722),f=J(8372),k=J(9300),d=J(6036),a=J.t(d,2),x=J(2813),F=J.t(x,2);const C=["pdfViewerContainer"];function b(T,ee){const w=new T.EventBus;return function n(T,ee){(0,e.R)(T,"documentload").pipe((0,l.R)(ee)).subscribe(()=>{const w=document.createEvent("CustomEvent");w.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(w)}),(0,e.R)(T,"pagerendered").pipe((0,l.R)(ee)).subscribe(({pageNumber:w,cssTransform:X,source:se})=>{const be=document.createEvent("CustomEvent");be.initCustomEvent("pagerendered",!0,!0,{pageNumber:w,cssTransform:X}),se.div.dispatchEvent(be)}),(0,e.R)(T,"textlayerrendered").pipe((0,l.R)(ee)).subscribe(({pageNumber:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:w}),X.textLayerDiv.dispatchEvent(se)}),(0,e.R)(T,"pagechanging").pipe((0,l.R)(ee)).subscribe(({pageNumber:w,source:X})=>{const se=document.createEvent("UIEvents");se.initEvent("pagechanging",!0,!0),se.pageNumber=w,X.container.dispatchEvent(se)}),(0,e.R)(T,"pagesinit").pipe((0,l.R)(ee)).subscribe(({source:w})=>{const X=document.createEvent("CustomEvent");X.initCustomEvent("pagesinit",!0,!0,null),w.container.dispatchEvent(X)}),(0,e.R)(T,"pagesloaded").pipe((0,l.R)(ee)).subscribe(({pagesCount:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("pagesloaded",!0,!0,{pagesCount:w}),X.container.dispatchEvent(se)}),(0,e.R)(T,"scalechange").pipe((0,l.R)(ee)).subscribe(({scale:w,presetValue:X,source:se})=>{const be=document.createEvent("UIEvents");be.initEvent("scalechange",!0,!0),be.scale=w,be.presetValue=X,se.container.dispatchEvent(be)}),(0,e.R)(T,"updateviewarea").pipe((0,l.R)(ee)).subscribe(({location:w,source:X})=>{const se=document.createEvent("UIEvents");se.initEvent("updateviewarea",!0,!0),se.location=w,X.container.dispatchEvent(se)}),(0,e.R)(T,"find").pipe((0,l.R)(ee)).subscribe(({source:w,type:X,query:se,phraseSearch:be,caseSensitive:xe,highlightAll:we,findPrevious:Te})=>{if(w===window)return;const Fe=document.createEvent("CustomEvent");Fe.initCustomEvent("find"+X,!0,!0,{query:se,phraseSearch:be,caseSensitive:xe,highlightAll:we,findPrevious:Te}),window.dispatchEvent(Fe)}),(0,e.R)(T,"attachmentsloaded").pipe((0,l.R)(ee)).subscribe(({attachmentsCount:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:w}),X.container.dispatchEvent(se)}),(0,e.R)(T,"sidebarviewchanged").pipe((0,l.R)(ee)).subscribe(({view:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("sidebarviewchanged",!0,!0,{view:w}),X.outerContainer.dispatchEvent(se)}),(0,e.R)(T,"pagemode").pipe((0,l.R)(ee)).subscribe(({mode:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("pagemode",!0,!0,{mode:w}),X.pdfViewer.container.dispatchEvent(se)}),(0,e.R)(T,"namedaction").pipe((0,l.R)(ee)).subscribe(({action:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("namedaction",!0,!0,{action:w}),X.pdfViewer.container.dispatchEvent(se)}),(0,e.R)(T,"presentationmodechanged").pipe((0,l.R)(ee)).subscribe(({active:w,switchInProgress:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("presentationmodechanged",!0,!0,{active:w,switchInProgress:X}),window.dispatchEvent(se)}),(0,e.R)(T,"outlineloaded").pipe((0,l.R)(ee)).subscribe(({outlineCount:w,source:X})=>{const se=document.createEvent("CustomEvent");se.initCustomEvent("outlineloaded",!0,!0,{outlineCount:w}),X.container.dispatchEvent(se)})}(w,ee),w}function r(T,ee,w){T[ee]=w}function y(){return"undefined"==typeof window}y()||r(a,"verbosity",d.VerbosityLevel.INFOS);var m=(()=>{return(T=m||(m={}))[T.DISABLED=0]="DISABLED",T[T.ENABLED=1]="ENABLED",T[T.ENHANCED=2]="ENHANCED",m;var T})();let A=(()=>{class T{constructor(w,X){if(this.element=w,this.ngZone=X,this.isVisible=!1,this._cMapsUrl=void 0!==a?`https://unpkg.com/pdfjs-dist@${d.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=m.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new u.x,this.afterLoadComplete=new t.vpe,this.pageRendered=new t.vpe,this.pageInitialized=new t.vpe,this.textLayerRendered=new t.vpe,this.onError=new t.vpe,this.onProgress=new t.vpe,this.pageChange=new t.vpe(!0),y())return;let se;se=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${d.version}/legacy/build/pdf.worker.min.js`,r(d.GlobalWorkerOptions,"workerSrc",se)}set cMapsUrl(w){this._cMapsUrl=w}set page(w){const X=w=parseInt(w,10)||1;this._pdf&&(w=this.getValidPageNumber(w)),this._page=w,X!==w&&this.pageChange.emit(w)}set renderText(w){this._renderText=w}set renderTextMode(w){this._renderTextMode=w}set originalSize(w){this._originalSize=w}set showAll(w){this._showAll=w}set stickToPage(w){this._stickToPage=w}set zoom(w){w<=0||(this._zoom=w)}get zoom(){return this._zoom}set zoomScale(w){this._zoomScale=w}get zoomScale(){return this._zoomScale}set rotation(w){"number"==typeof w&&w%90==0?this._rotation=w:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(w){this._externalLinkTarget=w}set autoresize(w){this._canAutoResize=Boolean(w)}set fitToPage(w){this._fitToPage=Boolean(w)}set showBorders(w){this._showBorders=Boolean(w)}static getLinkTarget(w){switch(w){case"blank":return x.LinkTarget.BLANK;case"none":return x.LinkTarget.NONE;case"self":return x.LinkTarget.SELF;case"parent":return x.LinkTarget.PARENT;case"top":return x.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const w=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=w?!1===this.isVisible&&null!=w&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(w){if(!y()&&this.isVisible)if("src"in w)this.loadPDF();else if(this._pdf){if("renderText"in w?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:m.DISABLED,this.resetPdfDocument()):"showAll"in w&&this.resetPdfDocument(),"page"in w){const{page:X}=w;if(X.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const w=this.getCurrentViewer();(0,s.D)(this._pdf.getPage(w.currentPageNumber)).pipe((0,l.R)(this.destroy$)).subscribe({next:X=>{const se=this._rotation||X.rotate,be=X.getViewport({scale:this._zoom,rotation:se}).width*T.CSS_UNITS;let xe=this._zoom,we=!0;if(!this._originalSize||this._fitToPage&&be>this.pdfViewerContainer.nativeElement.clientWidth){const Te=X.getViewport({scale:1,rotation:se});xe=this.getScale(Te.width,Te.height),we=!this._stickToPage}w._setScale(xe,we)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const w={},X=T.getLinkTarget(this._externalLinkTarget);return X&&(w.externalLinkTarget=X),w}setupMultiPageViewer(){r(a,"disableTextLayer",!this._renderText);const w=b(F,this.destroy$);(0,e.R)(w,"pagerendered").pipe((0,l.R)(this.destroy$)).subscribe(se=>{this.pageRendered.emit(se)}),(0,e.R)(w,"pagesinit").pipe((0,l.R)(this.destroy$)).subscribe(se=>{this.pageInitialized.emit(se)}),(0,e.R)(w,"pagechanging").pipe((0,l.R)(this.destroy$)).subscribe(({pageNumber:se})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=se,this.pageChange.emit(se)},100)}),(0,e.R)(w,"textlayerrendered").pipe((0,l.R)(this.destroy$)).subscribe(se=>{this.textLayerRendered.emit(se)}),this.pdfMultiPageLinkService=new x.PDFLinkService(Object.assign({eventBus:w},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new x.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:w});const X={eventBus:w,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new x.PDFViewer(X),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){r(a,"disableTextLayer",!this._renderText);const w=b(F,this.destroy$);(0,e.R)(w,"pagechanging").pipe((0,l.R)(this.destroy$)).subscribe(({pageNumber:se})=>{se!==this._page&&(this.page=se)}),(0,e.R)(w,"pagerendered").pipe((0,l.R)(this.destroy$)).subscribe(se=>{this.pageRendered.emit(se)}),(0,e.R)(w,"pagesinit").pipe((0,l.R)(this.destroy$)).subscribe(se=>{this.pageInitialized.emit(se)}),(0,e.R)(w,"textlayerrendered").pipe((0,l.R)(this.destroy$)).subscribe(se=>{this.textLayerRendered.emit(se)}),this.pdfSinglePageLinkService=new x.PDFLinkService(Object.assign({eventBus:w},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new x.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:w});const X={eventBus:w,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new x.PDFSinglePageViewer(X),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(w){return w<1?1:w>this._pdf.numPages?this._pdf.numPages:w}getDocumentParams(){const w=typeof this.src;if(!this._cMapsUrl)return this.src;const X={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===w?X.url=this.src:"object"===w&&(void 0!==this.src.byteLength?X.data=this.src:Object.assign(X,this.src)),X}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=d.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=X=>{this.onProgress.emit(X)};const w=this.src;(0,s.D)(this.loadingTask.promise).pipe((0,l.R)(this.destroy$)).subscribe({next:X=>{this._pdf=X,this.lastLoaded=w,this.afterLoadComplete.emit(X),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:X=>{this.lastLoaded=null,this.onError.emit(X)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const w=this.getCurrentViewer();(0!==this._rotation||w.pagesRotation!==this._rotation)&&setTimeout(()=>{w.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{w.currentPageNumber=this._page}),this.updateSize()}getScale(w,X){const se=this._showBorders?2*T.BORDER_WIDTH:0,be=this.pdfViewerContainer.nativeElement.clientWidth-se,xe=this.pdfViewerContainer.nativeElement.clientHeight-se;if(0===xe||0===X||0===be||0===w)return 1;let we=1;switch(this._zoomScale){case"page-fit":we=Math.min(xe/X,be/w);break;case"page-height":we=xe/X;break;default:we=be/w}return this._zoom*we/T.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){y()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){y()||this.ngZone.runOutsideAngular(()=>{(0,e.R)(window,"resize").pipe((0,f.b)(100),(0,k.h)(()=>this._canAutoResize&&!!this._pdf),(0,l.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return T.CSS_UNITS=96/72,T.BORDER_WIDTH=9,T.\u0275fac=function(w){return new(w||T)(t.Y36(t.SBq),t.Y36(t.R0b))},T.\u0275cmp=t.Xpm({type:T,selectors:[["pdf-viewer"]],viewQuery:function(w,X){if(1&w&&t.Gf(C,5),2&w){let se;t.iGM(se=t.CRH())&&(X.pdfViewerContainer=se.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[t.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(w,X){1&w&&(t.TgZ(0,"div",0,1),t._UZ(2,"div",2),t.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),T})(),N=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275mod=t.oAB({type:T}),T.\u0275inj=t.cJS({}),T})();var O=J(4004),U=J(520);let j=(()=>{class T{constructor(w){this._httpRequestService=w}uploadStudentWork(w){const X=new FormData;return X.append("files",w,w.name),this._httpRequestService.post("/api/attachments/upload",X)}createProject(w,X){return this._httpRequestService.post(`/api/task/${w}/project`,{title:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",description:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",attachments:X})}getSelfProjectByTaskId(w){return this._httpRequestService.get(`/api/task/${w}/project/self`).pipe((0,O.U)(X=>Array.isArray(X)?X:[X]))}openFile(w){return this._httpRequestService.get("/api/attachments/open",{params:{filename:w},responseType:"blob"})}}return T.\u0275fac=function(w){return new(w||T)(t.LFG(U.eN))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac}),T})();var B=J(9751),D=J(951);let H=(()=>{class T{constructor(w,X){this._userBaseSerice=w,this._router=X}canActivate(){return new B.y(w=>{this._userBaseSerice.getUser().pipe((0,k.h)(X=>null!==X)).subscribe({next:X=>{X?w.next(!0):this._router.navigate(["login","student"])}})})}}return T.\u0275fac=function(w){return new(w||T)(t.LFG(D.J),t.LFG(ie.F0))},T.\u0275prov=t.Yz7({token:T,factory:T.\u0275fac}),T})();const R=function(T){return{header__menu__current:T}};function z(T,ee){if(1&T){const w=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.NdJ("click",function(){return t.CHM(w),t.oxw().navigatePage("rooms")}),t._uU(3,"\u041c\u043e\u0438 \u043a\u043e\u043c\u043d\u0430\u0442\u044b"),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return t.CHM(w),t.oxw().navigatePage("works")}),t._uU(5,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b"),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5),t.NdJ("click",function(){return t.CHM(w),t.oxw().exit()}),t._uU(8),t.qZA()()()}if(2&T){const w=ee.ngIf,X=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(4,R,"rooms"===X.currentItem)),t.xp6(2),t.Q6J("ngClass",t.VKq(6,R,"works"===X.currentItem)),t.xp6(4),t.AsE(" ",w.name.lastName," ",w.name.firstName," ")}}let v=(()=>{class T{constructor(w,X){this._userBaseService=w,this._router=X,this.currentItem="rooms",this.user$=this._userBaseService.getUser()}ngOnInit(){document.querySelector("body").style.background="#fff"}navigatePage(w){switch(this.currentItem=w,w){case"rooms":this._router.navigate(["cabinet","main"]);break;case"works":this._router.navigate(["cabinet","works"])}}exit(){(0,t.X6Q)()&&(console.log("\u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),console.log("cookie cleared"),console.log("localstorage cleared"),console.log("local user removed")),localStorage.clear(),this._userBaseService.setUser(null),this._router.navigate(["login","student"])}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(D.J),t.Y36(ie.F0))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],decls:3,vars:3,consts:[["class","header",4,"ngIf"],[1,"header"],[1,"header__menu"],[3,"ngClass","click"],[1,"header__username"],[3,"click"]],template:function(w,X){1&w&&(t.YNc(0,z,9,8,"div",0),t.ALo(1,"async"),t._UZ(2,"router-outlet")),2&w&&t.Q6J("ngIf",t.lcZ(1,1,X.user$))},directives:[p.O5,p.mk,ie.lC],pipes:[p.Ov],styles:[".header[_ngcontent-%COMP%]{padding-top:60px;position:relative;box-shadow:0 0 15px #0000001a;padding-bottom:60px;z-index:2;background-color:#fff}.header__menu[_ngcontent-%COMP%]{display:flex;font-size:24px;width:400px;margin:0 auto}.header__menu__current[_ngcontent-%COMP%]{font-weight:700}.header__menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{margin-right:35px}.header__menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-left:35px}.header__username[_ngcontent-%COMP%]{position:absolute;font-size:24px;left:10%;top:50%;transform:translate(-50%,-50%)}"]}),T})();var c=J(4970),o=J(1037),S=J(4128);let _=(()=>{class T{constructor(w){this._roomService=w,this.onArrowClick=new t.vpe,this.allCount=0,this._onDestroy$=new u.x}ngOnDestroy(){this._onDestroy$.next()}arrowClick(){this.onArrowClick.emit()}ngOnInit(){(0,S.D)([this._roomService.getTeachersByRoomdId(this.roomId,0,1e3),this._roomService.getStudentsByRoomId(this.roomId,0,1e3)]).pipe((0,l.R)(this._onDestroy$),(0,O.U)(([w,X])=>w.length+X.length)).subscribe({next:w=>{this.allCount=w}})}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(o.X))},T.\u0275cmp=t.Xpm({type:T,selectors:[["room-item"]],inputs:{title:"title",roomCount:"roomCount",roomId:"roomId"},outputs:{onArrowClick:"onArrowClick"},decls:12,vars:3,consts:[[1,"room"],[1,"room__arrow",3,"click"],["width","31","height","16","viewBox","0 0 31 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M29.8349 8.70711C30.2254 8.31659 30.2254 7.68342 29.8349 7.2929L23.4709 0.928935C23.0804 0.538411 22.4472 0.53841 22.0567 0.928935C21.6662 1.31946 21.6662 1.95262 22.0567 2.34315L27.7136 8L22.0567 13.6569C21.6662 14.0474 21.6662 14.6805 22.0567 15.0711C22.4472 15.4616 23.0804 15.4616 23.4709 15.0711L29.8349 8.70711ZM0.378906 9L29.1278 9L29.1278 7L0.378906 7L0.378906 9Z","fill","#767676"],[1,"room__id"],[1,"room__title"],[1,"room__count"],[1,"count"]],template:function(w,X){1&w&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return X.arrowClick()}),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA()(),t.kcU(),t.TgZ(4,"div",4),t._uU(5),t.qZA(),t.TgZ(6,"div",5),t._uU(7),t.qZA(),t.TgZ(8,"div",6),t._uU(9,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \xa0\xa0"),t.TgZ(10,"span",7),t._uU(11),t.qZA()()()),2&w&&(t.xp6(5),t.hij("\u041a\u043e\u043c\u043d\u0430\u0442\u0430 ",X.roomCount,""),t.xp6(2),t.Oqu(X.title),t.xp6(4),t.Oqu(X.allCount))},styles:[".room[_ngcontent-%COMP%]{border-left:10px solid #7256FD;background-color:#fff;padding:50px;box-shadow:0 0 15px #0000001a;position:relative}.room__id[_ngcontent-%COMP%]{font-size:18px;color:#767676;margin-bottom:18px}.room__arrow[_ngcontent-%COMP%]{position:absolute;top:120px;right:70px;cursor:pointer}.room__title[_ngcontent-%COMP%]{font-size:36px;width:400px;margin-bottom:75px;line-height:30px}.room__count[_ngcontent-%COMP%]{margin-bottom:-30px;font-size:18px}.count[_ngcontent-%COMP%]{color:#fe7451;font-weight:700}"]}),T})();var M=J(393);const i=function(T){return{room__last:T}};function P(T,ee){if(1&T){const w=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"room-item",6),t.NdJ("onArrowClick",function(){const be=t.CHM(w).$implicit;return t.oxw(3).navigateToRoom(be.id)}),t.qZA()()()}if(2&T){const w=ee.$implicit,X=ee.last,se=ee.index;t.xp6(1),t.Q6J("ngClass",t.VKq(4,i,X)),t.xp6(1),t.Q6J("roomId",w.id)("roomCount",se+1)("title",w.title)}}function E(T,ee){if(1&T&&(t.TgZ(0,"div"),t.YNc(1,P,3,6,"div",3),t.qZA()),2&T){const w=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",w)}}function V(T,ee){if(1&T){const w=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._uU(2," \u0423\u041f\u0421! \u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u044b "),t.qZA(),t.TgZ(3,"div",9)(4,"div")(5,"tui-input",10),t._uU(6," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043a\u043e\u043c\u043d\u0430\u0442\u044b "),t._UZ(7,"input",11),t.qZA()(),t.TgZ(8,"div")(9,"button",12),t.NdJ("click",function(){return t.CHM(w),t.oxw(2).joinRoom()}),t._uU(10," \u0412\u043e\u0439\u0442\u0438 "),t.qZA()()()()}if(2&T){const w=t.oxw(2);t.Q6J("formGroup",w.controlsGroup)}}function g(T,ee){if(1&T&&(t.ynx(0),t.TgZ(1,"div",1),t.YNc(2,E,2,1,"div",0),t.YNc(3,V,11,1,"div",2),t.qZA(),t.BQk()),2&T){const w=ee.ngIf;t.xp6(2),t.Q6J("ngIf",w.length),t.xp6(1),t.Q6J("ngIf",!w.length)}}let W=(()=>{class T extends c.L{constructor(w,X){super(),this._roomService=w,this._router=X,this._subjectDestroy$=new u.x,document.querySelector("body").style.background="#fff"}ngOnDestroy(){this._subjectDestroy$.next()}joinRoom(){this._roomService.joinStudentToRoom(this.getFormValue("code")).subscribe()}navigateToRoom(w){this._router.navigate(["cabinet","room",w])}ngOnInit(){this.allRooms$=this._roomService.getRooms(0,100).pipe((0,l.R)(this._subjectDestroy$))}getControls(){return new le.cw({code:new le.NI("",[le.kI.required])})}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(o.X),t.Y36(ie.F0))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],features:[t.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"room"],["class","room__empty",3,"formGroup",4,"ngIf"],["class","room__item",4,"ngFor","ngForOf"],[1,"room__item"],[3,"ngClass"],[3,"roomId","roomCount","title","onArrowClick"],[1,"room__empty",3,"formGroup"],[1,"room__empty__alert"],[1,"room__empty__container"],["formControlName","code",1,"room__empty__code_field"],["tuiTextfield","","placeholder","","type","text"],["tuiButton","","type","button","appearance","primary",1,"room__empty__button_login",3,"click"]],template:function(w,X){1&w&&(t.YNc(0,g,4,2,"ng-container",0),t.ALo(1,"async")),2&w&&t.Q6J("ngIf",t.lcZ(1,1,X.allRooms$))},directives:[p.O5,p.sg,p.mk,_,le.JL,le.sg,te.K3,te.wU,le.JJ,le.u,M.MB,ae.v0],pipes:[p.Ov],styles:[".room__item[_ngcontent-%COMP%]{width:85%;margin:100px auto 0}.room__last[_ngcontent-%COMP%]{margin-bottom:60px}.room__empty[_ngcontent-%COMP%]{margin:100px auto;width:65%}.room__empty__alert[_ngcontent-%COMP%]{font-weight:700;font-size:80px;line-height:1}.room__empty__container[_ngcontent-%COMP%]{width:60%;margin:40px auto}.room__empty__code_field[_ngcontent-%COMP%]{border-radius:0;width:100%}.room__empty__button_login[_ngcontent-%COMP%]{border-radius:0;width:100%;margin-top:40px}"]}),T})();function q(T,ee){if(1&T&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&T){const w=ee.$implicit;t.xp6(1),t.hij(" ",w.title," ")}}function $(T,ee){if(1&T&&(t.TgZ(0,"div"),t._uU(1),t.YNc(2,q,2,1,"div",0),t.qZA()),2&T){const w=ee.$implicit;t.xp6(1),t.hij(" ",w.id," "),t.xp6(1),t.Q6J("ngForOf",w.tasks)}}let Z=(()=>{class T{constructor(w){this._roomService=w,this.tasks=[]}ngOnInit(){this._roomService.getRooms(0,1e3).pipe((0,O.U)(w=>w.map(X=>X.id))).subscribe({next:w=>{w.forEach(X=>{this._roomService.getTasks(X).subscribe({next:se=>{const be={};be.id=X,be.tasks=se,this.tasks.push(be)}})})}})}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(o.X))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(w,X){1&w&&t.YNc(0,$,3,2,"div",0),2&w&&t.Q6J("ngForOf",X.tasks)},directives:[p.sg],encapsulation:2}),T})(),ne=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"container"],[1,"container__404"],[1,"container__404__number"],[1,"container__page-not-found"]],template:function(w,X){1&w&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," \u041e\u0448\u0438\u0431\u043a\u0430 "),t.TgZ(3,"span",2),t._uU(4,"404"),t.qZA()(),t.TgZ(5,"div",3),t._uU(6," \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 "),t.qZA()())},styles:[".container[_ngcontent-%COMP%]{margin:15% auto;display:block;width:500px;height:auto;line-height:130px}.container__404[_ngcontent-%COMP%]{font-size:80px;text-align:center;font-weight:700}.container__404__number[_ngcontent-%COMP%]{color:#6e57e0}.container__page-not-found[_ngcontent-%COMP%]{font-size:24px;text-align:center}"]}),T})();var ue=J(3900),ce=J(5698);const pe=["input"];function h(T,ee){1&T&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430"),t.qZA(),t.TgZ(3,"div",8),t._uU(4,"85/10"),t.qZA()())}function I(T,ee){1&T&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.qZA())}function K(T,ee){1&T&&(t.TgZ(0,"div",11)(1,"div",12),t._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),t.qZA(),t.TgZ(3,"div",13),t._uU(4,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),t.qZA()())}function G(T,ee){if(1&T){const w=t.EpF();t.TgZ(0,"div")(1,"label",14),t._uU(2,"Choose File"),t.qZA(),t.TgZ(3,"input",15,16),t.NdJ("change",function(se){return t.CHM(w),t.oxw(2).uploadWork(se.target)}),t.qZA()()}}function Y(T,ee){if(1&T&&(t.TgZ(0,"div"),t._UZ(1,"pdf-viewer",17),t.qZA()),2&T){const w=t.oxw(2);t.xp6(1),t.Q6J("src",w.pdfSrc)("render-text",!0)("original-size",!1)}}function oe(T,ee){if(1&T&&(t.TgZ(0,"div")(1,"h1"),t._uU(2),t.qZA(),t.TgZ(3,"div",1),t._uU(4),t.qZA(),t.YNc(5,h,5,0,"div",2),t.YNc(6,I,2,0,"div",3),t.YNc(7,K,5,0,"div",4),t.YNc(8,G,5,0,"div",0),t.YNc(9,Y,2,3,"div",5),t.qZA()),2&T){const w=ee.ngIf,X=t.oxw();t.xp6(2),t.hij("\u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",X.projectIndex,""),t.xp6(2),t.Oqu(w.title),t.xp6(1),t.Q6J("ngIf",X.project.length),t.xp6(1),t.Q6J("ngIf",X.project.length),t.xp6(1),t.Q6J("ngIf",X.project.length),t.xp6(1),t.Q6J("ngIf",!X.project.length),t.xp6(1),t.Q6J("ngForOf",X.project)}}let fe=(()=>{class T{constructor(w,X,se){this._activatedRouter=w,this._roomService=X,this._fileManager=se,this.project=[],this.fileBackendKey=[]}ngOnInit(){this._activatedRouter.parent.params.subscribe(w=>{this.roomId=w.id,this.taskId=this._activatedRouter.snapshot.paramMap.params.id}),this._activatedRouter.queryParamMap.pipe((0,O.U)(w=>w.get("index"))).subscribe(w=>{this.projectIndex=w}),this.task$=this._roomService.getTaskById(this.taskId),this._fileManager.getSelfProjectByTaskId(this.taskId).subscribe({next:w=>{this.project=w,w&&this.openWork(w[0].attachments[0])}})}uploadWork(w){const X=w.files.item(0);this._fileManager.uploadStudentWork(X).pipe((0,ue.w)(se=>this._fileManager.createProject(this.taskId,se))).subscribe()}openWork(w){this._fileManager.openFile(w).pipe((0,ce.q)(1)).subscribe({next:X=>{let se=new Blob([X],{type:"application/pdf"}),be=window.URL.createObjectURL(se);this.pdfSrc=be}})}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(ie.gz),t.Y36(o.X),t.Y36(j))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],viewQuery:function(w,X){if(1&w&&t.Gf(pe,5),2&w){let se;t.iGM(se=t.CRH())&&(X.input=se.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"title"],["class","grade",4,"ngIf"],["class","scale",4,"ngIf"],["class","actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grade"],[1,"grade__current"],[1,"grade__percent"],[1,"scale"],[1,"scale__linear"],[1,"actions"],[1,"actions__edit"],[1,"actions__delete"],["for","file"],["id","file","accept","application/pdf","type","file",3,"change"],["input",""],[2,"width","780px","height","500px","box-shadow","0px 0px 15px rgba(0, 0, 0, 0.1)",3,"src","render-text","original-size"]],template:function(w,X){1&w&&(t.YNc(0,oe,10,7,"div",0),t.ALo(1,"async")),2&w&&t.Q6J("ngIf",t.lcZ(1,1,X.task$))},directives:[p.O5,p.sg,A],pipes:[p.Ov],styles:["h1[_ngcontent-%COMP%]{font-size:80px}.upload[_ngcontent-%COMP%]{font-size:24px;color:#7256fd;font-weight:700;cursor:pointer}.title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.actions__edit[_ngcontent-%COMP%]{color:#7256fd;font-size:24px;font-weight:700}.actions__delete[_ngcontent-%COMP%]{color:#fe5151;font-weight:700;font-size:24px}.grade[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:-23px}.grade__current[_ngcontent-%COMP%]{font-size:18px}.scale[_ngcontent-%COMP%]{width:100%;height:20px;background:#FFFFFF;box-shadow:0 0 15px #0000001a;margin-bottom:40px}.scale__linear[_ngcontent-%COMP%]{width:85%;height:100%;background-color:#17f5b3}"]}),T})();const de=function(T){return{container__menu__current:T}};function _e(T,ee){if(1&T){const w=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"ul")(3,"li",3),t.NdJ("click",function(){return t.CHM(w),t.oxw().changeStateHandler("room")}),t._uU(4," \u041a\u043e\u043c\u043d\u0430\u0442\u0430 "),t.qZA(),t.TgZ(5,"li",3),t.NdJ("click",function(){return t.CHM(w),t.oxw().changeStateHandler("members")}),t._uU(6," \u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"),t.qZA(),t.TgZ(7,"li",3),t.NdJ("click",function(){return t.CHM(w),t.oxw().changeStateHandler("evaluate")}),t._uU(8,"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b"),t.qZA(),t.TgZ(9,"li",3),t.NdJ("click",function(){return t.CHM(w),t.oxw().changeStateHandler("evaluatedWorks")}),t._uU(10,"\u041e\u0446\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"),t.qZA()()(),t.TgZ(11,"div",4),t._UZ(12,"router-outlet"),t.qZA()()}if(2&T){const w=t.oxw();t.xp6(3),t.Q6J("ngClass",t.VKq(4,de,"room"===w.currentMenu)),t.xp6(2),t.Q6J("ngClass",t.VKq(6,de,"members"===w.currentMenu)),t.xp6(2),t.Q6J("ngClass",t.VKq(8,de,"evaluate"===w.currentMenu)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,de,"evaluatedWorks"===w.currentMenu))}}let me=(()=>{class T{constructor(w,X,se){this._activatedRouter=w,this._roomService=X,this._router=se,this.currentMenu="room",this._destroySubj$=new u.x}ngOnInit(){document.querySelector("body").style.background="#866EFF0D",this.roomId=this._activatedRouter.snapshot.paramMap.get("id"),this.room$=this._roomService.getRoomById(parseInt(this.roomId)).pipe((0,l.R)(this._destroySubj$))}changeStateHandler(w){"room"===(this.currentMenu=w,w)&&this._router.navigate(["cabinet","room",this.roomId])}ngOnDestroy(){this._destroySubj$.next()}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(ie.gz),t.Y36(o.X),t.Y36(ie.F0))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container__menu"],[3,"ngClass","click"],[1,"container__info"]],template:function(w,X){1&w&&(t.YNc(0,_e,13,12,"div",0),t.ALo(1,"async")),2&w&&t.Q6J("ngIf",t.lcZ(1,1,X.room$))},directives:[p.O5,p.mk,ie.lC],pipes:[p.Ov],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr}.container__menu[_ngcontent-%COMP%]{height:100vh;background-color:#fff;position:relative}.container__menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);top:60px}.container__menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:24px;line-height:64px}.container__menu__current[_ngcontent-%COMP%]{font-weight:700}.container__current_task[_ngcontent-%COMP%]{font-size:24px;margin-top:25px}.container__info[_ngcontent-%COMP%]{margin:12px auto;width:80%;line-height:80px;text-align:left}.container__info__add_task[_ngcontent-%COMP%]{color:#fe7451;font-size:24px;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:80px}"]}),T})(),Ae=(()=>{class T{constructor(){this.onTaskClick=new t.vpe}clickTask(){this.onTaskClick.emit()}}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=t.Xpm({type:T,selectors:[["task-item"]],inputs:{task:"task",index:"index"},outputs:{onTaskClick:"onTaskClick"},decls:5,vars:2,consts:[[1,"room",3,"click"],[1,"room__id"],[1,"room__title"]],template:function(w,X){1&w&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return X.clickTask()}),t.TgZ(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t._uU(4),t.qZA()()),2&w&&(t.xp6(2),t.hij(" \u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",X.index," "),t.xp6(2),t.hij(" ",X.task.title," "))},styles:[".room[_ngcontent-%COMP%]{border-left:6px solid #7256FD;background-color:#fff;height:110px;box-shadow:0 0 15px #0000001a;line-height:20px;padding:18px 0 0 47px;margin-bottom:20px;position:relative}.room__id[_ngcontent-%COMP%]{font-size:18px;color:#767676;margin-bottom:35px}.room__title[_ngcontent-%COMP%]{font-size:24px}"]}),T})();function ve(T,ee){if(1&T&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&T){const w=t.oxw();t.xp6(1),t.Oqu(w.room.title)}}function Ee(T,ee){1&T&&(t.TgZ(0,"div",3),t._uU(1,"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f:"),t.qZA())}function ye(T,ee){1&T&&(t.TgZ(0,"div",3),t._uU(1,"\u0412 \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u0435 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f "),t.qZA())}function Se(T,ee){if(1&T){const w=t.EpF();t.TgZ(0,"div")(1,"task-item",4),t.NdJ("onTaskClick",function(){const se=t.CHM(w),be=se.$implicit,xe=se.index;return t.oxw(2).navigateToDetails(be.id,xe+1)}),t.qZA()()}if(2&T){const w=ee.$implicit,X=ee.index;t.xp6(1),t.Q6J("task",w)("index",X+1)}}function Re(T,ee){if(1&T&&(t.ynx(0),t.YNc(1,Ee,2,0,"div",1),t.YNc(2,ye,2,0,"div",1),t.YNc(3,Se,2,2,"div",2),t.BQk()),2&T){const w=ee.ngIf;t.xp6(1),t.Q6J("ngIf",w.length),t.xp6(1),t.Q6J("ngIf",!w.length),t.xp6(1),t.Q6J("ngForOf",w)}}const re=[{path:"",component:v,canActivate:[H],children:[{path:"",pathMatch:"full",redirectTo:"main"},{path:"main",component:W},{path:"works",component:Z},{path:"room/:id",component:me,children:[{path:"",redirectTo:"info"},{path:"info",component:(()=>{class T{constructor(w,X,se){this._activatedRouter=w,this._roomService=X,this._router=se,this._destroySubj$=new u.x,w.parent.params.subscribe(be=>{this.roomId=be.id})}ngOnInit(){this._roomService.getRoomById(parseInt(this.roomId)).pipe((0,l.R)(this._destroySubj$)).subscribe(w=>{this.room=w}),this.tasks$=this._roomService.getTasks(parseInt(this.roomId)).pipe((0,l.R)(this._destroySubj$))}navigateToDetails(w,X){this._router.navigate(["cabinet","room",this.roomId,"task",w],{queryParams:{index:X}})}ngOnDestroy(){this._destroySubj$.next()}}return T.\u0275fac=function(w){return new(w||T)(t.Y36(ie.gz),t.Y36(o.X),t.Y36(ie.F0))},T.\u0275cmp=t.Xpm({type:T,selectors:[["ng-component"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","current_task",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"current_task"],[3,"task","index","onTaskClick"]],template:function(w,X){1&w&&(t.TgZ(0,"div"),t.YNc(1,ve,2,1,"h1",0),t.YNc(2,Re,4,3,"ng-container",0),t.ALo(3,"async"),t.qZA()),2&w&&(t.xp6(1),t.Q6J("ngIf",X.room),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,2,X.tasks$)))},directives:[p.O5,p.sg,Ae],pipes:[p.Ov],styles:["h1[_ngcontent-%COMP%]{font-size:80px}.current_task[_ngcontent-%COMP%]{font-size:24px;margin-top:25px}"]}),T})()},{path:"task/:id",component:fe}]},{path:"**",pathMatch:"full",component:ne}]}];let Q=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275mod=t.oAB({type:T}),T.\u0275inj=t.cJS({providers:[H,j],imports:[[p.ez,ie.Bz.forChild(re),le.UX,te.Qf,ae.fN,N]]}),T})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,J;J=function(){return(()=>{"use strict";var __webpack_modules__=[,(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.VerbosityLevel=L.Util=L.UnknownErrorException=L.UnexpectedResponseException=L.UNSUPPORTED_FEATURES=L.TextRenderingMode=L.StreamType=L.RenderingIntentFlag=L.PermissionFlag=L.PasswordResponses=L.PasswordException=L.PageActionEventType=L.OPS=L.MissingPDFException=L.IsLittleEndianCached=L.IsEvalSupportedCached=L.InvalidPDFException=L.ImageKind=L.IDENTITY_MATRIX=L.FormatError=L.FontType=L.FONT_IDENTITY_MATRIX=L.DocumentActionEventType=L.CMapCompressionType=L.BaseException=L.AnnotationType=L.AnnotationStateModelType=L.AnnotationReviewState=L.AnnotationReplyType=L.AnnotationMode=L.AnnotationMarkedState=L.AnnotationFlag=L.AnnotationFieldFlag=L.AnnotationBorderStyleType=L.AnnotationActionEventType=L.AbortException=void 0,L.arrayByteLength=Z,L.arraysToBytes=function ne(re){const Q=re.length;if(1===Q&&re[0]instanceof Uint8Array)return re[0];let T=0;for(let X=0;X<Q;X++)T+=Z(re[X]);let ee=0;const w=new Uint8Array(T);for(let X=0;X<Q;X++){let se=re[X];se instanceof Uint8Array||(se="string"==typeof se?$(se):new Uint8Array(se));const be=se.byteLength;w.set(se,ee),ee+=be}return w},L.assert=function z(re,Q){re||R(Q)},L.bytesToString=function q(re){("object"!=typeof re||null===re||void 0===re.length)&&R("Invalid argument for bytesToString");const Q=re.length,T=8192;if(Q<T)return String.fromCharCode.apply(null,re);const ee=[];for(let w=0;w<Q;w+=T){const X=Math.min(w+T,Q),se=re.subarray(w,X);ee.push(String.fromCharCode.apply(null,se))}return ee.join("")},L.createPromiseCapability=function Le(){const re=Object.create(null);let Q=!1;return Object.defineProperty(re,"settled",{get:()=>Q}),re.promise=new Promise(function(T,ee){re.resolve=function(w){Q=!0,T(w)},re.reject=function(w){Q=!0,ee(w)}}),re},L.createValidAbsoluteUrl=function o(re,Q=null,T=null){if(!re)return null;try{if(T&&"string"==typeof re){if(T.addDefaultProtocol&&re.startsWith("www.")){const w=re.match(/\./g);w&&w.length>=2&&(re=`http://${re}`)}if(T.tryConvertEncoding)try{re=ve(re)}catch(w){}}const ee=Q?new URL(re,Q):new URL(re);if(function c(re){if(!re)return!1;switch(re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ee))return ee}catch(ee){}return null},L.escapeString=function _e(re){return re.replace(/([()\\\n\r])/g,Q=>"\n"===Q?"\\n":"\r"===Q?"\\r":`\\${Q}`)},L.getModificationDate=function Re(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")},L.getVerbosityLevel=function B(){return U},L.info=function D(re){U>=y.INFOS&&console.log(`Info: ${re}`)},L.isArrayBuffer=function ye(re){return"object"==typeof re&&null!==re&&void 0!==re.byteLength},L.isArrayEqual=function Se(re,Q){if(re.length!==Q.length)return!1;for(let T=0,ee=re.length;T<ee;T++)if(re[T]!==Q[T])return!1;return!0},L.isAscii=function me(re){return/^[\x00-\x7F]*$/.test(re)},L.isSameOrigin=function v(re,Q){let T;try{if(T=new URL(re),!T.origin||"null"===T.origin)return!1}catch(w){return!1}const ee=new URL(Q,T);return T.origin===ee.origin},L.objectFromMap=function pe(re){const Q=Object.create(null);for(const[T,ee]of re)Q[T]=ee;return Q},L.objectSize=function ce(re){return Object.keys(re).length},L.setVerbosityLevel=function j(re){Number.isInteger(re)&&(U=re)},L.shadow=S,L.string32=function ue(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,255&re)},L.stringToBytes=$,L.stringToPDFString=function de(re){if(re[0]>="\xef"){let T;if("\xfe"===re[0]&&"\xff"===re[1]?T="utf-16be":"\xff"===re[0]&&"\xfe"===re[1]?T="utf-16le":"\xef"===re[0]&&"\xbb"===re[1]&&"\xbf"===re[2]&&(T="utf-8"),T)try{const ee=new TextDecoder(T,{fatal:!0}),w=$(re);return ee.decode(w)}catch(ee){H(`stringToPDFString: "${ee}".`)}}const Q=[];for(let T=0,ee=re.length;T<ee;T++){const w=fe[re.charCodeAt(T)];Q.push(w?String.fromCharCode(w):re.charAt(T))}return Q.join("")},L.stringToUTF16BEString=function Ae(re){const Q=["\xfe\xff"];for(let T=0,ee=re.length;T<ee;T++){const w=re.charCodeAt(T);Q.push(String.fromCharCode(w>>8&255),String.fromCharCode(255&w))}return Q.join("")},L.stringToUTF8String=ve,L.unreachable=R,L.utf8StringToString=function Ee(re){return unescape(encodeURIComponent(re))},L.warn=H,J(2),L.IDENTITY_MATRIX=[1,0,0,1,0,0],L.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],L.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},L.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},L.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},L.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},L.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},L.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},L.AnnotationReplyType={GROUP:"Group",REPLY:"R"},L.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},L.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},L.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},L.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},L.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},L.PageActionEventType={O:"PageOpen",C:"PageClose"},L.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},L.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const y={ERRORS:0,WARNINGS:1,INFOS:5};L.VerbosityLevel=y,L.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},L.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},L.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let U=y.WARNINGS;function H(re){U>=y.WARNINGS&&console.log(`Warning: ${re}`)}function R(re){throw new Error(re)}function S(re,Q,T){return Object.defineProperty(re,Q,{value:T,enumerable:!0,configurable:!0,writable:!1}),T}const _=function(){function Q(T,ee){this.constructor===Q&&R("Cannot initialize BaseException."),this.message=T,this.name=ee}return Q.prototype=new Error,Q.constructor=Q,Q}();function $(re){"string"!=typeof re&&R("Invalid argument for stringToBytes");const Q=re.length,T=new Uint8Array(Q);for(let ee=0;ee<Q;++ee)T[ee]=255&re.charCodeAt(ee);return T}function Z(re){return void 0!==re.length?re.length:void 0!==re.byteLength?re.byteLength:void R("Invalid argument for arrayByteLength")}L.BaseException=_,L.PasswordException=class M extends _{constructor(Q,T){super(Q,"PasswordException"),this.code=T}},L.UnknownErrorException=class i extends _{constructor(Q,T){super(Q,"UnknownErrorException"),this.details=T}},L.InvalidPDFException=class P extends _{constructor(Q){super(Q,"InvalidPDFException")}},L.MissingPDFException=class E extends _{constructor(Q){super(Q,"MissingPDFException")}},L.UnexpectedResponseException=class V extends _{constructor(Q,T){super(Q,"UnexpectedResponseException"),this.status=T}},L.FormatError=class g extends _{constructor(Q){super(Q,"FormatError")}},L.AbortException=class W extends _{constructor(Q){super(Q,"AbortException")}},L.IsLittleEndianCached={get value(){return S(this,"value",function h(){const re=new Uint8Array(4);return re[0]=1,1===new Uint32Array(re.buffer,0,1)[0]}())}},L.IsEvalSupportedCached={get value(){return S(this,"value",function K(){try{return new Function(""),!0}catch(re){return!1}}())}};const Y=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class oe{static makeHexColor(Q,T,ee){return`#${Y[Q]}${Y[T]}${Y[ee]}`}static transform(Q,T){return[Q[0]*T[0]+Q[2]*T[1],Q[1]*T[0]+Q[3]*T[1],Q[0]*T[2]+Q[2]*T[3],Q[1]*T[2]+Q[3]*T[3],Q[0]*T[4]+Q[2]*T[5]+Q[4],Q[1]*T[4]+Q[3]*T[5]+Q[5]]}static applyTransform(Q,T){return[Q[0]*T[0]+Q[1]*T[2]+T[4],Q[0]*T[1]+Q[1]*T[3]+T[5]]}static applyInverseTransform(Q,T){const ee=T[0]*T[3]-T[1]*T[2];return[(Q[0]*T[3]-Q[1]*T[2]+T[2]*T[5]-T[4]*T[3])/ee,(-Q[0]*T[1]+Q[1]*T[0]+T[4]*T[1]-T[5]*T[0])/ee]}static getAxialAlignedBoundingBox(Q,T){const ee=oe.applyTransform(Q,T),w=oe.applyTransform(Q.slice(2,4),T),X=oe.applyTransform([Q[0],Q[3]],T),se=oe.applyTransform([Q[2],Q[1]],T);return[Math.min(ee[0],w[0],X[0],se[0]),Math.min(ee[1],w[1],X[1],se[1]),Math.max(ee[0],w[0],X[0],se[0]),Math.max(ee[1],w[1],X[1],se[1])]}static inverseTransform(Q){const T=Q[0]*Q[3]-Q[1]*Q[2];return[Q[3]/T,-Q[1]/T,-Q[2]/T,Q[0]/T,(Q[2]*Q[5]-Q[4]*Q[3])/T,(Q[4]*Q[1]-Q[5]*Q[0])/T]}static apply3dTransform(Q,T){return[Q[0]*T[0]+Q[1]*T[1]+Q[2]*T[2],Q[3]*T[0]+Q[4]*T[1]+Q[5]*T[2],Q[6]*T[0]+Q[7]*T[1]+Q[8]*T[2]]}static singularValueDecompose2dScale(Q){const T=[Q[0],Q[2],Q[1],Q[3]],ee=Q[0]*T[0]+Q[1]*T[2],se=Q[2]*T[1]+Q[3]*T[3],be=(ee+se)/2,xe=Math.sqrt((ee+se)**2-4*(ee*se-(Q[2]*T[0]+Q[3]*T[2])*(Q[0]*T[1]+Q[1]*T[3])))/2,Te=be-xe||1;return[Math.sqrt(be+xe||1),Math.sqrt(Te)]}static normalizeRect(Q){const T=Q.slice(0);return Q[0]>Q[2]&&(T[0]=Q[2],T[2]=Q[0]),Q[1]>Q[3]&&(T[1]=Q[3],T[3]=Q[1]),T}static intersect(Q,T){function ee(be,xe){return be-xe}const w=[Q[0],Q[2],T[0],T[2]].sort(ee),X=[Q[1],Q[3],T[1],T[3]].sort(ee),se=[];return Q=oe.normalizeRect(Q),T=oe.normalizeRect(T),w[0]===Q[0]&&w[1]===T[0]||w[0]===T[0]&&w[1]===Q[0]?(se[0]=w[1],se[2]=w[2],X[0]===Q[1]&&X[1]===T[1]||X[0]===T[1]&&X[1]===Q[1]?(se[1]=X[1],se[3]=X[2],se):null):null}static bezierBoundingBox(Q,T,ee,w,X,se,be,xe){const we=[],Te=[[],[]];let Fe,Ie,De,Me,Ve,Ue,He,ze;for(let Ge=0;Ge<2;++Ge)if(0===Ge?(Ie=6*Q-12*ee+6*X,Fe=-3*Q+9*ee-9*X+3*be,De=3*ee-3*Q):(Ie=6*T-12*w+6*se,Fe=-3*T+9*w-9*se+3*xe,De=3*w-3*T),Math.abs(Fe)<1e-12){if(Math.abs(Ie)<1e-12)continue;Me=-De/Ie,0<Me&&Me<1&&we.push(Me)}else He=Ie*Ie-4*De*Fe,ze=Math.sqrt(He),!(He<0)&&(Ve=(-Ie+ze)/(2*Fe),0<Ve&&Ve<1&&we.push(Ve),Ue=(-Ie-ze)/(2*Fe),0<Ue&&Ue<1&&we.push(Ue));let Oe,Ne=we.length;const Be=Ne;for(;Ne--;)Me=we[Ne],Oe=1-Me,Te[0][Ne]=Oe*Oe*Oe*Q+3*Oe*Oe*Me*ee+3*Oe*Me*Me*X+Me*Me*Me*be,Te[1][Ne]=Oe*Oe*Oe*T+3*Oe*Oe*Me*w+3*Oe*Me*Me*se+Me*Me*Me*xe;return Te[0][Be]=Q,Te[1][Be]=T,Te[0][Be+1]=be,Te[1][Be+1]=xe,Te[0].length=Te[1].length=Be+2,[Math.min(...Te[0]),Math.min(...Te[1]),Math.max(...Te[0]),Math.max(...Te[1])]}}L.Util=oe;const fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ve(re){return decodeURIComponent(escape(re))}},(he,L,J)=>{J(3)},(he,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.isNodeJS=void 0;const J=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);L.isNodeJS=J},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var he,L,J,p,le,ie,ae,Ze;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){const e=new PDFDocumentLoadingTask;let u;if("string"==typeof t||t instanceof URL)u={url:t};else if((0,_util.isArrayBuffer)(t))u={data:t};else if(t instanceof PDFDataRangeTransport)u={range:t};else{if("object"!=typeof t)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");u=t}const s=Object.create(null);let l=null,f=null;for(const d in u){const a=u[d];switch(d){case"url":if("undefined"!=typeof window)try{s[d]=new URL(a,window.location).href;continue}catch(x){(0,_util.warn)(`Cannot create valid URL: "${x}".`)}else if("string"==typeof a||a instanceof URL){s[d]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":l=a;continue;case"worker":f=a;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&a instanceof Buffer)s[d]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if("string"==typeof a)s[d]=(0,_util.stringToBytes)(a);else if("object"!=typeof a||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[d]=new Uint8Array(a)}else s[d]=new Uint8Array(a)}continue}s[d]=a}if(s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),void 0===s.ownerDocument&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!f){const d={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=d.port?_PDFWorker.fromPort(d):new _PDFWorker(d),e._worker=f}const k=e.docId;return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const d=_fetchDocument(f,s,l,k),a=new Promise(function(x){let F;l?F=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},l):s.data||(F=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),x(F)});return Promise.all([d,a]).then(function([x,F]){if(e.destroyed)throw new Error("Loading aborted");const C=new _message_handler.MessageHandler(k,x,f.port),b=new WorkerTransport(C,e,F,s);e._transport=b,C.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(t,e,u,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(t,e,u,s){if(t.destroyed)throw new Error("Worker was destroyed");u&&(e.length=u.length,e.initialData=u.initialData,e.progressiveDone=u.progressiveDone,e.contentDispositionFilename=u.contentDispositionFilename);const l=yield t.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.13.216",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(t.destroyed)throw new Error("Worker was destroyed");return l})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var e=this;return _asyncToGenerator(function*(){var u;e.destroyed=!0,yield null==(u=e._transport)?void 0:u.destroy(),e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,u,s=!1,l=null){this.length=e,this.initialData=u,this.progressiveDone=s,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,u){for(const s of this._rangeListeners)s(e,u)}onDataProgress(e,u){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,u)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const u of this._progressiveReadListeners)u(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,u){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,u){var l,s=this;this._pdfInfo=e,this._transport=u,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(l=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return l.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,u,s,l,f=!1){this._pageIndex=e,this._pageInfo=u,this._ownerDocument=l,this._transport=s,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:u=this.rotate,offsetX:s=0,offsetY:l=0,dontFlip:f=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:u,offsetX:s,offsetY:l,dontFlip:f})}getAnnotations({intent:e="display"}={}){const u=this._transport.getRenderingIntent(e);let s=this._annotationPromises.get(u.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,u.renderingIntent),this._annotationPromises.set(u.cacheKey,s),s=s.then(l=>{for(const f of l)void 0!==f.titleObj&&Object.defineProperty(f,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),f.titleObj.str)}),void 0!==f.contentsObj&&Object.defineProperty(f,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),f.contentsObj.str)});return l})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var e=this;return _asyncToGenerator(function*(){var u;return(null==(u=e._transport._htmlForXfa)?void 0:u.children[e._pageIndex])||null})()}render({canvasContext:e,viewport:u,intent:s="display",annotationMode:l=_util.AnnotationMode.ENABLE,transform:f=null,imageLayer:k=null,canvasFactory:d=null,background:a=null,optionalContentConfigPromise:x=null,annotationCanvasMap:F=null}){var N,O;void 0!==(null==(N=arguments[0])?void 0:N.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(O=arguments[0])?void 0:O.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const C=this._transport.getRenderingIntent(s,l);this.pendingCleanup=!1,x||(x=this._transport.getOptionalContentConfig());let b=this._intentStates.get(C.cacheKey);b||(b=Object.create(null),this._intentStates.set(C.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const n=d||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),r=!!(C.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(C));const y=U=>{b.renderTasks.delete(m),(this.cleanupAfterRender||r)&&(this.pendingCleanup=!0),this._tryCleanup(),U?(m.capability.reject(U),this._abortOperatorList({intentState:b,reason:U instanceof Error?U:new Error(U)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:y,params:{canvasContext:e,viewport:u,transform:f,imageLayer:k,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:F,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:n,useRequestAnimationFrame:!r,pdfBug:this._pdfBug});(b.renderTasks||(b.renderTasks=new Set)).add(m);const A=m.task;return Promise.all([b.displayReadyCapability.promise,x]).then(([U,j])=>{this.pendingCleanup?y():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:U,optionalContentConfig:j}),m.operatorListChanged())}).catch(y),A}getOperatorList({intent:e="display",annotationMode:u=_util.AnnotationMode.ENABLE}={}){const l=this._transport.getRenderingIntent(e,u,!0);let k,f=this._intentStates.get(l.cacheKey);return f||(f=Object.create(null),this._intentStates.set(l.cacheKey,f)),f.opListReadCapability||(k=Object.create(null),k.operatorListChanged=function s(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(k))},f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||(f.renderTasks=new Set)).add(k),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:u=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==e,includeMarkedContent:!0===u},{highWaterMark:100,size:l=>l.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const u=this.streamTextContent(e);return new Promise(function(s,l){const k=u.getReader(),d={items:[],styles:Object.create(null)};!function f(){k.read().then(function({value:a,done:x}){x?s(d):(Object.assign(d.styles,a.styles),d.items.push(...a.items),f())},l)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const e=[];for(const u of this._intentStates.values())if(this._abortOperatorList({intentState:u,reason:new Error("Page was destroyed."),force:!0}),!u.opListReadCapability)for(const s of u.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:u,operatorList:s}of this._intentStates.values())if(u.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,u){const s=this._intentStates.get(u);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(e))}_renderPageChunk(e,u){for(let s=0,l=e.length;s<l;s++)u.operatorList.fnArray.push(e.fnArray[s]),u.operatorList.argsArray.push(e.argsArray[s]);u.operatorList.lastChunk=e.lastChunk;for(const s of u.renderTasks)s.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:u}){const l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:u,annotationStorage:e&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),f=this._intentStates.get(u);f.streamReader=l;const k=()=>{l.read().then(({value:d,done:a})=>{a?f.streamReader=null:this._transport.destroyed||(this._renderPageChunk(d,f),k())},d=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const a of f.renderTasks)a.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(d);else{if(!f.opListReadCapability)throw d;f.opListReadCapability.reject(d)}}})};k()}_abortOperatorList({intentState:e,reason:u,force:s=!1}){if(e.streamReader){if(!s){if(e.renderTasks.size>0)return;if(u instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:u,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(u.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[l,f]of this._intentStates)if(f===e){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,u){const s={data:structuredClone(e,u)};this._deferred.then(()=>{for(const l of this._listeners)l.call(this,s)})}addEventListener(e,u){this._listeners.push(u)}removeEventListener(e,u){const s=this._listeners.indexOf(u);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const t=null==(he=null==document?void 0:document.currentScript)?void 0:he.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(t){return URL.createObjectURL(new Blob([`importScripts("${t}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:t=null,port:e=null,verbosity:u=(0,_util.getVerbosityLevel)()}={}){if(e&&_PDFWorker._workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=u,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e)return _PDFWorker._workerPorts.set(e,this),void this._initializeFromPort(e);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let t=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t),u=new _message_handler.MessageHandler("main","worker",e),s=()=>{e.removeEventListener("error",l),u.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=()=>{this._webWorker||s()};e.addEventListener("error",l),u.on("test",k=>{e.removeEventListener("error",l),this.destroyed?s():k?(this._messageHandler=u,this._port=e,this._webWorker=e,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),u.destroy(),e.terminate())}),u.on("ready",k=>{if(e.removeEventListener("error",l),this.destroyed)s();else try{f()}catch(d){this._setupFakeWorker()}});const f=()=>{const k=new Uint8Array([255]);try{u.send("test",k,[k.buffer])}catch(d){(0,_util.warn)("Cannot use postMessage transfers."),k[0]=0,u.send("test",k)}};return void f()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const e=new LoopbackPort;this._port=e;const u="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(u+"_worker",u,e);t.setup(s,e);const l=new _message_handler.MessageHandler(u,u+"_worker",e);this._messageHandler=l,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!(null==t?void 0:t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(t.port)?this._workerPorts.get(t.port):new _PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var t;try{return(null==(t=globalThis.pdfjsWorker)?void 0:t.WorkerMessageHandler)||null}catch(e){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function t(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(e,u,s,l){Ce(this,L,null),Ce(this,J,new Map),Ce(this,p,new Map),Ce(this,le,null),this.messageHandler=e,this.loadingTask=u,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:u.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this._params=l,l.useWorkerFetch||(this.CMapReaderFactory=new l.CMapReaderFactory({baseUrl:l.cMapUrl,isCompressed:l.cMapPacked}),this.StandardFontDataFactory=new l.StandardFontDataFactory({baseUrl:l.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return ge(this,L)}getRenderingIntent(e,u=_util.AnnotationMode.ENABLE,s=!1){let l=_util.RenderingIntentFlag.DISPLAY,f="";switch(e){case"any":l=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":l=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(u){case _util.AnnotationMode.DISABLE:l+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:l+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:l+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${u}`)}return s&&(l+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:l,cacheKey:`${l}_${f}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of ge(this,J).values())e.push(s._destroy());ge(this,J).clear(),ge(this,p).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const u=this.messageHandler.sendWithPromise("Terminate",null);return e.push(u),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Pe(this,le,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:u}=this;e.on("GetReader",(s,l)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},l.onPull=()=>{this._fullReader.read().then(function({value:f,done:k}){k?l.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{l.error(f)})},l.onCancel=f=>{this._fullReader.cancel(f),l.ready.catch(k=>{if(!this.destroyed)throw k})}}),e.on("ReaderHeadersReady",s=>{const l=(0,_util.createPromiseCapability)(),f=this._fullReader;return f.headersReady.then(()=>{var k;(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&(null==(k=u.onProgress)||k.call(u,this._lastProgress)),f.onProgress=d=>{var a;null==(a=u.onProgress)||a.call(u,{loaded:d.loaded,total:d.total})}),l.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},l.reject),l.promise}),e.on("GetRangeReader",(s,l)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(s.begin,s.end);f?(l.onPull=()=>{f.read().then(function({value:k,done:d}){d?l.close():((0,_util.assert)((0,_util.isArrayBuffer)(k),"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(k),1,[k]))}).catch(k=>{l.error(k)})},l.onCancel=k=>{f.cancel(k),l.ready.catch(d=>{if(!this.destroyed)throw d})}):l.close()}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,u._capability.resolve(new PDFDocumentProxy(s,this))}),e.on("DocException",function(s){let l;switch(s.name){case"PasswordException":l=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":l=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":l=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":l=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":l=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}u._capability.reject(l)}),e.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),u.onPassword){const l=f=>{f instanceof Error?this._passwordCapability.reject(f):this._passwordCapability.resolve({password:f})};try{u.onPassword(l,s.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),e.on("DataLoaded",s=>{var l;null==(l=u.onProgress)||l.call(u,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{this.destroyed||ge(this,J).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,l,f])=>{var k;if(!this.destroyed&&!this.commonObjs.has(s))switch(l){case"Font":const d=this._params;if("error"in f){const F=f.error;(0,_util.warn)(`Error during font loading: ${F}`),this.commonObjs.resolve(s,F);break}let a=null;d.pdfBug&&(null==(k=globalThis.FontInspector)?void 0:k.enabled)&&(a={registerFont(F,C){globalThis.FontInspector.fontAdded(F,C)}});const x=new _font_loader.FontFaceObject(f,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(x).catch(F=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(s,x)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,f);break;default:throw new Error(`Got unknown common object type ${l}`)}}),e.on("obj",([s,l,f,k])=>{var a;if(this.destroyed)return;const d=ge(this,J).get(l);if(!d.objs.has(s))switch(f){case"Image":d.objs.resolve(s,k),(null==(a=null==k?void 0:k.data)?void 0:a.length)>8e6&&(d.cleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,k);break;default:throw new Error(`Got unknown object type ${f}`)}}),e.on("DocProgress",s=>{var l;this.destroyed||null==(l=u.onProgress)||l.call(u,{loaded:s.loaded,total:s.total})}),e.on("DocStats",s=>{this.destroyed||Pe(this,L,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){var u,s;this.destroyed||null==(s=(u=this.loadingTask).onUnsupportedFeature)||s.call(u,e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const u=e-1,s=ge(this,p).get(u);if(s)return s;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:u}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const k=new PDFPageProxy(u,f,this,this._params.ownerDocument,this._params.pdfBug);return ge(this,J).set(u,k),k});return ge(this,p).set(u,l),l}getPageIndex(e){return"object"!=typeof e||null===e||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,u){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:u})}saveDocument(){var e,u;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(u=null==(e=this._fullReader)?void 0:e.filename)?u:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return ge(this,le)||Pe(this,le,this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>{var u,s,l,f;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!=(s=null==(u=this._fullReader)?void 0:u.filename)?s:null,contentLength:null!=(f=null==(l=this._fullReader)?void 0:l.contentLength)?f:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){var u=this;return _asyncToGenerator(function*(){if(yield u.messageHandler.sendWithPromise("Cleanup",null),!u.destroyed){for(const s of ge(u,J).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);u.commonObjs.clear(),e||u.fontLoader.clear(),Pe(u,le,null),u._getFieldObjectsPromise=null,u._hasJSActionsPromise=null}})()}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}L=new WeakMap,J=new WeakMap,p=new WeakMap,le=new WeakMap;class PDFObjects{constructor(){Ce(this,ae),Ce(this,ie,Object.create(null))}get(e,u=null){if(u){const l=ke(this,ae,Ze).call(this,e);return l.capability.promise.then(()=>u(l.data)),null}const s=ge(this,ie)[e];if(!(null==s?void 0:s.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const u=ge(this,ie)[e];return(null==u?void 0:u.capability.settled)||!1}resolve(e,u=null){const s=ke(this,ae,Ze).call(this,e);s.data=u,s.capability.resolve()}clear(){Pe(this,ie,Object.create(null))}}ie=new WeakMap,ae=new WeakSet,Ze=function(e){return ge(this,ie)[e]||(ge(this,ie)[e]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:e,params:u,objs:s,commonObjs:l,annotationCanvasMap:f,operatorList:k,pageIndex:d,canvasFactory:a,useRequestAnimationFrame:x=!1,pdfBug:F=!1}){this.callback=e,this.params=u,this.objs=s,this.commonObjs=l,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=k,this._pageIndex=d,this.canvasFactory=a,this._pdfBug=F,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===x&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=u.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:u}){var a;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(a=globalThis.StepperManager)?void 0:a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:l,transform:f,imageLayer:k,background:d}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,k,u,this.annotationCanvasMap),this.gfx.beginDrawing({transform:f,viewport:l,transparency:e,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var e=this;return _asyncToGenerator(function*(){e.cancelled||(e.operatorListIdx=e.gfx.executeOperatorList(e.operatorList,e.operatorListIdx,e._continueBound,e.stepper),e.operatorListIdx===e.operatorList.argsArray.length&&(e.running=!1,e.operatorList.lastChunk&&(e.gfx.endDrawing(),e._canvas&&InternalRenderTask.canvasInUse.delete(e._canvas),e.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.StatTimer=L.RenderingCancelledException=L.PixelsPerInch=L.PageViewport=L.PDFDateString=L.DOMStandardFontDataFactory=L.DOMSVGFactory=L.DOMCanvasFactory=L.DOMCMapReaderFactory=void 0,L.deprecated=function r(O){console.log("Deprecated API usage: "+O)},L.getFilenameFromUrl=function x(O){const U=O.indexOf("#"),j=O.indexOf("?"),B=Math.min(U>0?U:O.length,j>0?j:O.length);return O.substring(O.lastIndexOf("/",B)+1,B)},L.getPdfFilenameFromUrl=function F(O,U="document.pdf"){if("string"!=typeof O)return U;if(d(O))return(0,le.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),U;const B=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,D=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(O);let H=B.exec(D[1])||B.exec(D[2])||B.exec(D[3]);if(H&&(H=H[0],H.includes("%")))try{H=B.exec(decodeURIComponent(H))[0]}catch(R){}return H||U},L.getXfaPageViewport=function A(O,{scale:U=1,rotation:j=0}){const{width:B,height:D}=O.attributes.style,H=[0,0,parseInt(B),parseInt(D)];return new f({viewBox:H,scale:U,rotation:j})},L.isDataScheme=d,L.isPdfFile=function a(O){return"string"==typeof O&&/\.pdf$/i.test(O)},L.isValidFetchUrl=b,L.loadScript=function n(O,U=!1){return new Promise((j,B)=>{const D=document.createElement("script");D.src=O,D.onload=function(H){U&&D.remove(),j(H)},D.onerror=function(){B(new Error(`Cannot load script at: ${D.src}`))},(document.head||document.documentElement).appendChild(D)})};var p=J(6),le=J(1);const N=class{};let y,ae=N;function t(O){return e.apply(this,arguments)}function e(){return(e=_asyncToGenerator(function*(O,U=!1){if(b(O,document.baseURI)){const j=yield fetch(O);if(!j.ok)throw new Error(j.statusText);return U?new Uint8Array(yield j.arrayBuffer()):(0,le.stringToBytes)(yield j.text())}return new Promise((j,B)=>{const D=new XMLHttpRequest;D.open("GET",O,!0),U&&(D.responseType="arraybuffer"),D.onreadystatechange=()=>{if(D.readyState===XMLHttpRequest.DONE){if(200===D.status||0===D.status){let H;if(U&&D.response?H=new Uint8Array(D.response):!U&&D.responseText&&(H=(0,le.stringToBytes)(D.responseText)),H)return void j(H)}B(new Error(D.statusText))}},D.send(null)})})).apply(this,arguments)}je(ae,"CSS",96),je(ae,"PDF",72),je(ae,"PDF_TO_CSS_UNITS",N.CSS/N.PDF),L.PixelsPerInch=ae,L.DOMCanvasFactory=class te extends p.BaseCanvasFactory{constructor({ownerDocument:U=globalThis.document}={}){super(),this._document=U}_createCanvas(U,j){const B=this._document.createElement("canvas");return B.width=U,B.height=j,B}},L.DOMCMapReaderFactory=class u extends p.BaseCMapReaderFactory{_fetchData(U,j){return t(U,this.isCompressed).then(B=>({cMapData:B,compressionType:j}))}},L.DOMStandardFontDataFactory=class s extends p.BaseStandardFontDataFactory{_fetchData(U){return t(U,!0)}},L.DOMSVGFactory=class l extends p.BaseSVGFactory{_createSVG(U){return document.createElementNS("http://www.w3.org/2000/svg",U)}};class f{constructor({viewBox:U,scale:j,rotation:B,offsetX:D=0,offsetY:H=0,dontFlip:R=!1}){this.viewBox=U,this.scale=j,this.rotation=B,this.offsetX=D,this.offsetY=H;const z=(U[2]+U[0])/2,v=(U[3]+U[1])/2;let c,o,S,_,M,i,P,E;switch((B%=360)<0&&(B+=360),B){case 180:c=-1,o=0,S=0,_=1;break;case 90:c=0,o=1,S=1,_=0;break;case 270:c=0,o=-1,S=-1,_=0;break;case 0:c=1,o=0,S=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}R&&(S=-S,_=-_),0===c?(M=Math.abs(v-U[1])*j+D,i=Math.abs(z-U[0])*j+H,P=Math.abs(U[3]-U[1])*j,E=Math.abs(U[2]-U[0])*j):(M=Math.abs(z-U[0])*j+D,i=Math.abs(v-U[1])*j+H,P=Math.abs(U[2]-U[0])*j,E=Math.abs(U[3]-U[1])*j),this.transform=[c*j,o*j,S*j,_*j,M-c*j*z-S*j*v,i-o*j*z-_*j*v],this.width=P,this.height=E}clone({scale:U=this.scale,rotation:j=this.rotation,offsetX:B=this.offsetX,offsetY:D=this.offsetY,dontFlip:H=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:U,rotation:j,offsetX:B,offsetY:D,dontFlip:H})}convertToViewportPoint(U,j){return le.Util.applyTransform([U,j],this.transform)}convertToViewportRectangle(U){const j=le.Util.applyTransform([U[0],U[1]],this.transform),B=le.Util.applyTransform([U[2],U[3]],this.transform);return[j[0],j[1],B[0],B[1]]}convertToPdfPoint(U,j){return le.Util.applyInverseTransform([U,j],this.transform)}}function d(O){const U=O.length;let j=0;for(;j<U&&""===O[j].trim();)j++;return"data:"===O.substring(j,j+5).toLowerCase()}function b(O,U){try{const{protocol:j}=U?new URL(O,U):new URL(O);return"http:"===j||"https:"===j}catch(j){return!1}}L.PageViewport=f,L.RenderingCancelledException=class k extends le.BaseException{constructor(U,j){super(U,"RenderingCancelledException"),this.type=j}},L.StatTimer=class C{constructor(){this.started=Object.create(null),this.times=[]}time(U){U in this.started&&(0,le.warn)(`Timer is already running for ${U}`),this.started[U]=Date.now()}timeEnd(U){U in this.started||(0,le.warn)(`Timer has not been started for ${U}`),this.times.push({name:U,start:this.started[U],end:Date.now()}),delete this.started[U]}toString(){const U=[];let j=0;for(const B of this.times){const D=B.name;D.length>j&&(j=D.length)}for(const B of this.times){const D=B.end-B.start;U.push(`${B.name.padEnd(j)} ${D}ms\n`)}return U.join("")}},L.PDFDateString=class m{static toDateObject(U){if(!U||"string"!=typeof U)return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const j=y.exec(U);if(!j)return null;const B=parseInt(j[1],10);let D=parseInt(j[2],10);D=D>=1&&D<=12?D-1:0;let H=parseInt(j[3],10);H=H>=1&&H<=31?H:1;let R=parseInt(j[4],10);R=R>=0&&R<=23?R:0;let z=parseInt(j[5],10);z=z>=0&&z<=59?z:0;let v=parseInt(j[6],10);v=v>=0&&v<=59?v:0;const c=j[7]||"Z";let o=parseInt(j[8],10);o=o>=0&&o<=23?o:0;let S=parseInt(j[9],10)||0;return S=S>=0&&S<=59?S:0,"-"===c?(R+=o,z+=S):"+"===c&&(R-=o,z-=S),new Date(Date.UTC(B,D,H,R,z,v))}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.BaseStandardFontDataFactory=L.BaseSVGFactory=L.BaseCanvasFactory=L.BaseCMapReaderFactory=void 0;var p=J(1);class le{constructor(){this.constructor===le&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,u){if(e<=0||u<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,u);return{canvas:s,context:s.getContext("2d")}}reset(e,u,s){if(!e.canvas)throw new Error("Canvas is not specified");if(u<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=u,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,u){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}L.BaseCanvasFactory=le;class ie{constructor({baseUrl:e=null,isCompressed:u=!1}){this.constructor===ie&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=u}fetch({name:e}){var u=this;return _asyncToGenerator(function*(){if(!u.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const s=u.baseUrl+e+(u.isCompressed?".bcmap":"");return u._fetchData(s,u.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(f=>{throw new Error(`Unable to load ${u.isCompressed?"binary ":""}CMap at: ${s}`)})})()}_fetchData(e,u){(0,p.unreachable)("Abstract method `_fetchData` called.")}}L.BaseCMapReaderFactory=ie;class ae{constructor({baseUrl:e=null}){this.constructor===ae&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}fetch({filename:e}){var u=this;return _asyncToGenerator(function*(){if(!u.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const s=`${u.baseUrl}${e}`;return u._fetchData(s).catch(l=>{throw new Error(`Unable to load font data at: ${s}`)})})()}_fetchData(e){(0,p.unreachable)("Abstract method `_fetchData` called.")}}L.BaseStandardFontDataFactory=ae;class te{constructor(){this.constructor===te&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,u){if(e<=0||u<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),s.setAttribute("width",`${e}px`),s.setAttribute("height",`${u}px`),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${u}`),s}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,p.unreachable)("Abstract method `_createSVG` called.")}}L.BaseSVGFactory=te},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.FontLoader=L.FontFaceObject=void 0;var p=J(1);class le{constructor({docId:t,onUnsupportedFeature:e,ownerDocument:u=globalThis.document,styleElement:s=null}){this.constructor===le&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this._document=u,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));const u=e.sheet;u.insertRule(t,u.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(t){var e=this;return _asyncToGenerator(function*(){if(t.attached||t.missingFile)return;if(t.attached=!0,e.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){e.addNativeFontFace(s);try{yield s.loaded}catch(l){throw e._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${s.family}': '${l}'.`),t.disableFontFace=!0,l}}return}const u=t.createFontFaceRule();if(u){if(e.insertRule(u),e.isSyncFontLoadingSupported)return;yield new Promise(s=>{const l=e._queueLoadingCallback(s);e._prepareFontLoadEvent([u],[t],l)})}})()}_queueLoadingCallback(t){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var e;const t=!!(null==(e=this._document)?void 0:e.fonts);return(0,p.shadow)(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,e,u){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ie;L.FontLoader=ie,L.FontLoader=ie=class extends le{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;if("undefined"==typeof navigator)t=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==e?void 0:e[1])>=14&&(t=!0)}return(0,p.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const u=this.loadingContext,s={id:"pdfjs-font-loading-"+u.nextRequestId++,done:!1,complete:function e(){for((0,p.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;u.requests.length>0&&u.requests[0].done;){const l=u.requests.shift();setTimeout(l.callback,0)}},callback:t};return u.requests.push(s),s}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e,u){function s(j,B){return j.charCodeAt(B)<<24|j.charCodeAt(B+1)<<16|j.charCodeAt(B+2)<<8|255&j.charCodeAt(B+3)}function l(j,B,D,H){return j.substring(0,B)+H+j.substring(B+D)}let f,k;const d=this._document.createElement("canvas");d.width=1,d.height=1;const a=d.getContext("2d");let x=0;const C=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=l(b,976,C.length,C);const y=1482184792;let m=s(b,16);for(f=0,k=C.length-3;f<k;f+=4)m=m-y+s(C,f)|0;f<C.length&&(m=m-y+s(C+"XXX",f)|0),b=l(b,16,4,(0,p.string32)(m));const A=`url(data:font/opentype;base64,${btoa(b)});`;this.insertRule(`@font-face {font-family:"${C}";src:${A}}`);const O=[];for(const j of e)O.push(j.loadedName);O.push(C);const U=this._document.createElement("div");U.style.visibility="hidden",U.style.width=U.style.height="10px",U.style.position="absolute",U.style.top=U.style.left="0px";for(const j of O){const B=this._document.createElement("span");B.textContent="Hi",B.style.fontFamily=j,U.appendChild(B)}this._document.body.appendChild(U),function F(j,B){if(x++,x>30)return(0,p.warn)("Load test font never loaded."),void B();a.font="30px "+j,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0?B():setTimeout(F.bind(null,j,B))}(C,()=>{U.remove(),u.complete()})}},L.FontFaceObject=class ae{constructor(t,{isEvalSupported:e=!0,disableFontFace:u=!1,ignoreErrors:s=!1,onUnsupportedFeature:l,fontRegistry:f=null}){this.compiledGlyphs=Object.create(null);for(const k in t)this[k]=t[k];this.isEvalSupported=!1!==e,this.disableFontFace=!0===u,this.ignoreErrors=!0===s,this._onUnsupportedFeature=l,this.fontRegistry=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,p.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let u;if(this.cssFontInfo){let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}else u=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,e),u}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let u;try{u=t.get(this.loadedName+"_path_"+e)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[e]=function(l,f){}}if(this.isEvalSupported&&p.IsEvalSupportedCached.value){const s=[];for(const l of u){const f=void 0!==l.args?l.args.join(","):"";s.push("c.",l.cmd,"(",f,");\n")}return this.compiledGlyphs[e]=new Function("c","size",s.join(""))}return this.compiledGlyphs[e]=function(s,l){for(const f of u)"scale"===f.cmd&&(f.args=[l,-l]),s[f.cmd].apply(s,f.args)}}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.NodeStandardFontDataFactory=L.NodeCanvasFactory=L.NodeCMapReaderFactory=void 0;var p=J(6),le=J(3),ie=J(1);let ae=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCanvasFactory")}};L.NodeCanvasFactory=ae;let te=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCMapReaderFactory")}};L.NodeCMapReaderFactory=te;let t=class{constructor(){(0,ie.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(L.NodeStandardFontDataFactory=t,le.isNodeJS){const e=function(u){return new Promise((s,l)=>{__webpack_require__(172).readFile(u,(k,d)=>{!k&&d?s(new Uint8Array(d)):l(new Error(k))})})};L.NodeCanvasFactory=ae=class extends p.BaseCanvasFactory{_createCanvas(u,s){return __webpack_require__(3414).createCanvas(u,s)}},L.NodeCMapReaderFactory=te=class extends p.BaseCMapReaderFactory{_fetchData(u,s){return e(u).then(l=>({cMapData:l,compressionType:s}))}},L.NodeStandardFontDataFactory=t=class extends p.BaseStandardFontDataFactory{_fetchData(u){return e(u)}}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationStorage=void 0;var p=J(1);L.AnnotationStorage=class le{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ae,te){const t=this._storage.get(ae);return void 0===t?te:Object.assign(te,t)}setValue(ae,te){const t=this._storage.get(ae);let e=!1;if(void 0!==t)for(const[u,s]of Object.entries(te))t[u]!==s&&(e=!0,t[u]=s);else e=!0,this._storage.set(ae,te);e&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,p.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.CanvasGraphics=void 0;var p=J(1),le=J(11),ie=J(5);const t=4096,f=16;function a(v){if(v._transformStack&&(v._transformStack=[]),!v.mozCurrentTransform){v._originalSave=v.save,v._originalRestore=v.restore,v._originalRotate=v.rotate,v._originalScale=v.scale,v._originalTranslate=v.translate,v._originalTransform=v.transform,v._originalSetTransform=v.setTransform,v._originalResetTransform=v.resetTransform,v._transformMatrix=v._transformMatrix||[1,0,0,1,0,0],v._transformStack=[];try{const c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(v),"lineWidth");v._setLineWidth=c.set,v._getLineWidth=c.get,Object.defineProperty(v,"lineWidth",{set:function(S){this._setLineWidth(1.000001*S)},get:function(){return this._getLineWidth()}})}catch(c){}Object.defineProperty(v,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(v,"mozCurrentTransformInverse",{get:function(){const[o,S,_,M,i,P]=this._transformMatrix,E=o*M-S*_,V=S*_-o*M;return[M/E,S/V,_/V,o/E,(M*i-_*P)/V,(S*i-o*P)/E]}}),v.save=function(){const o=this._transformMatrix;this._transformStack.push(o),this._transformMatrix=o.slice(0,6),this._originalSave()},v.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const o=this._transformStack.pop();o&&(this._transformMatrix=o,this._originalRestore())},v.translate=function(o,S){const _=this._transformMatrix;_[4]=_[0]*o+_[2]*S+_[4],_[5]=_[1]*o+_[3]*S+_[5],this._originalTranslate(o,S)},v.scale=function(o,S){const _=this._transformMatrix;_[0]*=o,_[1]*=o,_[2]*=S,_[3]*=S,this._originalScale(o,S)},v.transform=function(o,S,_,M,i,P){const E=this._transformMatrix;this._transformMatrix=[E[0]*o+E[2]*S,E[1]*o+E[3]*S,E[0]*_+E[2]*M,E[1]*_+E[3]*M,E[0]*i+E[2]*P+E[4],E[1]*i+E[3]*P+E[5]],v._originalTransform(o,S,_,M,i,P)},v.setTransform=function(o,S,_,M,i,P){this._transformMatrix=[o,S,_,M,i,P],v._originalSetTransform(o,S,_,M,i,P)},v.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],v._originalResetTransform()},v.rotate=function(o){const S=Math.cos(o),_=Math.sin(o),M=this._transformMatrix;this._transformMatrix=[M[0]*S+M[2]*_,M[1]*S+M[3]*_,M[0]*-_+M[2]*S,M[1]*-_+M[3]*S,M[4],M[5]],this._originalRotate(o)}}}class x{constructor(c){this.canvasFactory=c,this.cache=Object.create(null)}getCanvas(c,o,S,_){let M;return void 0!==this.cache[c]?(M=this.cache[c],this.canvasFactory.reset(M,o,S),M.context.setTransform(1,0,0,1,0,0)):(M=this.canvasFactory.create(o,S),this.cache[c]=M),_&&a(M.context),M}clear(){for(const c in this.cache)this.canvasFactory.destroy(this.cache[c]),delete this.cache[c]}}class C{constructor(c,o){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,c,o])}clone(){const c=Object.create(this);return c.clipBox=this.clipBox.slice(),c}setCurrentPoint(c,o){this.x=c,this.y=o}updatePathMinMax(c,o,S){[o,S]=p.Util.applyTransform([o,S],c),this.minX=Math.min(this.minX,o),this.minY=Math.min(this.minY,S),this.maxX=Math.max(this.maxX,o),this.maxY=Math.max(this.maxY,S)}updateCurvePathMinMax(c,o,S,_,M,i,P,E,V){const g=p.Util.bezierBoundingBox(o,S,_,M,i,P,E,V);this.updatePathMinMax(c,g[0],g[1]),this.updatePathMinMax(c,g[2],g[3])}getPathBoundingBox(c=le.PathType.FILL,o=null){const S=[this.minX,this.minY,this.maxX,this.maxY];if(c===le.PathType.STROKE){o||(0,p.unreachable)("Stroke bounding box must include transform.");const _=p.Util.singularValueDecompose2dScale(o),M=_[0]*this.lineWidth/2,i=_[1]*this.lineWidth/2;S[0]-=M,S[1]-=i,S[2]+=M,S[3]+=i}return S}updateClipFromPath(){const c=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(c||[0,0,0,0])}startNewPathAndClipBox(c){this.clipBox=c,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(c=le.PathType.FILL,o=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(c,o))}}function b(v,c,o=null){if("undefined"!=typeof ImageData&&c instanceof ImageData)return void v.putImageData(c,0,0);const S=c.height,_=c.width,M=S%f,i=(S-M)/f,P=0===M?i:i+1,E=v.createImageData(_,f);let g,V=0;const W=c.data,q=E.data;let $,Z,ne,ue,ce,pe,h,I;if(o)switch(o.length){case 1:ce=o[0],pe=o[0],h=o[0],I=o[0];break;case 4:ce=o[0],pe=o[1],h=o[2],I=o[3]}if(c.kind===p.ImageKind.GRAYSCALE_1BPP){const K=W.byteLength,G=new Uint32Array(q.buffer,0,q.byteLength>>2),Y=G.length,oe=_+7>>3;let fe=4294967295,de=p.IsLittleEndianCached.value?4278190080:255;for(I&&255===I[0]&&0===I[255]&&([fe,de]=[de,fe]),$=0;$<P;$++){for(ne=$<i?f:M,g=0,Z=0;Z<ne;Z++){const _e=K-V;let me=0;const Ae=_e>oe?_:8*_e-7,ve=-8&Ae;let Ee=0,ye=0;for(;me<ve;me+=8)ye=W[V++],G[g++]=128&ye?fe:de,G[g++]=64&ye?fe:de,G[g++]=32&ye?fe:de,G[g++]=16&ye?fe:de,G[g++]=8&ye?fe:de,G[g++]=4&ye?fe:de,G[g++]=2&ye?fe:de,G[g++]=1&ye?fe:de;for(;me<Ae;me++)0===Ee&&(ye=W[V++],Ee=128),G[g++]=ye&Ee?fe:de,Ee>>=1}for(;g<Y;)G[g++]=0;v.putImageData(E,0,$*f)}}else if(c.kind===p.ImageKind.RGBA_32BPP){const K=!!(ce||pe||h);for(Z=0,ue=_*f*4,$=0;$<i;$++){if(q.set(W.subarray(V,V+ue)),V+=ue,K)for(let G=0;G<ue;G+=4)ce&&(q[G+0]=ce[q[G+0]]),pe&&(q[G+1]=pe[q[G+1]]),h&&(q[G+2]=h[q[G+2]]);v.putImageData(E,0,Z),Z+=f}if($<P){if(ue=_*M*4,q.set(W.subarray(V,V+ue)),K)for(let G=0;G<ue;G+=4)ce&&(q[G+0]=ce[q[G+0]]),pe&&(q[G+1]=pe[q[G+1]]),h&&(q[G+2]=h[q[G+2]]);v.putImageData(E,0,Z)}}else{if(c.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${c.kind}`);{const K=!!(ce||pe||h);for(ne=f,ue=_*ne,$=0;$<P;$++){for($>=i&&(ne=M,ue=_*ne),g=0,Z=ue;Z--;)q[g++]=W[V++],q[g++]=W[V++],q[g++]=W[V++],q[g++]=255;if(K)for(let G=0;G<g;G+=4)ce&&(q[G+0]=ce[q[G+0]]),pe&&(q[G+1]=pe[q[G+1]]),h&&(q[G+2]=h[q[G+2]]);v.putImageData(E,0,$*f)}}}}function n(v,c){const o=c.height,S=c.width,_=o%f,M=(o-_)/f,i=0===_?M:M+1,P=v.createImageData(S,f);let E=0;const V=c.data,g=P.data;for(let W=0;W<i;W++){const q=W<M?f:_;let $=3;for(let Z=0;Z<q;Z++){let ne,ue=0;for(let ce=0;ce<S;ce++)ue||(ne=V[E++],ue=128),g[$]=ne&ue?0:255,$+=4,ue>>=1}v.putImageData(P,0,W*f)}}function r(v,c){const o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let S=0,_=o.length;S<_;S++){const M=o[S];void 0!==v[M]&&(c[M]=v[M])}void 0!==v.setLineDash&&(c.setLineDash(v.getLineDash()),c.lineDashOffset=v.lineDashOffset)}function y(v){v.strokeStyle="#000000",v.fillStyle="#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",void 0!==v.setLineDash&&(v.setLineDash([]),v.lineDashOffset=0)}function m(v,c,o,S){const _=v.length;for(let M=3;M<_;M+=4){const i=v[M];if(0===i)v[M-3]=c,v[M-2]=o,v[M-1]=S;else if(i<255){const P=255-i;v[M-3]=v[M-3]*i+c*P>>8,v[M-2]=v[M-2]*i+o*P>>8,v[M-1]=v[M-1]*i+S*P>>8}}}function A(v,c,o){const S=v.length;for(let M=3;M<S;M+=4)c[M]=c[M]*(o?o[v[M]]:v[M])*.00392156862745098|0}function N(v,c,o){const S=v.length;for(let _=3;_<S;_+=4){const M=77*v[_-3]+152*v[_-2]+28*v[_-1];c[_]=o?c[_]*o[M>>8]>>8:c[_]*M>>16}}function j(v,c){const o=p.Util.singularValueDecompose2dScale(v);o[0]=Math.fround(o[0]),o[1]=Math.fround(o[1]);const S=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==c?c:o[0]<=S||o[1]<=S}const B=["butt","round","square"],D=["miter","round","bevel"],H={},R={};class z{constructor(c,o,S,_,M,i,P){this.ctx=c,this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=o,this.objs=S,this.canvasFactory=_,this.imageLayer=M,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=i,this.cachedCanvases=new x(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=P,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,c&&a(c),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:c,viewport:o,transparency:S=!1,background:_=null}){const M=this.ctx.canvas.width,i=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=_||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,M,i),this.ctx.restore(),S){const P=this.cachedCanvases.getCanvas("transparent",M,i,!0);this.compositeCtx=this.ctx,this.transparentCanvas=P.canvas,this.ctx=P.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),y(this.ctx),c&&(this.ctx.transform.apply(this.ctx,c),this.outputScaleX=c[0],this.outputScaleY=c[0]),this.ctx.transform.apply(this.ctx,o.transform),this.viewportScale=o.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(c,o,S,_){const M=c.argsArray,i=c.fnArray;let P=o||0;const E=M.length;if(E===P)return P;const V=E-P>10&&"function"==typeof S,g=V?Date.now()+15:0;let W=0;const q=this.commonObjs,$=this.objs;let Z;for(;;){if(void 0!==_&&P===_.nextBreakPoint)return _.breakIt(P,S),P;if(Z=i[P],Z!==p.OPS.dependency)this[Z].apply(this,M[P]);else for(const ne of M[P]){const ue=ne.startsWith("g_")?q:$;if(!ue.has(ne))return ue.get(ne,S),P}if(P++,P===E)return P;if(V&&++W>10){if(Date.now()>g)return S(),P;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(c,o){const S=c.width,_=c.height;let g,W,M=Math.max(Math.hypot(o[0],o[1]),1),i=Math.max(Math.hypot(o[2],o[3]),1),P=S,E=_,V="prescale1";for(;M>2&&P>1||i>2&&E>1;){let q=P,$=E;M>2&&P>1&&(q=Math.ceil(P/2),M/=P/q),i>2&&E>1&&($=Math.ceil(E/2),i/=E/$),g=this.cachedCanvases.getCanvas(V,q,$),W=g.context,W.clearRect(0,0,q,$),W.drawImage(c,0,0,P,E,0,0,q,$),c=g.canvas,P=q,E=$,V="prescale1"===V?"prescale2":"prescale1"}return{img:c,paintWidth:P,paintHeight:E}}_createMaskCanvas(c){const o=this.ctx,S=c.width,_=c.height,M=this.current.fillColor,i=this.current.patternFill,P=this.cachedCanvases.getCanvas("maskCanvas",S,_);n(P.context,c);let g=p.Util.transform(o.mozCurrentTransform,[1/S,0,0,-1/_,0,0]);g=p.Util.transform(g,[1,0,0,1,0,-_]);const W=p.Util.applyTransform([0,0],g),q=p.Util.applyTransform([S,_],g),$=p.Util.normalizeRect([W[0],W[1],q[0],q[1]]),Z=Math.ceil($[2]-$[0]),ne=Math.ceil($[3]-$[1]),ue=this.cachedCanvases.getCanvas("fillCanvas",Z,ne,!0),ce=ue.context,pe=Math.min(W[0],q[0]),h=Math.min(W[1],q[1]);ce.translate(-pe,-h),ce.transform.apply(ce,g);const I=this._scaleImage(P.canvas,ce.mozCurrentTransformInverse);ce.imageSmoothingEnabled=j(ce.mozCurrentTransform,c.interpolate),ce.drawImage(I.img,0,0,I.img.width,I.img.height,0,0,S,_),ce.globalCompositeOperation="source-in";const K=p.Util.transform(ce.mozCurrentTransformInverse,[1,0,0,1,-pe,-h]);return ce.fillStyle=i?M.getPattern(o,this,K,le.PathType.FILL):M,ce.fillRect(0,0,S,_),{canvas:ue.canvas,offsetX:Math.round(pe),offsetY:Math.round(h)}}setLineWidth(c){this.current.lineWidth=c,this.ctx.lineWidth=c}setLineCap(c){this.ctx.lineCap=B[c]}setLineJoin(c){this.ctx.lineJoin=D[c]}setMiterLimit(c){this.ctx.miterLimit=c}setDash(c,o){const S=this.ctx;void 0!==S.setLineDash&&(S.setLineDash(c),S.lineDashOffset=o)}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(let o=0,S=c.length;o<S;o++){const _=c[o],i=_[1];switch(_[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=_[1];break;case"ca":this.current.fillAlpha=_[1],this.ctx.globalAlpha=_[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const c=this.inSMaskMode;this.current.activeSMask&&!c?this.beginSMaskMode():!this.current.activeSMask&&c&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=_.context;const M=this.ctx;M.setTransform.apply(M,this.suspendedCtx.mozCurrentTransform),r(this.suspendedCtx,M),function d(v,c){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){c.save(),this.__originalSave()},v.restore=function(){c.restore(),this.__originalRestore()},v.translate=function(S,_){c.translate(S,_),this.__originalTranslate(S,_)},v.scale=function(S,_){c.scale(S,_),this.__originalScale(S,_)},v.transform=function(S,_,M,i,P,E){c.transform(S,_,M,i,P,E),this.__originalTransform(S,_,M,i,P,E)},v.setTransform=function(S,_,M,i,P,E){c.setTransform(S,_,M,i,P,E),this.__originalSetTransform(S,_,M,i,P,E)},v.resetTransform=function(){c.resetTransform(),this.__originalResetTransform()},v.rotate=function(S){c.rotate(S),this.__originalRotate(S)},v.clip=function(S){c.clip(S),this.__originalClip(S)},v.moveTo=function(o,S){c.moveTo(o,S),this.__originalMoveTo(o,S)},v.lineTo=function(o,S){c.lineTo(o,S),this.__originalLineTo(o,S)},v.bezierCurveTo=function(o,S,_,M,i,P){c.bezierCurveTo(o,S,_,M,i,P),this.__originalBezierCurveTo(o,S,_,M,i,P)},v.rect=function(o,S,_,M){c.rect(o,S,_,M),this.__originalRect(o,S,_,M)},v.closePath=function(){c.closePath(),this.__originalClosePath()},v.beginPath=function(){c.beginPath(),this.__originalBeginPath()}}(M,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),r(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(c){this.current.activeSMask&&(c?(c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.ceil(c[2]),c[3]=Math.ceil(c[3])):c=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function U(v,c,o,S){const _=S[0],M=S[1],i=S[2]-_,P=S[3]-M;0===i||0===P||(function O(v,c,o,S,_,M,i,P,E,V,g){const W=!!M,q=W?M[0]:0,$=W?M[1]:0,Z=W?M[2]:0;let ne;ne="Luminosity"===_?N:A;const ce=Math.min(S,Math.ceil(1048576/o));for(let pe=0;pe<S;pe+=ce){const h=Math.min(ce,S-pe),I=v.getImageData(P-V,pe+(E-g),o,h),K=c.getImageData(P,pe+E,o,h);W&&m(I.data,q,$,Z),ne(I.data,K.data,i),c.putImageData(K,P,pe+E)}}(c.context,o,i,P,c.subtype,c.backdrop,c.transferMap,_,M,c.offsetX,c.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(o.canvas,0,0),v.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,c),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(r(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const c=this.current;this.stateStack.push(c),this.current=c.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),r(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(c,o,S,_,M,i){this.ctx.transform(c,o,S,_,M,i),this._cachedGetSinglePixelWidth=null}constructPath(c,o){const S=this.ctx,_=this.current;let P,E,M=_.x,i=_.y;for(let V=0,g=0,W=c.length;V<W;V++)switch(0|c[V]){case p.OPS.rectangle:M=o[g++],i=o[g++];const q=o[g++],$=o[g++],Z=M+q,ne=i+$;S.moveTo(M,i),0===q||0===$?S.lineTo(Z,ne):(S.lineTo(Z,i),S.lineTo(Z,ne),S.lineTo(M,ne)),_.updatePathMinMax(S.mozCurrentTransform,M,i),_.updatePathMinMax(S.mozCurrentTransform,Z,ne),S.closePath();break;case p.OPS.moveTo:M=o[g++],i=o[g++],S.moveTo(M,i),_.updatePathMinMax(S.mozCurrentTransform,M,i);break;case p.OPS.lineTo:M=o[g++],i=o[g++],S.lineTo(M,i),_.updatePathMinMax(S.mozCurrentTransform,M,i);break;case p.OPS.curveTo:P=M,E=i,M=o[g+4],i=o[g+5],S.bezierCurveTo(o[g],o[g+1],o[g+2],o[g+3],M,i),_.updateCurvePathMinMax(S.mozCurrentTransform,P,E,o[g],o[g+1],o[g+2],o[g+3],M,i),g+=6;break;case p.OPS.curveTo2:P=M,E=i,S.bezierCurveTo(M,i,o[g],o[g+1],o[g+2],o[g+3]),_.updateCurvePathMinMax(S.mozCurrentTransform,P,E,M,i,o[g],o[g+1],o[g+2],o[g+3]),M=o[g+2],i=o[g+3],g+=4;break;case p.OPS.curveTo3:P=M,E=i,M=o[g+2],i=o[g+3],S.bezierCurveTo(o[g],o[g+1],M,i,M,i),_.updateCurvePathMinMax(S.mozCurrentTransform,P,E,o[g],o[g+1],M,i,M,i),g+=4;break;case p.OPS.closePath:S.closePath()}_.setCurrentPoint(M,i)}closePath(){this.ctx.closePath()}stroke(c){c=void 0===c||c;const o=this.ctx,S=this.current.strokeColor;if(o.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof S&&(null==S?void 0:S.getPattern)){const _=this.getSinglePixelWidth();o.save(),o.strokeStyle=S.getPattern(o,this,o.mozCurrentTransformInverse,le.PathType.STROKE),o.lineWidth=Math.max(_,this.current.lineWidth),o.stroke(),o.restore()}else{const _=this.getSinglePixelWidth();_<0&&-_>=this.current.lineWidth?(o.save(),o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor),o.stroke(),o.restore()):(o.lineWidth=Math.max(_,this.current.lineWidth),o.stroke())}c&&this.consumePath(this.current.getClippedPathBoundingBox()),o.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(c){c=void 0===c||c;const o=this.ctx,S=this.current.fillColor;let M=!1;this.current.patternFill&&(o.save(),o.fillStyle=S.getPattern(o,this,o.mozCurrentTransformInverse,le.PathType.FILL),M=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(o.fill("evenodd"),this.pendingEOFill=!1):o.fill()),M&&o.restore(),c&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=H}eoClip(){this.pendingClip=R}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const c=this.pendingTextPaths,o=this.ctx;if(void 0!==c){o.save(),o.beginPath();for(let S=0;S<c.length;S++){const _=c[S];o.setTransform.apply(o,_.transform),o.translate(_.x,_.y),_.addToPath(o,_.fontSize)}o.restore(),o.clip(),o.beginPath(),delete this.pendingTextPaths}else o.beginPath()}setCharSpacing(c){this.current.charSpacing=c}setWordSpacing(c){this.current.wordSpacing=c}setHScale(c){this.current.textHScale=c/100}setLeading(c){this.current.leading=-c}setFont(c,o){const S=this.commonObjs.get(c),_=this.current;if(!S)throw new Error(`Can't find font for ${c}`);if(_.fontMatrix=S.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===_.fontMatrix[0]||0===_.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+c),o<0?(o=-o,_.fontDirection=-1):_.fontDirection=1,this.current.font=S,this.current.fontSize=o,S.isType3Font)return;let i="normal";S.black?i="900":S.bold&&(i="bold");const P=S.italic?"italic":"normal",E=`"${S.loadedName||"sans-serif"}", ${S.fallbackName}`;let V=o;o<16?V=16:o>100&&(V=100),this.current.fontSizeScale=o/V,this.ctx.font=`${P} ${i} ${V}px ${E}`}setTextRenderingMode(c){this.current.textRenderingMode=c}setTextRise(c){this.current.textRise=c}moveText(c,o){this.current.x=this.current.lineX+=c,this.current.y=this.current.lineY+=o}setLeadingMoveText(c,o){this.setLeading(-o),this.moveText(c,o)}setTextMatrix(c,o,S,_,M,i){this.current.textMatrix=[c,o,S,_,M,i],this.current.textMatrixScale=Math.hypot(c,o),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(c,o,S,_,M){const i=this.ctx,P=this.current,E=P.font,V=P.textRenderingMode,g=P.fontSize/P.fontSizeScale,W=V&p.TextRenderingMode.FILL_STROKE_MASK,q=!!(V&p.TextRenderingMode.ADD_TO_PATH_FLAG),$=P.patternFill&&!E.missingFile;let Z;(E.disableFontFace||q||$)&&(Z=E.getPathGenerator(this.commonObjs,c)),E.disableFontFace||$?(i.save(),i.translate(o,S),i.beginPath(),Z(i,g),_&&i.setTransform.apply(i,_),(W===p.TextRenderingMode.FILL||W===p.TextRenderingMode.FILL_STROKE)&&i.fill(),(W===p.TextRenderingMode.STROKE||W===p.TextRenderingMode.FILL_STROKE)&&(M&&(i.resetTransform(),i.lineWidth=Math.floor(this._combinedScaleFactor)),i.stroke()),i.restore()):((W===p.TextRenderingMode.FILL||W===p.TextRenderingMode.FILL_STROKE)&&i.fillText(c,o,S),(W===p.TextRenderingMode.STROKE||W===p.TextRenderingMode.FILL_STROKE)&&(M?(i.save(),i.moveTo(o,S),i.resetTransform(),i.lineWidth=Math.floor(this._combinedScaleFactor),i.strokeText(c,0,0),i.restore()):i.strokeText(c,o,S))),q&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:o,y:S,fontSize:g,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:c}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);c.scale(1.5,1),c.fillText("I",0,10);const o=c.getImageData(0,0,10,10).data;let S=!1;for(let _=3;_<o.length;_+=4)if(o[_]>0&&o[_]<255){S=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",S)}showText(c){const o=this.current,S=o.font;if(S.isType3Font)return this.showType3Text(c);const _=o.fontSize;if(0===_)return;const M=this.ctx,i=o.fontSizeScale,P=o.charSpacing,E=o.wordSpacing,V=o.fontDirection,g=o.textHScale*V,W=c.length,q=S.vertical,$=q?1:-1,Z=S.defaultVMetrics,ne=_*o.fontMatrix[0],ue=o.textRenderingMode===p.TextRenderingMode.FILL&&!S.disableFontFace&&!o.patternFill;let ce;if(M.save(),M.transform.apply(M,o.textMatrix),M.translate(o.x,o.y+o.textRise),M.scale(g,V>0?-1:1),o.patternFill){M.save();const Y=o.fillColor.getPattern(M,this,M.mozCurrentTransformInverse,le.PathType.FILL);ce=M.mozCurrentTransform,M.restore(),M.fillStyle=Y}let pe=o.lineWidth,h=!1;const I=o.textMatrixScale;if(0===I||0===pe){const Y=o.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(Y===p.TextRenderingMode.STROKE||Y===p.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,pe=this.getSinglePixelWidth(),h=pe<0)}else pe/=I;1!==i&&(M.scale(i,i),pe/=i),M.lineWidth=pe;let G,K=0;for(G=0;G<W;++G){const Y=c[G];if("number"==typeof Y){K+=$*Y*_/1e3;continue}let oe=!1;const fe=(Y.isSpace?E:0)+P,de=Y.fontChar,_e=Y.accent;let me,Ae,Ee,ve=Y.width;if(q){const ye=Y.vmetric||Z,Se=-(Y.vmetric?ye[1]:.5*ve)*ne;ve=ye?-ye[0]:ve,me=Se/i,Ae=(K+ye[2]*ne)/i}else me=K/i,Ae=0;if(S.remeasure&&ve>0){const ye=1e3*M.measureText(de).width/_*i;if(ve<ye&&this.isFontSubpixelAAEnabled){const Se=ve/ye;oe=!0,M.save(),M.scale(Se,1),me/=Se}else ve!==ye&&(me+=(ve-ye)/2e3*_/i)}this.contentVisible&&(Y.isInFont||S.missingFile)&&(ue&&!_e?M.fillText(de,me,Ae):(this.paintChar(de,me,Ae,ce,h),_e&&this.paintChar(_e.fontChar,me+_*_e.offset.x/i,Ae-_*_e.offset.y/i,ce,h))),Ee=q?ve*ne-fe*V:ve*ne+fe*V,K+=Ee,oe&&M.restore()}q?o.y-=K:o.x+=K*g,M.restore(),this.compose()}showType3Text(c){const o=this.ctx,S=this.current,_=S.font,M=S.fontSize,i=S.fontDirection,P=_.vertical?1:-1,E=S.charSpacing,V=S.wordSpacing,g=S.textHScale*i,W=S.fontMatrix||p.FONT_IDENTITY_MATRIX,q=c.length;let Z,ne,ue,ce;if(S.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==M){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,S.textMatrix),o.translate(S.x,S.y),o.scale(g,i),Z=0;Z<q;++Z){if(ne=c[Z],"number"==typeof ne){ce=P*ne*M/1e3,this.ctx.translate(ce,0),S.x+=ce*g;continue}const pe=(ne.isSpace?V:0)+E,h=_.charProcOperatorList[ne.operatorListId];h?(this.contentVisible&&(this.processingType3=ne,this.save(),o.scale(M,M),o.transform.apply(o,W),this.executeOperatorList(h),this.restore()),ue=p.Util.applyTransform([ne.width,0],W)[0]*M+pe,o.translate(ue,0),S.x+=ue*g):(0,p.warn)(`Type3 character "${ne.operatorListId}" is not available.`)}o.restore(),this.processingType3=null}}setCharWidth(c,o){}setCharWidthAndBounds(c,o,S,_,M,i){this.ctx.rect(S,_,M-S,i-_),this.clip(),this.endPath()}getColorN_Pattern(c){let o;if("TilingPattern"===c[0]){const S=c[1],_=this.baseTransform||this.ctx.mozCurrentTransform.slice();o=new le.TilingPattern(c,S,this.ctx,{createCanvasGraphics:i=>new z(i,this.commonObjs,this.objs,this.canvasFactory)},_)}else o=this._getPattern(c[1],c[2]);return o}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(c,o,S){const _=p.Util.makeHexColor(c,o,S);this.ctx.strokeStyle=_,this.current.strokeColor=_}setFillRGBColor(c,o,S){const _=p.Util.makeHexColor(c,o,S);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1}_getPattern(c,o=null){let S;return this.cachedPatterns.has(c)?S=this.cachedPatterns.get(c):(S=(0,le.getShadingPattern)(this.objs.get(c)),this.cachedPatterns.set(c,S)),o&&(S.matrix=o),S}shadingFill(c){if(!this.contentVisible)return;const o=this.ctx;this.save();const S=this._getPattern(c);o.fillStyle=S.getPattern(o,this,o.mozCurrentTransformInverse,le.PathType.SHADING);const _=o.mozCurrentTransformInverse;if(_){const M=o.canvas,i=M.width,P=M.height,E=p.Util.applyTransform([0,0],_),V=p.Util.applyTransform([0,P],_),g=p.Util.applyTransform([i,0],_),W=p.Util.applyTransform([i,P],_),q=Math.min(E[0],V[0],g[0],W[0]),$=Math.min(E[1],V[1],g[1],W[1]),Z=Math.max(E[0],V[0],g[0],W[0]),ne=Math.max(E[1],V[1],g[1],W[1]);this.ctx.fillRect(q,$,Z-q,ne-$)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(c,o){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(c)&&6===c.length&&this.transform.apply(this,c),this.baseTransform=this.ctx.mozCurrentTransform,o)&&(this.ctx.rect(o[0],o[1],o[2]-o[0],o[3]-o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[0],o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[2],o[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(c){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const o=this.ctx;c.isolated||(0,p.info)("TODO: Support non-isolated groups."),c.knockout&&(0,p.warn)("Knockout groups not supported.");const S=o.mozCurrentTransform;if(c.matrix&&o.transform.apply(o,c.matrix),!c.bbox)throw new Error("Bounding box is required.");let _=p.Util.getAxialAlignedBoundingBox(c.bbox,o.mozCurrentTransform);_=p.Util.intersect(_,[0,0,o.canvas.width,o.canvas.height])||[0,0,0,0];const i=Math.floor(_[0]),P=Math.floor(_[1]);let E=Math.max(Math.ceil(_[2])-i,1),V=Math.max(Math.ceil(_[3])-P,1),g=1,W=1;E>t&&(g=E/t,E=t),V>t&&(W=V/t,V=t),this.current.startNewPathAndClipBox([0,0,E,V]);let q="groupAt"+this.groupLevel;c.smask&&(q+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(q,E,V,!0),Z=$.context;Z.scale(1/g,1/W),Z.translate(-i,-P),Z.transform.apply(Z,S),c.smask?this.smaskStack.push({canvas:$.canvas,context:Z,offsetX:i,offsetY:P,scaleX:g,scaleY:W,subtype:c.smask.subtype,backdrop:c.smask.backdrop,transferMap:c.smask.transferMap||null,startTransformInverse:null}):(o.setTransform(1,0,0,1,0,0),o.translate(i,P),o.scale(g,W),o.save()),r(o,Z),this.ctx=Z,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}endGroup(c){if(!this.contentVisible)return;this.groupLevel--;const o=this.ctx,S=this.groupStack.pop();if(this.ctx=S,this.ctx.imageSmoothingEnabled=!1,c.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,_);const M=p.Util.getAxialAlignedBoundingBox([0,0,o.canvas.width,o.canvas.height],_);this.ctx.drawImage(o.canvas,0,0),this.ctx.restore(),this.compose(M)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(c,o,S,_,M){if(this.save(),Array.isArray(o)&&4===o.length){const i=o[2]-o[0],P=o[3]-o[1];if(M&&this.annotationCanvasMap){(S=S.slice())[4]-=o[0],S[5]-=o[1],(o=o.slice())[0]=o[1]=0,o[2]=i,o[3]=P;const[E,V]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:g}=this,W=Math.ceil(i*this.outputScaleX*g),q=Math.ceil(P*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(W,q);const{canvas:$,context:Z}=this.annotationCanvas;$.style.width=`calc(${i}px * var(--viewport-scale-factor))`,$.style.height=`calc(${P}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(c,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Z,this.ctx.setTransform(E,0,0,-V,0,P*V),a(this.ctx),y(this.ctx)}else y(this.ctx),this.ctx.rect(o[0],o[1],i,P),this.clip(),this.endPath()}this.current=new C(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,S),this.transform.apply(this,_)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(c){if(!this.contentVisible)return;const o=this.ctx,S=c.width,_=c.height,M=this.processingType3;if(M&&void 0===M.compiled&&(M.compiled=S<=1e3&&_<=1e3?function F(v){const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),S=v.width,_=v.height,M=S+1;let i,P,E,V;const g=new Uint8Array(M*(_+1)),W=S+7&-8,q=v.data,$=new Uint8Array(W*_);let Z=0;for(i=0,P=q.length;i<P;i++){const h=q[i];let I=128;for(;I>0;)$[Z++]=h&I?0:255,I>>=1}let ne=0;for(Z=0,0!==$[Z]&&(g[0]=1,++ne),E=1;E<S;E++)$[Z]!==$[Z+1]&&(g[E]=$[Z]?2:1,++ne),Z++;for(0!==$[Z]&&(g[E]=2,++ne),i=1;i<_;i++){Z=i*W,V=i*M,$[Z-W]!==$[Z]&&(g[V]=$[Z]?1:8,++ne);let h=($[Z]?4:0)+($[Z-W]?8:0);for(E=1;E<S;E++)h=(h>>2)+($[Z+1]?4:0)+($[Z-W+1]?8:0),o[h]&&(g[V+E]=o[h],++ne),Z++;if($[Z-W]!==$[Z]&&(g[V+E]=$[Z]?2:4,++ne),ne>1e3)return null}for(Z=W*(_-1),V=i*M,0!==$[Z]&&(g[V]=8,++ne),E=1;E<S;E++)$[Z]!==$[Z+1]&&(g[V+E]=$[Z]?4:8,++ne),Z++;if(0!==$[Z]&&(g[V+E]=4,++ne),ne>1e3)return null;const ue=new Int32Array([0,M,-1,0,-M,0,0,0,1]),ce=[];for(i=0;ne&&i<=_;i++){let h=i*M;const I=h+S;for(;h<I&&!g[h];)h++;if(h===I)continue;const K=[h%M,i],G=h;let Y=g[h];do{const oe=ue[Y];do{h+=oe}while(!g[h]);const fe=g[h];5!==fe&&10!==fe?(Y=fe,g[h]=0):(Y=fe&51*Y>>4,g[h]&=Y>>2|Y<<2),K.push(h%M,h/M|0),g[h]||--ne}while(G!==h);ce.push(K),--i}return function(h){h.save(),h.scale(1/S,-1/_),h.translate(0,-_),h.beginPath();for(let I=0,K=ce.length;I<K;I++){const G=ce[I];h.moveTo(G[0],G[1]);for(let Y=2,oe=G.length;Y<oe;Y+=2)h.lineTo(G[Y],G[Y+1])}h.fill(),h.beginPath(),h.restore()}}({data:c.data,width:S,height:_}):null),null==M?void 0:M.compiled)return void M.compiled(o);const i=this._createMaskCanvas(c),P=i.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(P,i.offsetX,i.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(c,o,S=0,_=0,M,i){if(!this.contentVisible)return;const P=this.ctx;P.save();const E=P.mozCurrentTransform;P.transform(o,S,_,M,0,0);const V=this._createMaskCanvas(c);P.setTransform(1,0,0,1,0,0);for(let g=0,W=i.length;g<W;g+=2){const q=p.Util.transform(E,[o,S,_,M,i[g],i[g+1]]),[$,Z]=p.Util.applyTransform([0,0],q);P.drawImage(V.canvas,$,Z)}P.restore(),this.compose()}paintImageMaskXObjectGroup(c){if(!this.contentVisible)return;const o=this.ctx,S=this.current.fillColor,_=this.current.patternFill;for(let M=0,i=c.length;M<i;M++){const P=c[M],E=P.width,V=P.height,g=this.cachedCanvases.getCanvas("maskCanvas",E,V),W=g.context;W.save(),n(W,P),W.globalCompositeOperation="source-in",W.fillStyle=_?S.getPattern(W,this,o.mozCurrentTransformInverse,le.PathType.FILL):S,W.fillRect(0,0,E,V),W.restore(),o.save(),o.transform.apply(o,P.transform),o.scale(1,-1),o.drawImage(g.canvas,0,0,E,V,0,-1,1,1),o.restore()}this.compose()}paintImageXObject(c){if(!this.contentVisible)return;const o=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);o?this.paintInlineImageXObject(o):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(c,o,S,_){if(!this.contentVisible)return;const M=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);if(!M)return void(0,p.warn)("Dependent image isn't ready yet");const i=M.width,P=M.height,E=[];for(let V=0,g=_.length;V<g;V+=2)E.push({transform:[o,0,0,S,_[V],_[V+1]],x:0,y:0,w:i,h:P});this.paintInlineImageXObjectGroup(M,E)}paintInlineImageXObject(c){if(!this.contentVisible)return;const o=c.width,S=c.height,_=this.ctx;let M;if(this.save(),_.scale(1/o,-1/S),"function"==typeof HTMLElement&&c instanceof HTMLElement||!c.data)M=c;else{const P=this.cachedCanvases.getCanvas("inlineImage",o,S);b(P.context,c,this.current.transferMaps),M=P.canvas}const i=this._scaleImage(M,_.mozCurrentTransformInverse);if(_.imageSmoothingEnabled=j(_.mozCurrentTransform,c.interpolate),_.drawImage(i.img,0,0,i.paintWidth,i.paintHeight,0,-S,o,S),this.imageLayer){const P=this.getCanvasPosition(0,-S);this.imageLayer.appendImage({imgData:c,left:P[0],top:P[1],width:o/_.mozCurrentTransformInverse[0],height:S/_.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(c,o){if(!this.contentVisible)return;const S=this.ctx,_=c.width,M=c.height,i=this.cachedCanvases.getCanvas("inlineImage",_,M);b(i.context,c,this.current.transferMaps);for(let E=0,V=o.length;E<V;E++){const g=o[E];if(S.save(),S.transform.apply(S,g.transform),S.scale(1,-1),S.drawImage(i.canvas,g.x,g.y,g.w,g.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(g.x,g.y);this.imageLayer.appendImage({imgData:c,left:W[0],top:W[1],width:_,height:M})}S.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(c){}markPointProps(c,o){}beginMarkedContent(c){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(c,o){this.markedContentStack.push("OC"===c?{visible:this.optionalContentConfig.isVisible(o)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(c){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);const o=this.ctx;this.pendingClip&&(this.pendingClip===R?o.clip("evenodd"):o.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const c=this.ctx.mozCurrentTransform,o=Math.abs(c[0]*c[3]-c[2]*c[1]),S=c[0]**2+c[2]**2,_=c[1]**2+c[3]**2,M=Math.sqrt(Math.max(S,_))/o;this._cachedGetSinglePixelWidth=S!==_&&this._combinedScaleFactor*M>1?-this._combinedScaleFactor*M:o>Number.EPSILON?M:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(c,o){const S=this.ctx.mozCurrentTransform;return[S[0]*c+S[2]*o+S[4],S[1]*c+S[3]*o+S[5]]}isContentVisible(){for(let c=this.markedContentStack.length-1;c>=0;c--)if(!this.markedContentStack[c].visible)return!1;return!0}}L.CanvasGraphics=z;for(const v in p.OPS)void 0!==z.prototype[v]&&(z.prototype[p.OPS[v]]=z.prototype[v])},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.TilingPattern=L.PathType=void 0,L.getShadingPattern=function l(d){switch(d[0]){case"RadialAxial":return new te(d);case"Mesh":return new u(d);case"Dummy":return new s}throw new Error(`Unknown IR type: ${d[0]}`)};var p=J(1);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(d,a){if(!a||"undefined"==typeof Path2D)return;const x=a[2]-a[0],F=a[3]-a[1],C=new Path2D;C.rect(a[0],a[1],x,F),d.clip(C)}L.PathType=le;class ae{constructor(){this.constructor===ae&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class te extends ae{constructor(a){super(),this._type=a[1],this._bbox=a[2],this._colorStops=a[3],this._p0=a[4],this._p1=a[5],this._r0=a[6],this._r1=a[7],this.matrix=null}_createGradient(a){let x;"axial"===this._type?x=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(x=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const F of this._colorStops)x.addColorStop(F[0],F[1]);return x}getPattern(a,x,F,C){let b;if(C===le.STROKE||C===le.FILL){const n=x.current.getClippedPathBoundingBox(C,a.mozCurrentTransform)||[0,0,0,0],r=Math.ceil(n[2]-n[0])||1,y=Math.ceil(n[3]-n[1])||1,m=x.cachedCanvases.getCanvas("pattern",r,y,!0),A=m.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-n[0],-n[1]),F=p.Util.transform(F,[1,0,0,1,n[0],n[1]]),A.transform.apply(A,x.baseTransform),this.matrix&&A.transform.apply(A,this.matrix),ie(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),b=a.createPattern(m.canvas,"no-repeat");const N=new DOMMatrix(F);try{b.setTransform(N)}catch(O){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${null==O?void 0:O.message}".`)}}else ie(a,this._bbox),b=this._createGradient(a);return b}}function t(d,a,x,F,C,b,n,r){const y=a.coords,m=a.colors,A=d.data,N=4*d.width;let O;y[x+1]>y[F+1]&&(O=x,x=F,F=O,O=b,b=n,n=O),y[F+1]>y[C+1]&&(O=F,F=C,C=O,O=n,n=r,r=O),y[x+1]>y[F+1]&&(O=x,x=F,F=O,O=b,b=n,n=O);const U=(y[x]+a.offsetX)*a.scaleX,j=(y[x+1]+a.offsetY)*a.scaleY,B=(y[F]+a.offsetX)*a.scaleX,D=(y[F+1]+a.offsetY)*a.scaleY,H=(y[C]+a.offsetX)*a.scaleX,R=(y[C+1]+a.offsetY)*a.scaleY;if(j>=R)return;const z=m[b],v=m[b+1],c=m[b+2],o=m[n],S=m[n+1],_=m[n+2],M=m[r],i=m[r+1],P=m[r+2],E=Math.round(j),V=Math.round(R);let g,W,q,$,Z,ne,ue,ce;for(let pe=E;pe<=V;pe++){if(pe<D){let Y;Y=pe<j?0:(j-pe)/(j-D),g=U-(U-B)*Y,W=z-(z-o)*Y,q=v-(v-S)*Y,$=c-(c-_)*Y}else{let Y;Y=pe>R?1:D===R?0:(D-pe)/(D-R),g=B-(B-H)*Y,W=o-(o-M)*Y,q=S-(S-i)*Y,$=_-(_-P)*Y}let h;h=pe<j?0:pe>R?1:(j-pe)/(j-R),Z=U-(U-H)*h,ne=z-(z-M)*h,ue=v-(v-i)*h,ce=c-(c-P)*h;const I=Math.round(Math.min(g,Z)),K=Math.round(Math.max(g,Z));let G=N*pe+4*I;for(let Y=I;Y<=K;Y++)h=(g-Y)/(g-Z),h<0?h=0:h>1&&(h=1),A[G++]=W-(W-ne)*h|0,A[G++]=q-(q-ue)*h|0,A[G++]=$-($-ce)*h|0,A[G++]=255}}function e(d,a,x){const F=a.coords,C=a.colors;let b,n;switch(a.type){case"lattice":const r=a.verticesPerRow,y=Math.floor(F.length/r)-1,m=r-1;for(b=0;b<y;b++){let A=b*r;for(let N=0;N<m;N++,A++)t(d,x,F[A],F[A+1],F[A+r],C[A],C[A+1],C[A+r]),t(d,x,F[A+r+1],F[A+1],F[A+r],C[A+r+1],C[A+1],C[A+r])}break;case"triangles":for(b=0,n=F.length;b<n;b+=3)t(d,x,F[b],F[b+1],F[b+2],C[b],C[b+1],C[b+2]);break;default:throw new Error("illegal figure")}}class u extends ae{constructor(a){super(),this._coords=a[2],this._colors=a[3],this._figures=a[4],this._bounds=a[5],this._bbox=a[7],this._background=a[8],this.matrix=null}_createMeshCanvas(a,x,F){const r=Math.floor(this._bounds[0]),y=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-r,A=Math.ceil(this._bounds[3])-y,N=Math.min(Math.ceil(Math.abs(m*a[0]*1.1)),3e3),O=Math.min(Math.ceil(Math.abs(A*a[1]*1.1)),3e3),U=m/N,j=A/O,B={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-y,scaleX:1/U,scaleY:1/j},R=F.getCanvas("mesh",N+4,O+4,!1),z=R.context,v=z.createImageData(N,O);if(x){const o=v.data;for(let S=0,_=o.length;S<_;S+=4)o[S]=x[0],o[S+1]=x[1],o[S+2]=x[2],o[S+3]=255}for(const o of this._figures)e(v,o,B);return z.putImageData(v,2,2),{canvas:R.canvas,offsetX:r-2*U,offsetY:y-2*j,scaleX:U,scaleY:j}}getPattern(a,x,F,C){let b;if(ie(a,this._bbox),C===le.SHADING)b=p.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(b=p.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const r=p.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*r[0],b[1]*r[1]]}const n=this._createMeshCanvas(b,C===le.SHADING?null:this._background,x.cachedCanvases);return C!==le.SHADING&&(a.setTransform.apply(a,x.baseTransform),this.matrix&&a.transform.apply(a,this.matrix)),a.translate(n.offsetX,n.offsetY),a.scale(n.scaleX,n.scaleY),a.createPattern(n.canvas,"no-repeat")}}class s extends ae{getPattern(){return"hotpink"}}class k{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(a,x,F,C,b){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=x,this.ctx=F,this.canvasGraphicsFactory=C,this.baseTransform=b}createPatternCanvas(a){const x=this.operatorList,F=this.bbox,C=this.xstep,b=this.ystep,n=this.paintType,y=this.color,m=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const A=F[0],N=F[1],O=F[2],U=F[3],j=p.Util.singularValueDecompose2dScale(this.matrix),B=p.Util.singularValueDecompose2dScale(this.baseTransform),D=[j[0]*B[0],j[1]*B[1]],H=this.getSizeAndScale(C,this.ctx.canvas.width,D[0]),R=this.getSizeAndScale(b,this.ctx.canvas.height,D[1]),z=a.cachedCanvases.getCanvas("pattern",H.size,R.size,!0),v=z.context,c=m.createCanvasGraphics(v);c.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(c,n,y);let o=A,S=N,_=O,M=U;return A<0&&(o=0,_+=Math.abs(A)),N<0&&(S=0,M+=Math.abs(N)),v.translate(-H.scale*o,-R.scale*S),c.transform(H.scale,0,0,R.scale,0,0),v.save(),this.clipBbox(c,o,S,_,M),c.baseTransform=c.ctx.mozCurrentTransform.slice(),c.executeOperatorList(x),c.endDrawing(),{canvas:z.canvas,scaleX:H.scale,scaleY:R.scale,offsetX:o,offsetY:S}}getSizeAndScale(a,x,F){a=Math.abs(a);const C=Math.max(k.MAX_PATTERN_SIZE,x);let b=Math.ceil(a*F);return b>=C?b=C:F=b/a,{scale:F,size:b}}clipBbox(a,x,F,C,b){a.ctx.rect(x,F,C-x,b-F),a.clip(),a.endPath()}setFillAndStrokeStyleToContext(a,x,F){const C=a.ctx,b=a.current;switch(x){case 1:const n=this.ctx;C.fillStyle=n.fillStyle,C.strokeStyle=n.strokeStyle,b.fillColor=n.fillStyle,b.strokeColor=n.strokeStyle;break;case 2:const r=p.Util.makeHexColor(F[0],F[1],F[2]);C.fillStyle=r,C.strokeStyle=r,b.fillColor=r,b.strokeColor=r;break;default:throw new p.FormatError(`Unsupported paint type: ${x}`)}}getPattern(a,x,F,C){let b=F;C!==le.SHADING&&(b=p.Util.transform(b,x.baseTransform),this.matrix&&(b=p.Util.transform(b,this.matrix)));const n=this.createPatternCanvas(x);let r=new DOMMatrix(b);r=r.translate(n.offsetX,n.offsetY),r=r.scale(1/n.scaleX,1/n.scaleY);const y=a.createPattern(n.canvas,"repeat");try{y.setTransform(r)}catch(m){(0,p.warn)(`TilingPattern.getPattern: "${null==m?void 0:m.message}".`)}return y}}L.TilingPattern=k},(he,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.GlobalWorkerOptions=void 0;const J=Object.create(null);L.GlobalWorkerOptions=J,J.workerPort=void 0===J.workerPort?null:J.workerPort,J.workerSrc=void 0===J.workerSrc?"":J.workerSrc},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.MessageHandler=void 0;var p=J(1);function ae(t){switch(t instanceof Error||"object"==typeof t&&null!==t||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new p.AbortException(t.message);case"MissingPDFException":return new p.MissingPDFException(t.message);case"PasswordException":return new p.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new p.UnknownErrorException(t.message,t.details);default:return new p.UnknownErrorException(t.message,t.toString())}}L.MessageHandler=class te{constructor(e,u,s){this.sourceName=e,this.targetName=u,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{const f=l.data;if(f.targetName!==this.sourceName)return;if(f.stream)return void this._processStreamMessage(f);if(f.callback){const d=f.callbackId,a=this.callbackCapabilities[d];if(!a)throw new Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],1===f.callback)a.resolve(f.data);else{if(2!==f.callback)throw new Error("Unexpected callback case");a.reject(ae(f.reason))}return}const k=this.actionHandler[f.action];if(!k)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const d=this.sourceName,a=f.sourceName;new Promise(function(x){x(k(f.data))}).then(function(x){s.postMessage({sourceName:d,targetName:a,callback:1,callbackId:f.callbackId,data:x})},function(x){s.postMessage({sourceName:d,targetName:a,callback:2,callbackId:f.callbackId,reason:ae(x)})})}else f.streamId?this._createStreamSink(f):k(f.data)},s.addEventListener("message",this._onComObjOnMessage)}on(e,u){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=u}send(e,u,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:u},s)}sendWithPromise(e,u,s){const l=this.callbackId++,f=(0,p.createPromiseCapability)();this.callbackCapabilities[l]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:l,data:u},s)}catch(k){f.reject(k)}return f.promise}sendWithStream(e,u,s,l){const f=this.streamId++,k=this.sourceName,d=this.targetName,a=this.comObj;return new ReadableStream({start:x=>{const F=(0,p.createPromiseCapability)();return this.streamControllers[f]={controller:x,startCall:F,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:k,targetName:d,action:e,streamId:f,data:u,desiredSize:x.desiredSize},l),F.promise},pull:x=>{const F=(0,p.createPromiseCapability)();return this.streamControllers[f].pullCall=F,a.postMessage({sourceName:k,targetName:d,stream:6,streamId:f,desiredSize:x.desiredSize}),F.promise},cancel:x=>{(0,p.assert)(x instanceof Error,"cancel must have a valid reason");const F=(0,p.createPromiseCapability)();return this.streamControllers[f].cancelCall=F,this.streamControllers[f].isClosed=!0,a.postMessage({sourceName:k,targetName:d,stream:1,streamId:f,reason:ae(x)}),F.promise}},s)}_createStreamSink(e){const u=e.streamId,s=this.sourceName,l=e.sourceName,f=this.comObj,k=this,d=this.actionHandler[e.action],a={enqueue(x,F=1,C){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=F,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:s,targetName:l,stream:4,streamId:u,chunk:x},C)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:l,stream:3,streamId:u}),delete k.streamSinks[u])},error(x){(0,p.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:l,stream:5,streamId:u,reason:ae(x)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[u]=a,new Promise(function(x){x(d(e.data,a))}).then(function(){f.postMessage({sourceName:s,targetName:l,stream:8,streamId:u,success:!0})},function(x){f.postMessage({sourceName:s,targetName:l,stream:8,streamId:u,reason:ae(x)})})}_processStreamMessage(e){const u=e.streamId,s=this.sourceName,l=e.sourceName,f=this.comObj,k=this.streamControllers[u],d=this.streamSinks[u];switch(e.stream){case 8:e.success?k.startCall.resolve():k.startCall.reject(ae(e.reason));break;case 7:e.success?k.pullCall.resolve():k.pullCall.reject(ae(e.reason));break;case 6:if(!d){f.postMessage({sourceName:s,targetName:l,stream:7,streamId:u,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,new Promise(function(a){a(d.onPull&&d.onPull())}).then(function(){f.postMessage({sourceName:s,targetName:l,stream:7,streamId:u,success:!0})},function(a){f.postMessage({sourceName:s,targetName:l,stream:7,streamId:u,reason:ae(a)})});break;case 4:if((0,p.assert)(k,"enqueue should have stream controller"),k.isClosed)break;k.controller.enqueue(e.chunk);break;case 3:if((0,p.assert)(k,"close should have stream controller"),k.isClosed)break;k.isClosed=!0,k.controller.close(),this._deleteStreamController(k,u);break;case 5:(0,p.assert)(k,"error should have stream controller"),k.controller.error(ae(e.reason)),this._deleteStreamController(k,u);break;case 2:e.success?k.cancelCall.resolve():k.cancelCall.reject(ae(e.reason)),this._deleteStreamController(k,u);break;case 1:if(!d)break;new Promise(function(a){a(d.onCancel&&d.onCancel(ae(e.reason)))}).then(function(){f.postMessage({sourceName:s,targetName:l,stream:2,streamId:u,success:!0})},function(a){f.postMessage({sourceName:s,targetName:l,stream:2,streamId:u,reason:ae(a)})}),d.sinkCapability.reject(ae(e.reason)),d.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(e,u){var s=this;return _asyncToGenerator(function*(){yield Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete s.streamControllers[u]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(he,L,J)=>{var ie,ae;Object.defineProperty(L,"__esModule",{value:!0}),L.Metadata=void 0;var p=J(1);ie=new WeakMap,ae=new WeakMap,L.Metadata=class le{constructor({parsedData:t,rawData:e}){Ce(this,ie,void 0),Ce(this,ae,void 0),Pe(this,ie,t),Pe(this,ae,e)}getRaw(){return ge(this,ae)}get(t){var e;return null!=(e=ge(this,ie).get(t))?e:null}getAll(){return(0,p.objectFromMap)(ge(this,ie))}has(t){return ge(this,ie).has(t)}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.OptionalContentConfig=void 0;var p=J(1);class le{constructor(te,t){this.visible=!0,this.name=te,this.intent=t}}L.OptionalContentConfig=class ie{constructor(te){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==te){this.name=te.name,this.creator=te.creator,this._order=te.order;for(const t of te.groups)this._groups.set(t.id,new le(t.name,t.intent));if("OFF"===te.baseState)for(const t of this._groups)t.visible=!1;for(const t of te.on)this._groups.get(t).visible=!0;for(const t of te.off)this._groups.get(t).visible=!1}}_evaluateVisibilityExpression(te){const t=te.length;if(t<2)return!0;const e=te[0];for(let u=1;u<t;u++){const s=te[u];let l;if(Array.isArray(s))l=this._evaluateVisibilityExpression(s);else{if(!this._groups.has(s))return(0,p.warn)(`Optional content group not found: ${s}`),!0;l=this._groups.get(s).visible}switch(e){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return"And"===e}isVisible(te){if(0===this._groups.size)return!0;if(!te)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===te.type)return this._groups.has(te.id)?this._groups.get(te.id).visible:((0,p.warn)(`Optional content group not found: ${te.id}`),!0);if("OCMD"===te.type){if(te.expression)return this._evaluateVisibilityExpression(te.expression);if(!te.policy||"AnyOn"===te.policy){for(const t of te.ids){if(!this._groups.has(t))return(0,p.warn)(`Optional content group not found: ${t}`),!0;if(this._groups.get(t).visible)return!0}return!1}if("AllOn"===te.policy){for(const t of te.ids){if(!this._groups.has(t))return(0,p.warn)(`Optional content group not found: ${t}`),!0;if(!this._groups.get(t).visible)return!1}return!0}if("AnyOff"===te.policy){for(const t of te.ids){if(!this._groups.has(t))return(0,p.warn)(`Optional content group not found: ${t}`),!0;if(!this._groups.get(t).visible)return!0}return!1}if("AllOff"===te.policy){for(const t of te.ids){if(!this._groups.has(t))return(0,p.warn)(`Optional content group not found: ${t}`),!0;if(this._groups.get(t).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${te.policy}.`),!0}return(0,p.warn)(`Unknown group type ${te.type}.`),!0}setVisibility(te,t=!0){this._groups.has(te)?this._groups.get(te).visible=!!t:(0,p.warn)(`Optional content group not found: ${te}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(te){return this._groups.get(te)||null}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFDataTransportStream=void 0;var p=J(1),le=J(5);L.PDFDataTransportStream=class ie{constructor(e,u){(0,p.assert)(u,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const s=e.initialData;if((null==s?void 0:s.length)>0){const l=new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=u,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((l,f)=>{this._onReceiveData({begin:l,chunk:f})}),this._pdfDataRangeTransport.addProgressListener((l,f)=>{this._onProgress({loaded:l,total:f})}),this._pdfDataRangeTransport.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const u=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u);else{const s=this._rangeReaders.some(function(l){return l._begin===e.begin&&(l._enqueue(u),!0)});(0,p.assert)(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,u;return null!=(u=null==(e=this._fullRequestReader)?void 0:e._loaded)?u:0}_onProgress(e){if(void 0===e.total){const u=this._rangeReaders[0];(null==u?void 0:u.onProgress)&&u.onProgress({loaded:e.loaded})}else{const u=this._fullRequestReader;(null==u?void 0:u.onProgress)&&u.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const u=this._rangeReaders.indexOf(e);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ae(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,u){if(u<=this._progressiveDataLength)return null;const s=new te(this,e,u);return this._pdfDataRangeTransport.requestDataRange(e,u),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const u of this._rangeReaders.slice(0))u.cancel(e);this._pdfDataRangeTransport.abort()}};class ae{constructor(e,u,s=!1,l=null){this._stream=e,this._done=s||!1,this._filename=(0,le.isPdfFile)(l)?l:null,this._queuedChunks=u||[],this._loaded=0;for(const f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunks.length>0)return{value:e._queuedChunks.shift(),done:!1};if(e._done)return{value:void 0,done:!0};const u=(0,p.createPromiseCapability)();return e._requests.push(u),u.promise})()}cancel(e){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class te{constructor(e,u,s){this._stream=e,this._begin=u,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var e=this;return _asyncToGenerator(function*(){if(e._queuedChunk){const s=e._queuedChunk;return e._queuedChunk=null,{value:s,done:!1}}if(e._done)return{value:void 0,done:!0};const u=(0,p.createPromiseCapability)();return e._requests.push(u),u.promise})()}cancel(e){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(he,L)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaText=void 0;class J{static textContent(le){const ie=[],ae={items:ie,styles:Object.create(null)};return function te(t){var s;if(!t)return;let e=null;const u=t.name;if("#text"===u)e=t.value;else{if(!J.shouldBuildText(u))return;(null==(s=null==t?void 0:t.attributes)?void 0:s.textContent)?e=t.attributes.textContent:t.value&&(e=t.value)}if(null!==e&&ie.push({str:e}),t.children)for(const l of t.children)te(l)}(le),ae}static shouldBuildText(le){return!("textarea"===le||"input"===le||"option"===le||"select"===le)}}L.XfaText=J},(he,L,J)=>{var S,Ke;Object.defineProperty(L,"__esModule",{value:!0}),L.AnnotationLayer=void 0;var p=J(1),le=J(5),ie=J(9),ae=J(19),te=J(20);const t=1e3,e=new WeakSet;function u(M){return{width:M[2]-M[0],height:M[3]-M[1]}}class s{static create(i){switch(i.data.annotationType){case p.AnnotationType.LINK:return new f(i);case p.AnnotationType.TEXT:return new k(i);case p.AnnotationType.WIDGET:switch(i.data.fieldType){case"Tx":return new a(i);case"Btn":return i.data.radioButton?new F(i):i.data.checkBox?new x(i):new C(i);case"Ch":return new b(i)}return new d(i);case p.AnnotationType.POPUP:return new n(i);case p.AnnotationType.FREETEXT:return new y(i);case p.AnnotationType.LINE:return new m(i);case p.AnnotationType.SQUARE:return new A(i);case p.AnnotationType.CIRCLE:return new N(i);case p.AnnotationType.POLYLINE:return new O(i);case p.AnnotationType.CARET:return new j(i);case p.AnnotationType.INK:return new B(i);case p.AnnotationType.POLYGON:return new U(i);case p.AnnotationType.HIGHLIGHT:return new D(i);case p.AnnotationType.UNDERLINE:return new H(i);case p.AnnotationType.SQUIGGLY:return new R(i);case p.AnnotationType.STRIKEOUT:return new z(i);case p.AnnotationType.STAMP:return new v(i);case p.AnnotationType.FILEATTACHMENT:return new c(i);default:return new l(i)}}}class l{constructor(i,{isRenderable:P=!1,ignoreBorder:E=!1,createQuadrilaterals:V=!1}={}){this.isRenderable=P,this.data=i.data,this.layer=i.layer,this.page=i.page,this.viewport=i.viewport,this.linkService=i.linkService,this.downloadManager=i.downloadManager,this.imageResourcesPath=i.imageResourcesPath,this.renderForms=i.renderForms,this.svgFactory=i.svgFactory,this.annotationStorage=i.annotationStorage,this.enableScripting=i.enableScripting,this.hasJSActions=i.hasJSActions,this._fieldObjects=i.fieldObjects,this._mouseState=i.mouseState,P&&(this.container=this._createContainer(E)),V&&(this.quadrilaterals=this._createQuadrilaterals(E))}_createContainer(i=!1){const P=this.data,E=this.page,V=this.viewport,g=document.createElement("section");let{width:W,height:q}=u(P.rect);g.setAttribute("data-annotation-id",P.id);const $=p.Util.normalizeRect([P.rect[0],E.view[3]-P.rect[1]+E.view[1],P.rect[2],E.view[3]-P.rect[3]+E.view[1]]);if(P.hasOwnCanvas){const Z=V.transform.slice(),[ne,ue]=p.Util.singularValueDecompose2dScale(Z);W=Math.ceil(W*ne),q=Math.ceil(q*ue),$[0]*=ne,$[1]*=ue;for(let ce=0;ce<4;ce++)Z[ce]=Math.sign(Z[ce]);g.style.transform=`matrix(${Z.join(",")})`}else g.style.transform=`matrix(${V.transform.join(",")})`;if(g.style.transformOrigin=`${-$[0]}px ${-$[1]}px`,!i&&P.borderStyle.width>0){g.style.borderWidth=`${P.borderStyle.width}px`,P.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(W-=2*P.borderStyle.width,q-=2*P.borderStyle.width);const Z=P.borderStyle.horizontalCornerRadius,ne=P.borderStyle.verticalCornerRadius;switch((Z>0||ne>0)&&(g.style.borderRadius=`${Z}px / ${ne}px`),P.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:g.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:g.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:g.style.borderBottomStyle="solid"}P.borderColor||P.color?g.style.borderColor=p.Util.makeHexColor(0|P.color[0],0|P.color[1],0|P.color[2]):g.style.borderWidth=0}return g.style.left=`${$[0]}px`,g.style.top=`${$[1]}px`,P.hasOwnCanvas?g.style.width=g.style.height="auto":(g.style.width=`${W}px`,g.style.height=`${q}px`),g}_createQuadrilaterals(i=!1){if(!this.data.quadPoints)return null;const P=[],E=this.data.rect;for(const V of this.data.quadPoints)this.data.rect=[V[2].x,V[2].y,V[1].x,V[1].y],P.push(this._createContainer(i));return this.data.rect=E,P}_createPopup(i,P){let E=this.container;this.quadrilaterals&&(i=i||this.quadrilaterals,E=this.quadrilaterals[0]),i||((i=document.createElement("div")).style.height=E.style.height,i.style.width=E.style.width,E.appendChild(i));const g=new r({container:E,trigger:i,color:P.color,titleObj:P.titleObj,modificationDate:P.modificationDate,contentsObj:P.contentsObj,richText:P.richText,hideWrapper:!0}).render();g.style.left=E.style.width,E.appendChild(g)}_renderQuadrilaterals(i){for(const P of this.quadrilaterals)P.className=i;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(i,P=null){const E=[];if(this._fieldObjects){const V=this._fieldObjects[i];if(V)for(const{page:g,id:W,exportValues:q}of V){if(-1===g||W===P)continue;const $="string"==typeof q?q:null,Z=document.getElementById(W);!Z||e.has(Z)?E.push({id:W,exportValue:$,domElement:Z}):(0,p.warn)(`_getElementsByName - element not allowed: ${W}`)}return E}for(const V of document.getElementsByName(i)){const{id:g,exportValue:W}=V;g!==P&&(!e.has(V)||E.push({id:g,exportValue:W,domElement:V}))}return E}static get platform(){const i="undefined"!=typeof navigator?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:i.includes("Win"),isMac:i.includes("Mac")})}}class f extends l{constructor(i,P=null){super(i,{isRenderable:!!(i.data.url||i.data.dest||i.data.action||i.data.isTooltipOnly||i.data.resetForm||i.data.actions&&(i.data.actions.Action||i.data.actions["Mouse Up"]||i.data.actions["Mouse Down"])),ignoreBorder:!!(null==P?void 0:P.ignoreBorder),createQuadrilaterals:!0})}render(){var V;const{data:i,linkService:P}=this,E=document.createElement("a");if(i.url)P.addLinkAttributes||(0,p.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(V=P.addLinkAttributes)||V.call(P,E,i.url,i.newWindow);else if(i.action)this._bindNamedAction(E,i.action);else if(i.dest)this._bindLink(E,i.dest);else{let g=!1;i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(g=!0,this._bindJSAction(E,i)),i.resetForm?this._bindResetFormAction(E,i.resetForm):g||this._bindLink(E,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((g,W)=>{const q=0===W?E:E.cloneNode();return g.appendChild(q),g}):(this.container.className="linkAnnotation",this.container.appendChild(E),this.container)}_bindLink(i,P){i.href=this.linkService.getDestinationHash(P),i.onclick=()=>(P&&this.linkService.goToDestination(P),!1),(P||""===P)&&(i.className="internalLink")}_bindNamedAction(i,P){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(P),!1),i.className="internalLink"}_bindJSAction(i,P){i.href=this.linkService.getAnchorUrl("");const E=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const V of Object.keys(P.actions)){const g=E.get(V);!g||(i[g]=()=>{var W;return null==(W=this.linkService.eventBus)||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P.id,name:V}}),!1})}i.onclick||(i.onclick=()=>!1),i.className="internalLink"}_bindResetFormAction(i,P){const E=i.onclick;if(E||(i.href=this.linkService.getAnchorUrl("")),i.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(E||(i.onclick=()=>!1));i.onclick=()=>{var ne;E&&E();const{fields:V,refs:g,include:W}=P,q=[];if(0!==V.length||0!==g.length){const ue=new Set(g);for(const ce of V){const pe=this._fieldObjects[ce]||[];for(const{id:h}of pe)ue.add(h)}for(const ce of Object.values(this._fieldObjects))for(const pe of ce)ue.has(pe.id)===W&&q.push(pe)}else for(const ue of Object.values(this._fieldObjects))q.push(...ue);const $=this.annotationStorage,Z=[];for(const ue of q){const{id:ce}=ue;switch(Z.push(ce),ue.type){case"text":{const h=ue.defaultValue||"";$.setValue(ce,{value:h,valueAsString:h});break}case"checkbox":case"radiobutton":$.setValue(ce,{value:ue.defaultValue===ue.exportValues});break;case"combobox":case"listbox":$.setValue(ce,{value:ue.defaultValue||""});break;default:continue}const pe=document.getElementById(ce);!pe||!e.has(pe)||pe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(ne=this.linkService.eventBus)||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Z,name:"ResetForm"}})),!1}}}class k extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str))})}render(){this.container.className="textAnnotation";const i=document.createElement("img");return i.style.height=this.container.style.height,i.style.width=this.container.style.width,i.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",i.alt="[{{type}} Annotation]",i.dataset.l10nId="text_annotation_type",i.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(i,this.data),this.container.appendChild(i),this.container}}class d extends l{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(i){const{isWin:P,isMac:E}=l.platform;return P&&i.ctrlKey||E&&i.metaKey}_setEventListener(i,P,E,V){P.includes("mouse")?i.addEventListener(P,g=>{var W;null==(W=this.linkService.eventBus)||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:V(g),shift:g.shiftKey,modifier:this._getKeyModifier(g)}})}):i.addEventListener(P,g=>{var W;null==(W=this.linkService.eventBus)||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:V(g)}})})}_setEventListeners(i,P,E){var V;for(const[g,W]of P)("Action"===W||(null==(V=this.data.actions)?void 0:V[W]))&&this._setEventListener(i,g,W,E)}_setBackgroundColor(i){const P=this.data.backgroundColor||null;i.style.backgroundColor=null===P?"transparent":p.Util.makeHexColor(P[0],P[1],P[2])}_dispatchEventFromSandbox(i,P){const E=(g,W,q)=>{const $=q.detail[g];q.target.style[W]=ae.ColorConverters[`${$[0]}_HTML`]($.slice(1))},V={display:g=>{const W=g.detail.display%2==1;g.target.style.visibility=W?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:W,print:0===g.detail.display||3===g.detail.display})},print:g=>{this.annotationStorage.setValue(this.data.id,{print:g.detail.print})},hidden:g=>{g.target.style.visibility=g.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:g.detail.hidden})},focus:g=>{setTimeout(()=>g.target.focus({preventScroll:!1}),0)},userName:g=>{g.target.title=g.detail.userName},readonly:g=>{g.detail.readonly?g.target.setAttribute("readonly",""):g.target.removeAttribute("readonly")},required:g=>{g.detail.required?g.target.setAttribute("required",""):g.target.removeAttribute("required")},bgColor:g=>{E("bgColor","backgroundColor",g)},fillColor:g=>{E("fillColor","backgroundColor",g)},fgColor:g=>{E("fgColor","color",g)},textColor:g=>{E("textColor","color",g)},borderColor:g=>{E("borderColor","borderColor",g)},strokeColor:g=>{E("strokeColor","borderColor",g)}};for(const g of Object.keys(P.detail)){const W=i[g]||V[g];W&&W(P)}}}class a extends d{constructor(i){super(i,{isRenderable:i.renderForms||!i.data.hasAppearance&&!!i.data.fieldValue})}setPropertyOnSiblings(i,P,E,V){const g=this.annotationStorage;for(const W of this._getElementsByName(i.name,i.id))W.domElement&&(W.domElement[P]=E),g.setValue(W.id,{[V]:E})}render(){var V;const i=this.annotationStorage,P=this.data.id;this.container.className="textWidgetAnnotation";let E=null;if(this.renderForms){const g=i.getValue(P,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),W=g.valueAsString||g.value||"",q={userValue:null,formattedValue:null};this.data.multiLine?(E=document.createElement("textarea"),E.textContent=W):(E=document.createElement("input"),E.type="text",E.setAttribute("value",W)),e.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.tabIndex=t,q.userValue=W,E.setAttribute("id",P),E.addEventListener("input",Z=>{i.setValue(P,{value:Z.target.value}),this.setPropertyOnSiblings(E,"value",Z.target.value,"value")}),E.addEventListener("resetform",Z=>{E.value=q.userValue=this.data.defaultFieldValue||"",delete q.formattedValue});let $=Z=>{q.formattedValue&&(Z.target.value=q.formattedValue),Z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){E.addEventListener("focus",ne=>{q.userValue&&(ne.target.value=q.userValue)}),E.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({value(ce){q.userValue=ce.detail.value||"",i.setValue(P,{value:q.userValue.toString()}),q.formattedValue||(ce.target.value=q.userValue)},valueAsString(ce){q.formattedValue=ce.detail.valueAsString||"",ce.target!==document.activeElement&&(ce.target.value=q.formattedValue),i.setValue(P,{formattedValue:q.formattedValue})},selRange(ce){const[pe,h]=ce.detail.selRange;pe>=0&&h<ce.target.value.length&&ce.target.setSelectionRange(pe,h)}},ne)}),E.addEventListener("keydown",ne=>{var ce;let ue=-1;"Escape"===ne.key?ue=0:"Enter"===ne.key?ue=2:"Tab"===ne.key&&(ue=3),-1!==ue&&(q.userValue=ne.target.value,null==(ce=this.linkService.eventBus)||ce.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:ne.target.value,willCommit:!0,commitKey:ue,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}}))});const Z=$;$=null,E.addEventListener("blur",ne=>{var ue;q.userValue=ne.target.value,this._mouseState.isDown&&(null==(ue=this.linkService.eventBus)||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:ne.target.value,willCommit:!0,commitKey:1,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}})),Z(ne)}),(null==(V=this.data.actions)?void 0:V.Keystroke)&&E.addEventListener("beforeinput",ne=>{var K;q.formattedValue="";const{data:ue,target:ce}=ne,{value:pe,selectionStart:h,selectionEnd:I}=ce;null==(K=this.linkService.eventBus)||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:pe,change:ue,willCommit:!1,selStart:h,selEnd:I}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ne=>ne.target.value)}if($&&E.addEventListener("blur",$),null!==this.data.maxLen&&(E.maxLength=this.data.maxLen),this.data.comb){const ne=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;E.classList.add("comb"),E.style.letterSpacing=`calc(${ne}px - 1ch)`}}else E=document.createElement("div"),E.textContent=this.data.fieldValue,E.style.verticalAlign="middle",E.style.display="table-cell";return this._setTextStyle(E),this._setBackgroundColor(E),this.container.appendChild(E),this.container}_setTextStyle(i){const{fontSize:E,fontColor:V}=this.data.defaultAppearanceData,g=i.style;E&&(g.fontSize=`${E}px`),g.color=p.Util.makeHexColor(V[0],V[1],V[2]),null!==this.data.textAlignment&&(g.textAlign=["left","center","right"][this.data.textAlignment])}}class x extends d{constructor(i){super(i,{isRenderable:i.renderForms})}render(){const i=this.annotationStorage,P=this.data,E=P.id;let V=i.getValue(E,{value:P.exportValue===P.fieldValue}).value;"string"==typeof V&&(V="Off"!==V,i.setValue(E,{value:V})),this.container.className="buttonWidgetAnnotation checkBox";const g=document.createElement("input");return e.add(g),g.disabled=P.readOnly,g.type="checkbox",g.name=P.fieldName,V&&g.setAttribute("checked",!0),g.setAttribute("id",E),g.setAttribute("exportValue",P.exportValue),g.tabIndex=t,g.addEventListener("change",W=>{const{name:q,checked:$}=W.target;for(const Z of this._getElementsByName(q,E)){const ne=$&&Z.exportValue===P.exportValue;Z.domElement&&(Z.domElement.checked=ne),i.setValue(Z.id,{value:ne})}i.setValue(E,{value:$})}),g.addEventListener("resetform",W=>{W.target.checked=(P.defaultFieldValue||"Off")===P.exportValue}),this.enableScripting&&this.hasJSActions&&(g.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value($){$.target.checked="Off"!==$.detail.value,i.setValue(E,{value:$.target.checked})}},W)}),this._setEventListeners(g,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)),this._setBackgroundColor(g),this.container.appendChild(g),this.container}}class F extends d{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const i=this.annotationStorage,P=this.data,E=P.id;let V=i.getValue(E,{value:P.fieldValue===P.buttonValue}).value;"string"==typeof V&&(V=V!==P.buttonValue,i.setValue(E,{value:V}));const g=document.createElement("input");if(e.add(g),g.disabled=P.readOnly,g.type="radio",g.name=P.fieldName,V&&g.setAttribute("checked",!0),g.setAttribute("id",E),g.tabIndex=t,g.addEventListener("change",W=>{const{name:q,checked:$}=W.target;for(const Z of this._getElementsByName(q,E))i.setValue(Z.id,{value:!1});i.setValue(E,{value:$})}),g.addEventListener("resetform",W=>{const q=P.defaultFieldValue;W.target.checked=null!=q&&q===P.buttonValue}),this.enableScripting&&this.hasJSActions){const W=P.buttonValue;g.addEventListener("updatefromsandbox",q=>{this._dispatchEventFromSandbox({value:Z=>{const ne=W===Z.detail.value;for(const ue of this._getElementsByName(Z.target.name)){const ce=ne&&ue.id===E;ue.domElement&&(ue.domElement.checked=ce),i.setValue(ue.id,{value:ce})}}},q)}),this._setEventListeners(g,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],q=>q.target.checked)}return this._setBackgroundColor(g),this.container.appendChild(g),this.container}}class C extends f{constructor(i){super(i,{ignoreBorder:i.data.hasAppearance})}render(){const i=super.render();return i.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(i.title=this.data.alternativeText),i}}class b extends d{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const i=this.annotationStorage,P=this.data.id;i.getValue(P,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:E}=this.data.defaultAppearanceData;E||(E=9);const V=`calc(${E}px * var(--zoom-factor))`,g=document.createElement("select");e.add(g),g.disabled=this.data.readOnly,g.name=this.data.fieldName,g.setAttribute("id",P),g.tabIndex=t,g.style.fontSize=`${E}px`,this.data.combo||(g.size=this.data.options.length,this.data.multiSelect&&(g.multiple=!0)),g.addEventListener("resetform",$=>{const Z=this.data.defaultFieldValue;for(const ne of g.options)ne.selected=ne.value===Z});for(const $ of this.data.options){const Z=document.createElement("option");Z.textContent=$.displayValue,Z.value=$.exportValue,this.data.combo&&(Z.style.fontSize=V),this.data.fieldValue.includes($.exportValue)&&Z.setAttribute("selected",!0),g.appendChild(Z)}const W=($,Z)=>{const ne=Z?"value":"textContent",ue=$.target.options;return $.target.multiple?Array.prototype.filter.call(ue,ce=>ce.selected).map(ce=>ce[ne]):-1===ue.selectedIndex?null:ue[ue.selectedIndex][ne]},q=$=>Array.prototype.map.call($.target.options,ne=>({displayValue:ne.textContent,exportValue:ne.value}));return this.enableScripting&&this.hasJSActions?(g.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(ne){const ue=ne.detail.value,ce=new Set(Array.isArray(ue)?ue:[ue]);for(const pe of g.options)pe.selected=ce.has(pe.value);i.setValue(P,{value:W(ne,!0)})},multipleSelection(ne){g.multiple=!0},remove(ne){const ue=g.options,ce=ne.detail.remove;ue[ce].selected=!1,g.remove(ce),ue.length>0&&-1===Array.prototype.findIndex.call(ue,h=>h.selected)&&(ue[0].selected=!0),i.setValue(P,{value:W(ne,!0),items:q(ne)})},clear(ne){for(;0!==g.length;)g.remove(0);i.setValue(P,{value:null,items:[]})},insert(ne){const{index:ue,displayValue:ce,exportValue:pe}=ne.detail.insert,h=document.createElement("option");h.textContent=ce,h.value=pe,g.insertBefore(h,g.children[ue]),i.setValue(P,{value:W(ne,!0),items:q(ne)})},items(ne){const{items:ue}=ne.detail;for(;0!==g.length;)g.remove(0);for(const ce of ue){const{displayValue:pe,exportValue:h}=ce,I=document.createElement("option");I.textContent=pe,I.value=h,g.appendChild(I)}g.options.length>0&&(g.options[0].selected=!0),i.setValue(P,{value:W(ne,!0),items:q(ne)})},indices(ne){const ue=new Set(ne.detail.indices);for(const ce of ne.target.options)ce.selected=ue.has(ce.index);i.setValue(P,{value:W(ne,!0)})},editable(ne){ne.target.disabled=!ne.detail.editable}},$)}),g.addEventListener("input",$=>{var ue;const Z=W($,!0),ne=W($,!1);i.setValue(P,{value:Z}),null==(ue=this.linkService.eventBus)||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:ne,changeEx:Z,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):g.addEventListener("input",function($){i.setValue(P,{value:W($)})}),this._setBackgroundColor(g),this.container.appendChild(g),this.container}}class n extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!((null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const E=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===E.length)return this.container;const V=new r({container:this.container,trigger:Array.from(E),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),g=this.page,W=p.Util.normalizeRect([this.data.parentRect[0],g.view[3]-this.data.parentRect[1]+g.view[1],this.data.parentRect[2],g.view[3]-this.data.parentRect[3]+g.view[1]]),q=W[0]+this.data.parentRect[2]-this.data.parentRect[0],$=W[1];return this.container.style.transformOrigin=`${-q}px ${-$}px`,this.container.style.left=`${q}px`,this.container.style.top=`${$}px`,this.container.appendChild(V.render()),this.container}}class r{constructor(i){this.container=i.container,this.trigger=i.trigger,this.color=i.color,this.titleObj=i.titleObj,this.modificationDate=i.modificationDate,this.contentsObj=i.contentsObj,this.richText=i.richText,this.hideWrapper=i.hideWrapper||!1,this.pinned=!1}render(){var q,$;const P=document.createElement("div");P.className="popupWrapper",this.hideElement=this.hideWrapper?P:this.container,this.hideElement.hidden=!0;const E=document.createElement("div");E.className="popup";const V=this.color;V&&(E.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-V[0])+V[0],0|.7*(255-V[1])+V[1],0|.7*(255-V[2])+V[2]));const g=document.createElement("h1");g.dir=this.titleObj.dir,g.textContent=this.titleObj.str,E.appendChild(g);const W=le.PDFDateString.toDateObject(this.modificationDate);if(W){const Z=document.createElement("span");Z.className="popupDate",Z.textContent="{{date}}, {{time}}",Z.dataset.l10nId="annotation_date_string",Z.dataset.l10nArgs=JSON.stringify({date:W.toLocaleDateString(),time:W.toLocaleTimeString()}),E.appendChild(Z)}if(!(null==(q=this.richText)?void 0:q.str)||(null==($=this.contentsObj)?void 0:$.str)&&this.contentsObj.str!==this.richText.str){const Z=this._formatContents(this.contentsObj);E.appendChild(Z)}else te.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:E}),E.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Z of this.trigger)Z.addEventListener("click",this._toggle.bind(this)),Z.addEventListener("mouseover",this._show.bind(this,!1)),Z.addEventListener("mouseout",this._hide.bind(this,!1));return E.addEventListener("click",this._hide.bind(this,!0)),P.appendChild(E),P}_formatContents({str:i,dir:P}){const E=document.createElement("p");E.className="popupContent",E.dir=P;const V=i.split(/(?:\r\n?|\n)/);for(let g=0,W=V.length;g<W;++g)E.appendChild(document.createTextNode(V[g])),g<W-1&&E.appendChild(document.createElement("br"));return E}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(i=!1){i&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(i=!0){i&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class m extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const i=this.data,{width:P,height:E}=u(i.rect),V=this.svgFactory.create(P,E),g=this.svgFactory.createElement("svg:line");return g.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),g.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),g.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),g.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),g.setAttribute("stroke-width",i.borderStyle.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),V.appendChild(g),this.container.append(V),this._createPopup(g,i),this.container}}class A extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const i=this.data,{width:P,height:E}=u(i.rect),V=this.svgFactory.create(P,E),g=i.borderStyle.width,W=this.svgFactory.createElement("svg:rect");return W.setAttribute("x",g/2),W.setAttribute("y",g/2),W.setAttribute("width",P-g),W.setAttribute("height",E-g),W.setAttribute("stroke-width",g||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),V.appendChild(W),this.container.append(V),this._createPopup(W,i),this.container}}class N extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const i=this.data,{width:P,height:E}=u(i.rect),V=this.svgFactory.create(P,E),g=i.borderStyle.width,W=this.svgFactory.createElement("svg:ellipse");return W.setAttribute("cx",P/2),W.setAttribute("cy",E/2),W.setAttribute("rx",P/2-g/2),W.setAttribute("ry",E/2-g/2),W.setAttribute("stroke-width",g||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),V.appendChild(W),this.container.append(V),this._createPopup(W,i),this.container}}class O extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const i=this.data,{width:P,height:E}=u(i.rect),V=this.svgFactory.create(P,E);let g=[];for(const q of i.vertices)g.push(q.x-i.rect[0]+","+(i.rect[3]-q.y));g=g.join(" ");const W=this.svgFactory.createElement(this.svgElementName);return W.setAttribute("points",g),W.setAttribute("stroke-width",i.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),V.appendChild(W),this.container.append(V),this._createPopup(W,i),this.container}}class U extends O{constructor(i){super(i),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class j extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class B extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const i=this.data,{width:P,height:E}=u(i.rect),V=this.svgFactory.create(P,E);for(const g of i.inkLists){let W=[];for(const $ of g)W.push(`${$.x-i.rect[0]},${i.rect[3]-$.y}`);W=W.join(" ");const q=this.svgFactory.createElement(this.svgElementName);q.setAttribute("points",W),q.setAttribute("stroke-width",i.borderStyle.width||1),q.setAttribute("stroke","transparent"),q.setAttribute("fill","transparent"),this._createPopup(q,i),V.appendChild(q)}return this.container.append(V),this.container}}class D extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class H extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class R extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class z extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class v extends l{constructor(i){var E,V,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(V=i.data.contentsObj)?void 0:V.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class c extends l{constructor(i){var V;super(i,{isRenderable:!0});const{filename:P,content:E}=this.data.file;this.filename=(0,le.getFilenameFromUrl)(P),this.content=E,null==(V=this.linkService.eventBus)||V.dispatch("fileattachmentannotation",{source:this,id:(0,p.stringToPDFString)(P),filename:P,content:E})}render(){var P,E;this.container.className="fileAttachmentAnnotation";const i=document.createElement("div");return i.style.height=this.container.style.height,i.style.width=this.container.style.width,i.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(P=this.data.titleObj)?void 0:P.str)||(null==(E=this.data.contentsObj)?void 0:E.str)||this.data.richText)&&this._createPopup(i,this.data),this.container.appendChild(i),this.container}_download(){var i;null==(i=this.downloadManager)||i.openOrDownloadData(this.container,this.content,this.filename)}}class o{static render(i){const P=[],E=[];for(const g of i.annotations){if(!g)continue;const{width:W,height:q}=u(g.rect);if(!(W<=0||q<=0)){if(g.annotationType===p.AnnotationType.POPUP){E.push(g);continue}P.push(g)}}E.length&&P.push(...E);const V=i.div;for(const g of P){const W=s.create({data:g,layer:V,page:i.page,viewport:i.viewport,linkService:i.linkService,downloadManager:i.downloadManager,imageResourcesPath:i.imageResourcesPath||"",renderForms:!1!==i.renderForms,svgFactory:new le.DOMSVGFactory,annotationStorage:i.annotationStorage||new ie.AnnotationStorage,enableScripting:i.enableScripting,hasJSActions:i.hasJSActions,fieldObjects:i.fieldObjects,mouseState:i.mouseState||{isDown:!1}});if(W.isRenderable){const q=W.render();if(g.hidden&&(q.style.visibility="hidden"),Array.isArray(q))for(const $ of q)V.appendChild($);else W instanceof n?V.prepend(q):V.appendChild(q)}}ke(this,S,Ke).call(this,V,i.annotationCanvasMap)}static update(i){const{page:P,viewport:E,annotations:V,annotationCanvasMap:g,div:W}=i,q=E.transform,$=`matrix(${q.join(",")})`;let Z,ne;for(const ue of V){const ce=W.querySelectorAll(`[data-annotation-id="${ue.id}"]`);if(ce)for(const pe of ce)if(ue.hasOwnCanvas){const h=p.Util.normalizeRect([ue.rect[0],P.view[3]-ue.rect[1]+P.view[1],ue.rect[2],P.view[3]-ue.rect[3]+P.view[1]]);if(!ne){Z=Math.abs(q[0]||q[1]);const G=q.slice();for(let Y=0;Y<4;Y++)G[Y]=Math.sign(G[Y]);ne=`matrix(${G.join(",")})`}const I=h[0]*Z,K=h[1]*Z;pe.style.left=`${I}px`,pe.style.top=`${K}px`,pe.style.transformOrigin=`${-I}px ${-K}px`,pe.style.transform=ne}else pe.style.transform=$}ke(this,S,Ke).call(this,W,g),W.hidden=!1}}S=new WeakSet,Ke=function(i,P){if(P){for(const[E,V]of P){const g=i.querySelector(`[data-annotation-id="${E}"]`);if(!g)continue;const{firstChild:W}=g;"CANVAS"===W.nodeName?g.replaceChild(V,W):g.insertBefore(V,W)}P.clear()}},Ce(o,S),L.AnnotationLayer=o},(he,L)=>{function J(le){return Math.floor(255*Math.max(0,Math.min(1,le))).toString(16).padStart(2,"0")}Object.defineProperty(L,"__esModule",{value:!0}),L.ColorConverters=void 0,L.ColorConverters=class p{static CMYK_G([ie,ae,te,t]){return["G",1-Math.min(1,.3*ie+.59*te+.11*ae+t)]}static G_CMYK([ie]){return["CMYK",0,0,0,1-ie]}static G_RGB([ie]){return["RGB",ie,ie,ie]}static G_HTML([ie]){const ae=J(ie);return`#${ae}${ae}${ae}`}static RGB_G([ie,ae,te]){return["G",.3*ie+.59*ae+.11*te]}static RGB_HTML([ie,ae,te]){return`#${J(ie)}${J(ae)}${J(te)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ie,ae,te,t]){return["RGB",1-Math.min(1,ie+t),1-Math.min(1,te+t),1-Math.min(1,ae+t)]}static CMYK_HTML(ie){return this.RGB_HTML(this.CMYK_RGB(ie))}static RGB_CMYK([ie,ae,te]){const t=1-ie,e=1-ae,u=1-te;return["CMYK",t,e,u,Math.min(t,e,u)]}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.XfaLayer=void 0;var p=J(1),le=J(17);L.XfaLayer=class ie{static setupStorage(te,t,e,u,s){const l=u.getValue(t,{value:null});switch(e.name){case"textarea":if(null!==l.value&&(te.textContent=l.value),"print"===s)break;te.addEventListener("input",f=>{u.setValue(t,{value:f.target.value})});break;case"input":if("radio"===e.attributes.type||"checkbox"===e.attributes.type){if(l.value===e.attributes.xfaOn?te.setAttribute("checked",!0):l.value===e.attributes.xfaOff&&te.removeAttribute("checked"),"print"===s)break;te.addEventListener("change",f=>{u.setValue(t,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==l.value&&te.setAttribute("value",l.value),"print"===s)break;te.addEventListener("input",f=>{u.setValue(t,{value:f.target.value})})}break;case"select":if(null!==l.value)for(const f of e.children)f.attributes.value===l.value&&(f.attributes.selected=!0);te.addEventListener("input",f=>{const k=f.target.options;u.setValue(t,{value:-1===k.selectedIndex?"":k[k.selectedIndex].value})})}}static setAttributes({html:te,element:t,storage:e=null,intent:u,linkService:s}){var k;const{attributes:l}=t,f=te instanceof HTMLAnchorElement;"radio"===l.type&&(l.name=`${l.name}-${u}`);for(const[d,a]of Object.entries(l))if(null!=a&&"dataId"!==d)if("style"!==d)if("textContent"===d)te.textContent=a;else if("class"===d)a.length&&te.setAttribute(d,a.join(" "));else{if(f&&("href"===d||"newWindow"===d))continue;te.setAttribute(d,a)}else Object.assign(te.style,a);f&&(s.addLinkAttributes||(0,p.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(k=s.addLinkAttributes)||k.call(s,te,l.href,l.newWindow)),e&&l.dataId&&this.setupStorage(te,l.dataId,t,e)}static render(te){var a;const t=te.annotationStorage,e=te.linkService,u=te.xfaHtml,s=te.intent||"display",l=document.createElement(u.name);u.attributes&&this.setAttributes({html:l,element:u,intent:s,linkService:e});const f=[[u,-1,l]],k=te.div;if(k.appendChild(l),te.viewport){const x=`matrix(${te.viewport.transform.join(",")})`;k.style.transform=x}"richText"!==s&&k.setAttribute("class","xfaLayer xfaFont");const d=[];for(;f.length>0;){const[x,F,C]=f[f.length-1];if(F+1===x.children.length){f.pop();continue}const b=x.children[++f[f.length-1][1]];if(null===b)continue;const{name:n}=b;if("#text"===n){const y=document.createTextNode(b.value);d.push(y),C.appendChild(y);continue}let r;if(r=(null==(a=null==b?void 0:b.attributes)?void 0:a.xmlns)?document.createElementNS(b.attributes.xmlns,n):document.createElement(n),C.appendChild(r),b.attributes&&this.setAttributes({html:r,element:b,storage:t,intent:s,linkService:e}),b.children&&b.children.length>0)f.push([b,-1,r]);else if(b.value){const y=document.createTextNode(b.value);le.XfaText.shouldBuildText(n)&&d.push(y),r.appendChild(y)}}for(const x of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))x.setAttribute("readOnly",!0);return{textDivs:d}}static update(te){const t=`matrix(${te.viewport.transform.join(",")})`;te.div.style.transform=t,te.div.hidden=!1}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.renderTextLayer=function x(F){const C=new a({textContent:F.textContent,textContentStream:F.textContentStream,container:F.container,viewport:F.viewport,textDivs:F.textDivs,textContentItemsStr:F.textContentItemsStr,enhanceTextSelection:F.enhanceTextSelection});return C._render(F.timeout),C};var p=J(1);const te=new Map,t=/^\s+$/g;function u(F,C,b,n){const r=document.createElement("span"),y=F._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==C.str,hasEOL:C.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==C.str,hasEOL:C.hasEOL};F._textDivs.push(r);const m=p.Util.transform(F._viewport.transform,C.transform);let A=Math.atan2(m[1],m[0]);const N=b[C.fontName];N.vertical&&(A+=Math.PI/2);const O=Math.hypot(m[2],m[3]),U=O*function e(F,C){const b=te.get(F);if(b)return b;C.save(),C.font=`30px ${F}`;const n=C.measureText("");let r=n.fontBoundingBoxAscent,y=Math.abs(n.fontBoundingBoxDescent);if(r){C.restore();const A=r/(r+y);return te.set(F,A),A}C.strokeStyle="red",C.clearRect(0,0,30,30),C.strokeText("g",0,0);let m=C.getImageData(0,0,30,30).data;y=0;for(let A=m.length-1-3;A>=0;A-=4)if(m[A]>0){y=Math.ceil(A/4/30);break}C.clearRect(0,0,30,30),C.strokeText("A",0,30),m=C.getImageData(0,0,30,30).data,r=0;for(let A=0,N=m.length;A<N;A+=4)if(m[A]>0){r=30-Math.floor(A/4/30);break}if(C.restore(),r){const A=r/(r+y);return te.set(F,A),A}return te.set(F,.8),.8}(N.fontFamily,n);let j,B;0===A?(j=m[4],B=m[5]-U):(j=m[4]+U*Math.sin(A),B=m[5]-U*Math.cos(A)),r.style.left=`${j}px`,r.style.top=`${B}px`,r.style.fontSize=`${O}px`,r.style.fontFamily=N.fontFamily,r.setAttribute("role","presentation"),r.textContent=C.str,r.dir=C.dir,F._fontInspectorEnabled&&(r.dataset.fontName=C.fontName),0!==A&&(y.angle=A*(180/Math.PI));let D=!1;if(C.str.length>1||F._enhanceTextSelection&&t.test(C.str))D=!0;else if(" "!==C.str&&C.transform[0]!==C.transform[3]){const H=Math.abs(C.transform[0]),R=Math.abs(C.transform[3]);H!==R&&Math.max(H,R)/Math.min(H,R)>1.5&&(D=!0)}if(D&&(y.canvasWidth=N.vertical?C.height*F._viewport.scale:C.width*F._viewport.scale),F._textDivProperties.set(r,y),F._textContentStream&&F._layoutText(r),F._enhanceTextSelection&&y.hasText){let H=1,R=0;0!==A&&(H=Math.cos(A),R=Math.sin(A));const z=(N.vertical?C.height:C.width)*F._viewport.scale,v=O;let c,o;0!==A?(c=[H,R,-R,H,j,B],o=p.Util.getAxialAlignedBoundingBox([0,0,z,v],c)):o=[j,B,j+z,B+v],F._bounds.push({left:o[0],top:o[1],right:o[2],bottom:o[3],div:r,size:[z,v],m:c})}}function s(F){if(F._canceled)return;const C=F._textDivs,b=F._capability,n=C.length;if(n>1e5)return F._renderingDone=!0,void b.resolve();if(!F._textContentStream)for(let r=0;r<n;r++)F._layoutText(C[r]);F._renderingDone=!0,b.resolve()}function l(F,C,b){let n=0;for(let r=0;r<b;r++){const y=F[C++];y>0&&(n=n?Math.min(y,n):y)}return n}function d(F,C){C.sort(function(r,y){return r.x1-y.x1||r.index-y.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of C){let y=0;for(;y<n.length&&n[y].end<=r.y1;)y++;let m=n.length-1;for(;m>=0&&n[m].start>=r.y2;)m--;let A,N,O,U,j=-1/0;for(O=y;O<=m;O++){let H;A=n[O],N=A.boundary,H=N.x2>r.x1?N.index>r.index?N.x1New:r.x1:void 0===N.x2New?(N.x2+r.x1)/2:N.x2New,H>j&&(j=H)}for(r.x1New=j,O=y;O<=m;O++)A=n[O],N=A.boundary,void 0===N.x2New?N.x2>r.x1?N.index>r.index&&(N.x2New=N.x2):N.x2New=j:N.x2New>j&&(N.x2New=Math.max(j,N.x2));const B=[];let D=null;for(O=y;O<=m;O++){A=n[O],N=A.boundary;const H=N.x2>r.x2?N:r;D===H?B[B.length-1].end=A.end:(B.push({start:A.start,end:A.end,boundary:H}),D=H)}for(n[y].start<r.y1&&(B[0].start=r.y1,B.unshift({start:n[y].start,end:r.y1,boundary:n[y].boundary})),r.y2<n[m].end&&(B[B.length-1].end=r.y2,B.push({start:r.y2,end:n[m].end,boundary:n[m].boundary})),O=y;O<=m;O++){if(A=n[O],N=A.boundary,void 0!==N.x2New)continue;let H=!1;for(U=y-1;!H&&U>=0&&n[U].start>=N.y1;U--)H=n[U].boundary===N;for(U=m+1;!H&&U<n.length&&n[U].end<=N.y2;U++)H=n[U].boundary===N;for(U=0;!H&&U<B.length;U++)H=B[U].boundary===N;H||(N.x2New=j)}Array.prototype.splice.apply(n,[y,m-y+1].concat(B))}for(const r of n){const y=r.boundary;void 0===y.x2New&&(y.x2New=Math.max(F,y.x2))}}class a{constructor({textContent:C,textContentStream:b,container:n,viewport:r,textDivs:y,textContentItemsStr:m,enhanceTextSelection:A}){var N;this._textContent=C,this._textContentStream=b,this._container=n,this._document=n.ownerDocument,this._viewport=r,this._textDivs=y||[],this._textContentItemsStr=m||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!(null==(N=globalThis.FontInspector)?void 0:N.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(C,b){for(let n=0,r=C.length;n<r;n++)if(void 0!==C[n].str)this._textContentItemsStr.push(C[n].str),u(this,C[n],b,this._layoutTextCtx);else if("beginMarkedContentProps"===C[n].type||"beginMarkedContent"===C[n].type){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==C[n].id&&this._container.setAttribute("id",`${C[n].id}`),y.appendChild(this._container)}else"endMarkedContent"===C[n].type&&(this._container=this._container.parentNode)}_layoutText(C){const b=this._textDivProperties.get(C);let n="";if(0!==b.canvasWidth&&b.hasText){const{fontSize:r,fontFamily:y}=C.style;(r!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${y}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=y);const{width:m}=this._layoutTextCtx.measureText(C.textContent);if(m>0){const A=b.canvasWidth/m;this._enhanceTextSelection&&(b.scale=A),n=`scaleX(${A})`}}if(0!==b.angle&&(n=`rotate(${b.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(b.originalTransform=n),C.style.transform=n),b.hasText&&this._container.appendChild(C),b.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(C=0){const b=(0,p.createPromiseCapability)();let n=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=30,r.mozOpaque=!0,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),b.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const y=()=>{this._reader.read().then(({value:m,done:A})=>{A?b.resolve():(Object.assign(n,m.styles),this._processItems(m.items,n),y())},b.reject)};this._reader=this._textContentStream.getReader(),y()}}b.promise.then(()=>{n=null,C?this._renderTimer=setTimeout(()=>{s(this),this._renderTimer=null},C):s(this)},this._capability.reject)}expandTextDivs(C=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function f(F){const C=F._bounds,b=F._viewport,n=function k(F,C,b){const n=b.map(function(y,m){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:m,x1New:void 0,x2New:void 0}});d(F,n);const r=new Array(b.length);for(const y of n)r[y.index]={left:y.x1New,top:0,right:y.x2New,bottom:0};b.map(function(y,m){const A=r[m],N=n[m];N.x1=y.top,N.y1=F-A.right,N.x2=y.bottom,N.y2=F-A.left,N.index=m,N.x1New=void 0,N.x2New=void 0}),d(C,n);for(const y of n){const m=y.index;r[m].top=y.x1New,r[m].bottom=y.x2New}return r}(b.width,b.height,C);for(let r=0;r<n.length;r++){const y=C[r].div,m=F._textDivProperties.get(y);if(0===m.angle){m.paddingLeft=C[r].left-n[r].left,m.paddingTop=C[r].top-n[r].top,m.paddingRight=n[r].right-C[r].right,m.paddingBottom=n[r].bottom-C[r].bottom,F._textDivProperties.set(y,m);continue}const A=n[r],N=C[r],O=N.m,U=O[0],j=O[1],B=[[0,0],[0,N.size[1]],[N.size[0],0],N.size],D=new Float64Array(64);for(let R=0,z=B.length;R<z;R++){const v=p.Util.applyTransform(B[R],O);D[R+0]=U&&(A.left-v[0])/U,D[R+4]=j&&(A.top-v[1])/j,D[R+8]=U&&(A.right-v[0])/U,D[R+12]=j&&(A.bottom-v[1])/j,D[R+16]=j&&(A.left-v[0])/-j,D[R+20]=U&&(A.top-v[1])/U,D[R+24]=j&&(A.right-v[0])/-j,D[R+28]=U&&(A.bottom-v[1])/U,D[R+32]=U&&(A.left-v[0])/-U,D[R+36]=j&&(A.top-v[1])/-j,D[R+40]=U&&(A.right-v[0])/-U,D[R+44]=j&&(A.bottom-v[1])/-j,D[R+48]=j&&(A.left-v[0])/j,D[R+52]=U&&(A.top-v[1])/-U,D[R+56]=j&&(A.right-v[0])/j,D[R+60]=U&&(A.bottom-v[1])/-U}const H=1+Math.min(Math.abs(U),Math.abs(j));m.paddingLeft=l(D,32,16)/H,m.paddingTop=l(D,48,16)/H,m.paddingRight=l(D,0,16)/H,m.paddingBottom=l(D,16,16)/H,F._textDivProperties.set(y,m)}}(this),this._bounds=null);const b=[],n=[];for(let r=0,y=this._textDivs.length;r<y;r++){const m=this._textDivs[r],A=this._textDivProperties.get(m);!A.hasText||(C?(b.length=0,n.length=0,A.originalTransform&&b.push(A.originalTransform),A.paddingTop>0?(n.push(`${A.paddingTop}px`),b.push(`translateY(${-A.paddingTop}px)`)):n.push(0),n.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),n.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(n.push(A.paddingLeft/A.scale+"px"),b.push(`translateX(${-A.paddingLeft/A.scale}px)`)):n.push(0),m.style.padding=n.join(" "),b.length&&(m.style.transform=b.join(" "))):(m.style.padding=null,m.style.transform=A.originalTransform))}}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.SVGGraphics=void 0;var p=J(1),le=J(5),ie=J(3);let ae=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};L.SVGGraphics=ae;{let d=function(n){let r=[];const y=[];for(const m of n)"save"!==m.fn?"restore"===m.fn?r=y.pop():r.push(m):(r.push({fnId:92,fn:"group",items:[]}),y.push(r),r=r[r.length-1].items);return r},a=function(n){if(Number.isInteger(n))return n.toString();const r=n.toFixed(10);let y=r.length-1;if("0"!==r[y])return r;do{y--}while("0"===r[y]);return r.substring(0,"."===r[y]?y:y+1)},x=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${a(n[0])} ${a(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const r=180*Math.acos(n[0])/Math.PI;return`rotate(${a(r)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${a(n[4])} ${a(n[5])})`;return`matrix(${a(n[0])} ${a(n[1])} ${a(n[2])} ${a(n[3])} ${a(n[4])} ${a(n[5])})`};const te={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},t="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/1999/xlink",u=["butt","round","square"],s=["miter","round","bevel"],l=function(n,r="",y=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!y)return URL.createObjectURL(new Blob([n],{type:r}));const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${r};base64,`;for(let N=0,O=n.length;N<O;N+=3){const U=255&n[N],j=255&n[N+1],B=255&n[N+2];A+=m[U>>2]+m[(3&U)<<4|j>>4]+m[N+1<O?(15&j)<<2|B>>6:64]+m[N+2<O?63&B:64]}return A},f=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),y=new Int32Array(256);for(let B=0;B<256;B++){let D=B;for(let H=0;H<8;H++)D=1&D?3988292384^D>>1&2147483647:D>>1&2147483647;y[B]=D}function A(B,D,H,R){let z=R;const v=D.length;H[z]=v>>24&255,H[z+1]=v>>16&255,H[z+2]=v>>8&255,H[z+3]=255&v,z+=4,H[z]=255&B.charCodeAt(0),H[z+1]=255&B.charCodeAt(1),H[z+2]=255&B.charCodeAt(2),H[z+3]=255&B.charCodeAt(3),z+=4,H.set(D,z),z+=D.length;const c=function m(B,D,H){let R=-1;for(let z=D;z<H;z++)R=R>>>8^y[255&(R^B[z])];return-1^R}(H,R+4,z);H[z]=c>>24&255,H[z+1]=c>>16&255,H[z+2]=c>>8&255,H[z+3]=255&c}function U(B){let D=B.length;const H=65535,R=Math.ceil(D/H),z=new Uint8Array(2+D+5*R+4);let v=0;z[v++]=120,z[v++]=156;let c=0;for(;D>H;)z[v++]=0,z[v++]=255,z[v++]=255,z[v++]=0,z[v++]=0,z.set(B.subarray(c,c+H),v),v+=H,c+=H,D-=H;z[v++]=1,z[v++]=255&D,z[v++]=D>>8&255,z[v++]=255&~D,z[v++]=(65535&~D)>>8&255,z.set(B.subarray(c),v),v+=B.length-c;const o=function N(B,D,H){let R=1,z=0;for(let v=D;v<H;++v)R=(R+(255&B[v]))%65521,z=(z+R)%65521;return z<<16|R}(B,0,B.length);return z[v++]=o>>24&255,z[v++]=o>>16&255,z[v++]=o>>8&255,z[v++]=255&o,z}return function(D,H,R){return function j(B,D,H,R){const z=B.width,v=B.height;let c,o,S;const _=B.data;switch(D){case p.ImageKind.GRAYSCALE_1BPP:o=0,c=1,S=z+7>>3;break;case p.ImageKind.RGB_24BPP:o=2,c=8,S=3*z;break;case p.ImageKind.RGBA_32BPP:o=6,c=8,S=4*z;break;default:throw new Error("invalid format")}const M=new Uint8Array((1+S)*v);let i=0,P=0;for(let $=0;$<v;++$)M[i++]=0,M.set(_.subarray(P,P+S),i),P+=S,i+=S;if(D===p.ImageKind.GRAYSCALE_1BPP&&R){i=0;for(let $=0;$<v;$++){i++;for(let Z=0;Z<S;Z++)M[i++]^=255}}const E=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,255&z,v>>24&255,v>>16&255,v>>8&255,255&v,c,o,0,0,0]),V=function O(B){if(!ie.isNodeJS)return U(B);try{let D;D=parseInt(process.versions.node)>=8?B:Buffer.from(B);const H=__webpack_require__(2258).deflateSync(D,{level:9});return H instanceof Uint8Array?H:new Uint8Array(H)}catch(D){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+D)}return U(B)}(M),W=new Uint8Array(n.length+36+E.length+V.length);let q=0;return W.set(n,q),q+=n.length,A("IHDR",E,W,q),q+=12+E.length,A("IDATA",V,W,q),q+=12+V.length,A("IEND",new Uint8Array(0),W,q),l(W,"image/png",H)}(D,void 0===D.kind?p.ImageKind.GRAYSCALE_1BPP:D.kind,H,R)}}();class k{constructor(){this.fontSizeScale=1,this.fontWeight=te.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=te.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,y){this.x=r,this.y=y}}let F=0,C=0,b=0;L.SVGGraphics=ae=class{constructor(n,r,y=!1){this.svgFactory=new le.DOMSVGFactory,this.current=new k,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const m in p.OPS)this._operatorIdMapping[p.OPS[m]]=m}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const r=n.fnArray,y=n.argsArray;for(let m=0,A=r.length;m<A;m++)if(r[m]===p.OPS.dependency)for(const N of y[m]){const O=N.startsWith("g_")?this.commonObjs:this.objs,U=new Promise(j=>{O.get(N,j)});this.current.dependencies.push(U)}return Promise.all(this.current.dependencies)}transform(n,r,y,m,A,N){this.transformMatrix=p.Util.transform(this.transformMatrix,[n,r,y,m,A,N]),this.tgrp=null}getSVG(n,r){this.viewport=r;const y=this._initialize(r);return this.loadDependencies(n).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),y))}convertOpList(n){const r=this._operatorIdMapping,y=n.argsArray,m=n.fnArray,A=[];for(let N=0,O=m.length;N<O;N++){const U=m[N];A.push({fnId:U,fn:r[U],args:y[N]})}return d(A)}executeOpTree(n){for(const r of n){const y=r.fn,A=r.args;switch(0|r.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(A);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case p.OPS.setFont:this.setFont(A);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(A[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(A[0],A[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case p.OPS.setHScale:this.setHScale(A[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case p.OPS.setTextRise:this.setTextRise(A[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case p.OPS.setLineWidth:this.setLineWidth(A[0]);break;case p.OPS.setLineJoin:this.setLineJoin(A[0]);break;case p.OPS.setLineCap:this.setLineCap(A[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case p.OPS.setFillColorN:this.setFillColorN(A);break;case p.OPS.shadingFill:this.shadingFill(A[0]);break;case p.OPS.setDash:this.setDash(A[0],A[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case p.OPS.setFlatness:this.setFlatness(A[0]);break;case p.OPS.setGState:this.setGState(A[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case p.OPS.constructPath:this.constructPath(A[0],A[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,p.warn)(`Unimplemented operator ${y}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,r,y,m,A,N){const O=this.current;O.textMatrix=O.lineMatrix=[n,r,y,m,A,N],O.textMatrixScale=Math.hypot(n,r),O.x=O.lineX=0,O.y=O.lineY=0,O.xcoords=[],O.ycoords=[],O.tspan=this.svgFactory.createElement("svg:tspan"),O.tspan.setAttributeNS(null,"font-family",O.fontFamily),O.tspan.setAttributeNS(null,"font-size",`${a(O.fontSize)}px`),O.tspan.setAttributeNS(null,"y",a(-O.y)),O.txtElement=this.svgFactory.createElement("svg:text"),O.txtElement.appendChild(O.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=p.IDENTITY_MATRIX,n.lineMatrix=p.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,r){const y=this.current;y.x=y.lineX+=n,y.y=y.lineY+=r,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${a(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",a(-y.y))}showText(n){const r=this.current,y=r.font,m=r.fontSize;if(0===m)return;const A=r.fontSizeScale,N=r.charSpacing,O=r.wordSpacing,U=r.fontDirection,j=r.textHScale*U,B=y.vertical,D=B?1:-1,H=y.defaultVMetrics,R=m*r.fontMatrix[0];let z=0;for(const o of n){if(null===o){z+=U*O;continue}if("number"==typeof o){z+=D*o*m/1e3;continue}const S=(o.isSpace?O:0)+N,_=o.fontChar;let M,i,E,P=o.width;if(B){let V;const g=o.vmetric||H;V=o.vmetric?g[1]:.5*P,V=-V*R,P=g?-g[0]:P,M=V/A,i=(z+g[2]*R)/A}else M=z/A,i=0;(o.isInFont||y.missingFile)&&(r.xcoords.push(r.x+M),B&&r.ycoords.push(-r.y+i),r.tspan.textContent+=_),E=B?P*R-S*U:P*R+S*U,z+=E}r.tspan.setAttributeNS(null,"x",r.xcoords.map(a).join(" ")),r.tspan.setAttributeNS(null,"y",B?r.ycoords.map(a).join(" "):a(-r.y)),B?r.y-=z:r.x+=z*j,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${a(r.fontSize)}px`),r.fontStyle!==te.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==te.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const v=r.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;v===p.TextRenderingMode.FILL||v===p.TextRenderingMode.FILL_STROKE?(r.fillColor!==te.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(v===p.TextRenderingMode.STROKE||v===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let c=r.textMatrix;0!==r.textRise&&(c=c.slice(),c[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${x(c)} scale(${a(j)}, -1)`),r.txtElement.setAttributeNS(t,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(n,r){this.setLeading(-r),this.moveText(n,r)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=l(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${r}); }\n`}setFont(n){const r=this.current,y=this.commonObjs.get(n[0]);let m=n[1];r.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),r.fontMatrix=y.fontMatrix||p.FONT_IDENTITY_MATRIX;let A="normal";y.black?A="900":y.bold&&(A="bold");const N=y.italic?"italic":"normal";m<0?(m=-m,r.fontDirection=-1):r.fontDirection=1,r.fontSize=m,r.fontFamily=y.loadedName,r.fontWeight=A,r.fontStyle=N,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",a(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){var r;const n=this.current;n.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(r=n.txtElement)?void 0:r.hasChildNodes())&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=u[n]}setLineJoin(n){this.current.lineJoin=s[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,r,y){this.current.strokeColor=p.Util.makeHexColor(n,r,y)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,r,y){this.current.fillColor=p.Util.makeHexColor(n,r,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const r=this.viewport.width,y=this.viewport.height,m=p.Util.inverseTransform(this.transformMatrix),A=p.Util.applyTransform([0,0],m),N=p.Util.applyTransform([0,y],m),O=p.Util.applyTransform([r,0],m),U=p.Util.applyTransform([r,y],m),j=Math.min(A[0],N[0],O[0],U[0]),B=Math.min(A[1],N[1],O[1],U[1]),D=Math.max(A[0],N[0],O[0],U[0]),H=Math.max(A[1],N[1],O[1],U[1]),R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",j),R.setAttributeNS(null,"y",B),R.setAttributeNS(null,"width",D-j),R.setAttributeNS(null,"height",H-B),R.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&R.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(R)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const r=n[1],y=n[2],m=n[3]||p.IDENTITY_MATRIX,[A,N,O,U]=n[4],j=n[5],B=n[6],D=n[7],H="shading"+b++,[R,z,v,c]=p.Util.normalizeRect([...p.Util.applyTransform([A,N],m),...p.Util.applyTransform([O,U],m)]),[o,S]=p.Util.singularValueDecompose2dScale(m),_=j*o,M=B*S,i=this.svgFactory.createElement("svg:pattern");i.setAttributeNS(null,"id",H),i.setAttributeNS(null,"patternUnits","userSpaceOnUse"),i.setAttributeNS(null,"width",_),i.setAttributeNS(null,"height",M),i.setAttributeNS(null,"x",`${R}`),i.setAttributeNS(null,"y",`${z}`);const P=this.svg,E=this.transformMatrix,V=this.current.fillColor,g=this.current.strokeColor,W=this.svgFactory.create(v-R,c-z);if(this.svg=W,this.transformMatrix=m,2===D){const q=p.Util.makeHexColor(...r);this.current.fillColor=q,this.current.strokeColor=q}return this.executeOpTree(this.convertOpList(y)),this.svg=P,this.transformMatrix=E,this.current.fillColor=V,this.current.strokeColor=g,i.appendChild(W.childNodes[0]),this.defs.appendChild(i),`url(#${H})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const r="shading"+b++,y=n[3];let m;switch(n[1]){case"axial":const A=n[4],N=n[5];m=this.svgFactory.createElement("svg:linearGradient"),m.setAttributeNS(null,"id",r),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"x1",A[0]),m.setAttributeNS(null,"y1",A[1]),m.setAttributeNS(null,"x2",N[0]),m.setAttributeNS(null,"y2",N[1]);break;case"radial":const O=n[4],U=n[5],j=n[6],B=n[7];m=this.svgFactory.createElement("svg:radialGradient"),m.setAttributeNS(null,"id",r),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"cx",U[0]),m.setAttributeNS(null,"cy",U[1]),m.setAttributeNS(null,"r",B),m.setAttributeNS(null,"fx",O[0]),m.setAttributeNS(null,"fy",O[1]),m.setAttributeNS(null,"fr",j);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const A of y){const N=this.svgFactory.createElement("svg:stop");N.setAttributeNS(null,"offset",A[0]),N.setAttributeNS(null,"stop-color",A[1]),m.appendChild(N)}return this.defs.appendChild(m),`url(#${r})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,r){this.current.dashArray=n,this.current.dashPhase=r}constructPath(n,r){const y=this.current;let m=y.x,A=y.y,N=[],O=0;for(const U of n)switch(0|U){case p.OPS.rectangle:m=r[O++],A=r[O++];const D=m+r[O++],H=A+r[O++];N.push("M",a(m),a(A),"L",a(D),a(A),"L",a(D),a(H),"L",a(m),a(H),"Z");break;case p.OPS.moveTo:m=r[O++],A=r[O++],N.push("M",a(m),a(A));break;case p.OPS.lineTo:m=r[O++],A=r[O++],N.push("L",a(m),a(A));break;case p.OPS.curveTo:m=r[O+4],A=r[O+5],N.push("C",a(r[O]),a(r[O+1]),a(r[O+2]),a(r[O+3]),a(m),a(A)),O+=6;break;case p.OPS.curveTo2:N.push("C",a(m),a(A),a(r[O]),a(r[O+1]),a(r[O+2]),a(r[O+3])),m=r[O+2],A=r[O+3],O+=4;break;case p.OPS.curveTo3:m=r[O+2],A=r[O+3],N.push("C",a(r[O]),a(r[O+1]),a(m),a(A),a(m),a(A)),O+=4;break;case p.OPS.closePath:N.push("Z")}N=N.join(" "),y.path&&n.length>0&&n[0]!==p.OPS.rectangle&&n[0]!==p.OPS.moveTo?N=y.path.getAttributeNS(null,"d")+N:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(y.path)),y.path.setAttributeNS(null,"d",N),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(m,A)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const r="clippath"+F++,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",r),y.setAttributeNS(null,"transform",x(this.transformMatrix));const m=n.element.cloneNode(!0);if(m.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,y.appendChild(m),this.defs.appendChild(y),n.activeClipUrl){n.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;y.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const r=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",r)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[r,y]of n)switch(r){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,p.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,r=1){const y=this.current;let m=y.dashArray;1!==r&&m.length>0&&(m=m.map(function(A){return r*A})),n.setAttributeNS(null,"stroke",y.strokeColor),n.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",a(y.miterLimit)),n.setAttributeNS(null,"stroke-linecap",y.lineCap),n.setAttributeNS(null,"stroke-linejoin",y.lineJoin),n.setAttributeNS(null,"stroke-width",a(r*y.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",m.map(a).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",a(r*y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const r=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);r?this.paintInlineImageXObject(r):(0,p.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,r){const y=n.width,m=n.height,A=f(n,this.forceDataSchema,!!r),N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",a(y)),N.setAttributeNS(null,"height",a(m)),this.current.element=N,this.clip("nonzero");const O=this.svgFactory.createElement("svg:image");O.setAttributeNS(e,"xlink:href",A),O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y",a(-m)),O.setAttributeNS(null,"width",a(y)+"px"),O.setAttributeNS(null,"height",a(m)+"px"),O.setAttributeNS(null,"transform",`scale(${a(1/y)} ${a(-1/m)})`),r?r.appendChild(O):this._ensureTransformGroup().appendChild(O)}paintImageMaskXObject(n){const r=this.current,y=n.width,m=n.height,A=r.fillColor;r.maskId="mask"+C++;const N=this.svgFactory.createElement("svg:mask");N.setAttributeNS(null,"id",r.maskId);const O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",a(y)),O.setAttributeNS(null,"height",a(m)),O.setAttributeNS(null,"fill",A),O.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(N),this._ensureTransformGroup().appendChild(O),this.paintInlineImageXObject(n,N)}paintFormXObjectBegin(n,r){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r){const y=r[2]-r[0],m=r[3]-r[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",r[0]),A.setAttributeNS(null,"y",r[1]),A.setAttributeNS(null,"width",a(y)),A.setAttributeNS(null,"height",a(m)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const r=this.svgFactory.create(n.width,n.height),y=this.svgFactory.createElement("svg:defs");r.appendChild(y),this.defs=y;const m=this.svgFactory.createElement("svg:g");return m.setAttributeNS(null,"transform",x(n.transform)),r.appendChild(m),this.svg=m,r}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",x(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNodeStream=void 0;var p=J(1),le=J(24);const ie=__webpack_require__(172),ae=__webpack_require__(2001),te=__webpack_require__(3779),t=__webpack_require__(6558),e=/^file:\/\/\/[a-zA-Z]:\//;L.PDFNodeStream=class s{constructor(b){this.source=b,this.url=function u(C){const b=t.parse(C);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(C)?t.parse(`file:///${C}`):(b.host||(b.protocol="file:"),b)}(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,n;return null!=(n=null==(b=this._fullRequestReader)?void 0:b._loaded)?n:0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new x(this):new d(this),this._fullRequestReader}getRangeReader(b,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new F(this,b,n):new a(this,b,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const n of this._rangeRequestReaders.slice(0))n.cancel(b)}};class l{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=b.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const n=b._readableStream.read();return null===n?(b._readCapability=(0,p.createPromiseCapability)(),b.read()):(b._loaded+=n.length,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!b.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const n=b._readableStream.read();return null===n?(b._readCapability=(0,p.createPromiseCapability)(),b.read()):(b._loaded+=n.length,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function k(C,b){return{protocol:C.protocol,auth:C.auth,host:C.hostname,port:C.port,path:C.path,method:"GET",headers:b}}class d extends l{constructor(b){super(b);const n=r=>{if(404===r.statusCode){const N=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=N,void this._headersCapability.reject(N)}this._headersCapability.resolve(),this._setReadableStream(r);const y=N=>this._readableStream.headers[N.toLowerCase()],{allowRangeRequests:m,suggestedLength:A}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=A||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(y)};this._request=null,this._request="http:"===this._url.protocol?ae.request(k(this._url,b.httpHeaders),n):te.request(k(this._url,b.httpHeaders),n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class a extends f{constructor(b,n,r){super(b),this._httpHeaders={};for(const m in b.httpHeaders){const A=b.httpHeaders[m];void 0!==A&&(this._httpHeaders[m]=A)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const y=m=>{if(404!==m.statusCode)this._setReadableStream(m);else{const A=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?ae.request(k(this._url,this._httpHeaders),y):te.request(k(this._url,this._httpHeaders),y),this._request.on("error",m=>{this._storedError=m}),this._request.end()}}class x extends l{constructor(b){super(b);let n=decodeURIComponent(this._url.path);e.test(this._url.href)&&(n=n.replace(/^\//,"")),ie.lstat(n,(r,y)=>{if(r)return"ENOENT"===r.code&&(r=new p.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=y.size,this._setReadableStream(ie.createReadStream(n)),this._headersCapability.resolve()})}}class F extends f{constructor(b,n,r){super(b);let y=decodeURIComponent(this._url.path);e.test(this._url.href)&&(y=y.replace(/^\//,"")),this._setReadableStream(ie.createReadStream(y,{start:n,end:r-1}))}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.createResponseStatusError=function t(u,s){return 404===u||0===u&&s.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+s+'".'):new p.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${s}".`,u)},L.extractFilenameFromHeader=function te(u){const s=u("Content-Disposition");if(s){let l=(0,le.getFilenameFromContentDispositionHeader)(s);if(l.includes("%"))try{l=decodeURIComponent(l)}catch(f){}if((0,ie.isPdfFile)(l))return l}return null},L.validateRangeRequestCapabilities=function ae({getResponseHeader:u,isHttp:s,rangeChunkSize:l,disableRange:f}){(0,p.assert)(l>0,"Range chunk size must be larger than zero");const k={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(u("Content-Length"),10);return!Number.isInteger(d)||(k.suggestedLength=d,d<=2*l)||f||!s||"bytes"!==u("Accept-Ranges")||"identity"!==(u("Content-Encoding")||"identity")||(k.allowRangeRequests=!0),k},L.validateResponseStatus=function e(u){return 200===u||206===u};var p=J(1),le=J(25),ie=J(5)},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.getFilenameFromContentDispositionHeader=function le(ie){let ae=!0,te=t("filename\\*","i").exec(ie);if(te){te=te[1];let d=l(te);return d=unescape(d),d=f(d),d=k(d),u(d)}if(te=function s(d){const a=[];let x;const F=t("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(x=F.exec(d));){let[,b,n,r]=x;if(b=parseInt(b,10),b in a){if(0===b)break}else a[b]=[n,r]}const C=[];for(let b=0;b<a.length&&b in a;++b){let[n,r]=a[b];r=l(r),n&&(r=unescape(r),0===b&&(r=f(r))),C.push(r)}return C.join("")}(ie),te)return u(k(te));if(te=t("filename","i").exec(ie),te){te=te[1];let d=l(te);return d=k(d),u(d)}function t(d,a){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',a)}function e(d,a){if(d){if(!/^[\x00-\xFF]+$/.test(a))return a;try{const x=new TextDecoder(d,{fatal:!0}),F=(0,p.stringToBytes)(a);a=x.decode(F),ae=!1}catch(x){}}return a}function u(d){return ae&&/[\x80-\xff]/.test(d)&&(d=e("utf-8",d),ae&&(d=e("iso-8859-1",d))),d}function l(d){if(d.startsWith('"')){const a=d.slice(1).split('\\"');for(let x=0;x<a.length;++x){const F=a[x].indexOf('"');-1!==F&&(a[x]=a[x].slice(0,F),a.length=x+1),a[x]=a[x].replace(/\\(.)/g,"$1")}d=a.join('"')}return d}function f(d){const a=d.indexOf("'");return-1===a?d:e(d.slice(0,a),d.slice(a+1).replace(/^[^']*'/,""))}function k(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,x,F,C){if("q"===F||"Q"===F)return e(x,C=(C=C.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(b,n){return String.fromCharCode(parseInt(n,16))}));try{C=atob(C)}catch(b){}return e(x,C)})}return""};var p=J(1)},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFNetworkStream=void 0;var p=J(1),le=J(24);class t{constructor(f,k={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&k.httpHeaders||Object.create(null),this.withCredentials=k.withCredentials||!1,this.getXhr=k.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,k,d){const a={begin:f,end:k};for(const x in d)a[x]=d[x];return this.request(a)}requestFull(f){return this.request(f)}request(f){const k=this.getXhr(),d=this.currXhrId++,a=this.pendingRequests[d]={xhr:k};k.open("GET",this.url),k.withCredentials=this.withCredentials;for(const x in this.httpHeaders){const F=this.httpHeaders[x];void 0!==F&&k.setRequestHeader(x,F)}return this.isHttp&&"begin"in f&&"end"in f?(k.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),a.expectedStatus=206):a.expectedStatus=200,k.responseType="arraybuffer",f.onError&&(k.onerror=function(x){f.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,d),k.onprogress=this.onProgress.bind(this,d),a.onHeadersReceived=f.onHeadersReceived,a.onDone=f.onDone,a.onError=f.onError,a.onProgress=f.onProgress,k.send(null),d}onProgress(f,k){var a;const d=this.pendingRequests[f];!d||null==(a=d.onProgress)||a.call(d,k)}onStateChange(f,k){var b,n,r;const d=this.pendingRequests[f];if(!d)return;const a=d.xhr;if(a.readyState>=2&&d.onHeadersReceived&&(d.onHeadersReceived(),delete d.onHeadersReceived),4!==a.readyState||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],0===a.status&&this.isHttp)return void(null==(b=d.onError)||b.call(d,a.status));const x=a.status||200;if((200!==x||206!==d.expectedStatus)&&x!==d.expectedStatus)return void(null==(n=d.onError)||n.call(d,a.status));const C=function te(l){const f=l.response;return"string"!=typeof f?f:(0,p.stringToBytes)(f).buffer}(a);if(206===x){const y=a.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);d.onDone({begin:parseInt(m[1],10),chunk:C})}else C?d.onDone({begin:0,chunk:C}):null==(r=d.onError)||r.call(d,a.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){const k=this.pendingRequests[f].xhr;delete this.pendingRequests[f],k.abort()}}L.PDFNetworkStream=class e{constructor(f){this._source=f,this._manager=new t(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){const k=this._rangeRequestReaders.indexOf(f);k>=0&&this._rangeRequestReaders.splice(k,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(f,k){const d=new s(this._manager,f,k);return d.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(d),d}cancelAllRequests(f){var k;null==(k=this._fullRequestReader)||k.cancel(f);for(const d of this._rangeRequestReaders.slice(0))d.cancel(f)}};class u{constructor(f,k){this._manager=f;const d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._fullRequestId=f.requestFull(d),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=k.disableRange||!1,this._contentLength=k.length,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const f=this._fullRequestId,k=this._manager.getRequestXhr(f),d=F=>k.getResponseHeader(F),{allowRangeRequests:a,suggestedLength:x}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=x||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(d),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,le.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){var k;null==(k=this.onProgress)||k.call(this,{loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(f._cachedChunks.length>0)return{value:f._cachedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const k=(0,p.createPromiseCapability)();return f._requests.push(k),k.promise})()}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(f,k,d){this._manager=f;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(k,d,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var f;null==(f=this.onClosed)||f.call(this,this)}_onDone(f){const k=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunk=k,this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,le.createResponseStatusError)(f,this._url);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){var k;this.isStreamingSupported||null==(k=this.onProgress)||k.call(this,{loaded:f.loaded})}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(null!==f._queuedChunk){const d=f._queuedChunk;return f._queuedChunk=null,{value:d,done:!1}}if(f._done)return{value:void 0,done:!0};const k=(0,p.createPromiseCapability)();return f._requests.push(k),k.promise})()}cancel(f){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(he,L,J)=>{Object.defineProperty(L,"__esModule",{value:!0}),L.PDFFetchStream=void 0;var p=J(1),le=J(24);function ie(u,s,l){return{method:"GET",headers:u,signal:null==l?void 0:l.signal,mode:"cors",credentials:s?"include":"same-origin",redirect:"follow"}}function ae(u){const s=new Headers;for(const l in u){const f=u[l];void 0!==f&&s.append(l,f)}return s}L.PDFFetchStream=class te{constructor(s){this.source=s,this.isHttp=/^https?:/i.test(s.url),this.httpHeaders=this.isHttp&&s.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var s,l;return null!=(l=null==(s=this._fullRequestReader)?void 0:s._loaded)?l:0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new t(this),this._fullRequestReader}getRangeReader(s,l){if(l<=this._progressiveDataLength)return null;const f=new e(this,s,l);return this._rangeRequestReaders.push(f),f}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const l of this._rangeRequestReaders.slice(0))l.cancel(s)}};class t{constructor(s){this._stream=s,this._reader=null,this._loaded=0,this._filename=null;const l=s.source;this._withCredentials=l.withCredentials||!1,this._contentLength=l.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=l.disableRange||!1,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!l.disableStream,this._isRangeSupported=!l.disableRange,this._headers=ae(this._stream.httpHeaders);const f=l.url;fetch(f,ie(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,le.validateResponseStatus)(k.status))throw(0,le.createResponseStatusError)(k.status,f);this._reader=k.body.getReader(),this._headersCapability.resolve();const d=F=>k.headers.get(F),{allowRangeRequests:a,suggestedLength:x}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=x||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._headersCapability.promise;const{value:l,done:f}=yield s._reader.read();return f?{value:l,done:f}:(s._loaded+=l.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded,total:s._contentLength}),{value:new Uint8Array(l).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}class e{constructor(s,l,f){this._stream=s,this._reader=null,this._loaded=0;const k=s.source;this._withCredentials=k.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!k.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=ae(this._stream.httpHeaders),this._headers.append("Range",`bytes=${l}-${f-1}`);const d=k.url;fetch(d,ie(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,le.validateResponseStatus)(a.status))throw(0,le.createResponseStatusError)(a.status,d);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._readCapability.promise;const{value:l,done:f}=yield s._reader.read();return f?{value:l,done:f}:(s._loaded+=l.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded}),{value:new Uint8Array(l).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(he){var L=__webpack_module_cache__[he];if(void 0!==L)return L.exports;var J=__webpack_module_cache__[he]={exports:{}};return __webpack_modules__[he](J,J.exports,__w_pdfjs_require__),J.exports}var __webpack_exports__={};return(()=>{var he=__webpack_exports__;Object.defineProperty(he,"__esModule",{value:!0}),Object.defineProperty(he,"AnnotationLayer",{enumerable:!0,get:function(){return le.AnnotationLayer}}),Object.defineProperty(he,"AnnotationMode",{enumerable:!0,get:function(){return L.AnnotationMode}}),Object.defineProperty(he,"CMapCompressionType",{enumerable:!0,get:function(){return L.CMapCompressionType}}),Object.defineProperty(he,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(he,"InvalidPDFException",{enumerable:!0,get:function(){return L.InvalidPDFException}}),Object.defineProperty(he,"LoopbackPort",{enumerable:!0,get:function(){return J.LoopbackPort}}),Object.defineProperty(he,"MissingPDFException",{enumerable:!0,get:function(){return L.MissingPDFException}}),Object.defineProperty(he,"OPS",{enumerable:!0,get:function(){return L.OPS}}),Object.defineProperty(he,"PDFDataRangeTransport",{enumerable:!0,get:function(){return J.PDFDataRangeTransport}}),Object.defineProperty(he,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(he,"PDFWorker",{enumerable:!0,get:function(){return J.PDFWorker}}),Object.defineProperty(he,"PasswordResponses",{enumerable:!0,get:function(){return L.PasswordResponses}}),Object.defineProperty(he,"PermissionFlag",{enumerable:!0,get:function(){return L.PermissionFlag}}),Object.defineProperty(he,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(he,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(he,"SVGGraphics",{enumerable:!0,get:function(){return t.SVGGraphics}}),Object.defineProperty(he,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return L.UNSUPPORTED_FEATURES}}),Object.defineProperty(he,"UnexpectedResponseException",{enumerable:!0,get:function(){return L.UnexpectedResponseException}}),Object.defineProperty(he,"Util",{enumerable:!0,get:function(){return L.Util}}),Object.defineProperty(he,"VerbosityLevel",{enumerable:!0,get:function(){return L.VerbosityLevel}}),Object.defineProperty(he,"XfaLayer",{enumerable:!0,get:function(){return e.XfaLayer}}),Object.defineProperty(he,"build",{enumerable:!0,get:function(){return J.build}}),Object.defineProperty(he,"createPromiseCapability",{enumerable:!0,get:function(){return L.createPromiseCapability}}),Object.defineProperty(he,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return L.createValidAbsoluteUrl}}),Object.defineProperty(he,"getDocument",{enumerable:!0,get:function(){return J.getDocument}}),Object.defineProperty(he,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(he,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(he,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(he,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(he,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(he,"renderTextLayer",{enumerable:!0,get:function(){return te.renderTextLayer}}),Object.defineProperty(he,"shadow",{enumerable:!0,get:function(){return L.shadow}}),Object.defineProperty(he,"version",{enumerable:!0,get:function(){return J.version}});var L=__w_pdfjs_require__(1),J=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),le=__w_pdfjs_require__(18),ie=__w_pdfjs_require__(12),ae=__w_pdfjs_require__(3),te=__w_pdfjs_require__(21),t=__w_pdfjs_require__(22),e=__w_pdfjs_require__(20);if(ae.isNodeJS){const{PDFNodeStream:l}=__w_pdfjs_require__(23);(0,J.setPDFNetworkStreamFactory)(f=>new l(f))}else{const{PDFNetworkStream:l}=__w_pdfjs_require__(26),{PDFFetchStream:f}=__w_pdfjs_require__(27);(0,J.setPDFNetworkStreamFactory)(k=>(0,p.isValidFetchUrl)(k.url)?new f(k):new l(k))}})(),__webpack_exports__})()},module.exports=J()},2813:function(he,L,J){var p=J(8926).default;he.exports=(()=>{"use strict";var le=[,(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultXfaLayerFactory=e.DefaultTextLayerFactory=e.DefaultStructTreeLayerFactory=e.DefaultAnnotationLayerFactory=void 0;var s=u(2),l=u(4),f=u(5),k=u(7),d=u(8),a=u(9);e.DefaultAnnotationLayerFactory=class x{createAnnotationLayerBuilder(r,y,m=null,A="",N=!0,O=l.NullL10n,U=!1,j=null,B=null,D=null,H=null){return new s.AnnotationLayerBuilder({pageDiv:r,pdfPage:y,imageResourcesPath:A,renderForms:N,linkService:new f.SimpleLinkService,l10n:O,annotationStorage:m,enableScripting:U,hasJSActionsPromise:j,fieldObjectsPromise:D,mouseState:B,annotationCanvasMap:H})}};e.DefaultStructTreeLayerFactory=class F{createStructTreeLayerBuilder(r){return new k.StructTreeLayerBuilder({pdfPage:r})}};e.DefaultTextLayerFactory=class C{createTextLayerBuilder(r,y,m,A=!1,N,O){return new d.TextLayerBuilder({textLayerDiv:r,pageIndex:y,viewport:m,enhanceTextSelection:A,eventBus:N,highlighter:O})}};e.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(r,y,m=null,A=null){return new a.XfaLayerBuilder({pageDiv:r,pdfPage:y,annotationStorage:m,linkService:new f.SimpleLinkService,xfaHtml:A})}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayerBuilder=void 0;var s=u(3),l=u(4);e.AnnotationLayerBuilder=class f{constructor({pageDiv:d,pdfPage:a,linkService:x,downloadManager:F,annotationStorage:C=null,imageResourcesPath:b="",renderForms:n=!0,l10n:r=l.NullL10n,enableScripting:y=!1,hasJSActionsPromise:m=null,fieldObjectsPromise:A=null,mouseState:N=null,annotationCanvasMap:O=null}){this.pageDiv=d,this.pdfPage=a,this.linkService=x,this.downloadManager=F,this.imageResourcesPath=b,this.renderForms=n,this.l10n=r,this.annotationStorage=C,this.enableScripting=y,this._hasJSActionsPromise=m,this._fieldObjectsPromise=A,this._mouseState=N,this._annotationCanvasMap=O,this.div=null,this._cancelled=!1}render(d,a="display"){var x=this;return p(function*(){const[F,C=!1,b=null]=yield Promise.all([x.pdfPage.getAnnotations({intent:a}),x._hasJSActionsPromise,x._fieldObjectsPromise]);if(x._cancelled||0===F.length)return;const n={viewport:d.clone({dontFlip:!0}),div:x.div,annotations:F,page:x.pdfPage,imageResourcesPath:x.imageResourcesPath,renderForms:x.renderForms,linkService:x.linkService,downloadManager:x.downloadManager,annotationStorage:x.annotationStorage,enableScripting:x.enableScripting,hasJSActions:C,fieldObjects:b,mouseState:x._mouseState,annotationCanvasMap:x._annotationCanvasMap};x.div?s.AnnotationLayer.update(n):(x.div=document.createElement("div"),x.div.className="annotationLayer",x.pageDiv.appendChild(x.div),n.div=x.div,s.AnnotationLayer.render(n),x.l10n.translate(x.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},t=>{let e;e="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:J(6036),t.exports=e},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.fixupLangCode=function f(a){return l[null==a?void 0:a.toLowerCase()]||a},e.getL10nFallback=s;const u={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function s(a,x){switch(a){case"find_match_count":a=`find_match_count[${1===x.total?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${1===x.limit?"one":"other"}]`}return u[a]||""}const l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};e.NullL10n={getLanguage:()=>p(function*(){return"en-us"})(),getDirection:()=>p(function*(){return"ltr"})(),get:(a,x=null,F=s(a,x))=>p(function*(){return function k(a,x){return x?a.replace(/\{\{\s*(\w+)\s*\}\}/g,(F,C)=>C in x?x[C]:"{{"+C+"}}"):a}(F,x)})(),translate:a=>p(function*(){})()}},(t,e,u)=>{var x,F,Je,b,at;Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=e.LinkTarget=void 0;var s=u(6);const f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function k(y,{url:m,target:A,rel:N,enabled:O=!0}={}){if(!m||"string"!=typeof m)throw new Error('A valid "url" parameter must provided.');const U=(0,s.removeNullCharacters)(m);O?y.href=y.title=U:(y.href="",y.title=`Disabled: ${U}`,y.onclick=()=>!1);let j="";switch(A){case f.NONE:break;case f.SELF:j="_self";break;case f.BLANK:j="_blank";break;case f.PARENT:j="_parent";break;case f.TOP:j="_top"}y.target=j,y.rel="string"==typeof N?N:"noopener noreferrer nofollow"}e.LinkTarget=f;const r=class{constructor({eventBus:m,externalLinkTarget:A=null,externalLinkRel:N=null,ignoreDestinationZoom:O=!1}={}){Ce(this,F),Ce(this,x,new Map),this.eventBus=m,this.externalLinkTarget=A,this.externalLinkRel=N,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=O,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(m,A=null){this.baseUrl=A,this.pdfDocument=m,ge(this,x).clear()}setViewer(m){this.pdfViewer=m}setHistory(m){this.pdfHistory=m}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(m){this.pdfViewer.currentPageNumber=m}get rotation(){return this.pdfViewer.pagesRotation}set rotation(m){this.pdfViewer.pagesRotation=m}goToDestination(m){var A=this;return p(function*(){var U;if(!A.pdfDocument)return;let N,O;"string"==typeof m?(N=m,O=yield A.pdfDocument.getDestination(m)):(N=null,O=yield m),Array.isArray(O)?ke(U=A,F,Je).call(U,m,N,O):console.error(`PDFLinkService.goToDestination: "${O}" is not a valid destination array, for dest="${m}".`)})()}goToPage(m){if(!this.pdfDocument)return;const A="string"==typeof m&&this.pdfViewer.pageLabelToPageNumber(m)||0|m;Number.isInteger(A)&&A>0&&A<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(A)),this.pdfViewer.scrollPageIntoView({pageNumber:A})):console.error(`PDFLinkService.goToPage: "${m}" is not a valid page.`)}addLinkAttributes(m,A,N=!1){k(m,{url:A,target:N?f.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(m){if("string"==typeof m){if(m.length>0)return this.getAnchorUrl("#"+escape(m))}else if(Array.isArray(m)){const A=JSON.stringify(m);if(A.length>0)return this.getAnchorUrl("#"+escape(A))}return this.getAnchorUrl("")}getAnchorUrl(m){return(this.baseUrl||"")+m}setHash(m){var O;if(!this.pdfDocument)return;let A,N;if(m.includes("=")){const U=(0,s.parseQueryString)(m);if(U.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:U.get("search").replace(/"/g,""),phraseSearch:"true"===U.get("phrase")}),U.has("page")&&(A=0|U.get("page")||1),U.has("zoom")){const j=U.get("zoom").split(","),B=j[0],D=parseFloat(B);B.includes("Fit")?"Fit"===B||"FitB"===B?N=[null,{name:B}]:"FitH"===B||"FitBH"===B||"FitV"===B||"FitBV"===B?N=[null,{name:B},j.length>1?0|j[1]:null]:"FitR"===B?5!==j.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):N=[null,{name:B},0|j[1],0|j[2],0|j[3],0|j[4]]:console.error(`PDFLinkService.setHash: "${B}" is not a valid zoom value.`):N=[null,{name:"XYZ"},j.length>1?0|j[1]:null,j.length>2?0|j[2]:null,D?D/100:B]}N?this.pdfViewer.scrollPageIntoView({pageNumber:A||this.page,destArray:N,allowNegativeOffset:!0}):A&&(this.page=A),U.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:U.get("pagemode")}),U.has("nameddest")&&this.goToDestination(U.get("nameddest"))}else{N=unescape(m);try{N=JSON.parse(N),Array.isArray(N)||(N=N.toString())}catch(U){}if("string"==typeof N||ke(O=r,b,at).call(O,N))return void this.goToDestination(N);console.error(`PDFLinkService.setHash: "${unescape(m)}" is not a valid destination.`)}}executeNamedAction(m){var A,N;switch(m){case"GoBack":null==(A=this.pdfHistory)||A.back();break;case"GoForward":null==(N=this.pdfHistory)||N.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:m})}cachePageRef(m,A){if(!A)return;const N=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;ge(this,x).set(N,m)}_cachedPageNumber(m){if(!m)return null;const A=0===m.gen?`${m.num}R`:`${m.num}R${m.gen}`;return ge(this,x).get(A)||null}isPageVisible(m){return this.pdfViewer.isPageVisible(m)}isPageCached(m){return this.pdfViewer.isPageCached(m)}};let d=r;x=new WeakMap,F=new WeakSet,Je=function(m,A=null,N){const O=N[0];let U;if("object"==typeof O&&null!==O){if(U=this._cachedPageNumber(O),!U)return void this.pdfDocument.getPageIndex(O).then(j=>{this.cachePageRef(j+1,O),ke(this,F,Je).call(this,m,A,N)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${O}" is not a valid page reference, for dest="${m}".`)})}else{if(!Number.isInteger(O))return void console.error(`PDFLinkService.#goToDestinationHelper: "${O}" is not a valid destination reference, for dest="${m}".`);U=O+1}!U||U<1||U>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${U}" is not a valid page number, for dest="${m}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:A,explicitDest:N,pageNumber:U})),this.pdfViewer.scrollPageIntoView({pageNumber:U,destArray:N,ignoreDestinationZoom:this._ignoreDestinationZoom}))},b=new WeakSet,at=function(m){if(!Array.isArray(m))return!1;const A=m.length;if(A<2)return!1;const N=m[0];if(!("object"==typeof N&&Number.isInteger(N.num)&&Number.isInteger(N.gen)||Number.isInteger(N)&&N>=0))return!1;const O=m[1];if("object"!=typeof O||"string"!=typeof O.name)return!1;let U=!0;switch(O.name){case"XYZ":if(5!==A)return!1;break;case"Fit":case"FitB":return 2===A;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==A)return!1;break;case"FitR":if(6!==A)return!1;U=!1;break;default:return!1}for(let j=2;j<A;j++){const B=m[j];if(!("number"==typeof B||U&&null===B))return!1}return!0},Ce(d,b),e.PDFLinkService=d;e.SimpleLinkService=class a{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(m){}get rotation(){return 0}set rotation(m){}goToDestination(m){return p(function*(){})()}goToPage(m){}addLinkAttributes(m,A,N=!1){k(m,{url:A,enabled:this.externalLinkEnabled})}getDestinationHash(m){return"#"}getAnchorUrl(m){return"#"}setHash(m){}executeNamedAction(m){}cachePageRef(m,A){}isPageVisible(m){return!0}isPageCached(m){return!0}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationStarted=e.VERTICAL_PADDING=e.UNKNOWN_SCALE=e.TextLayerMode=e.SpreadMode=e.SidebarView=e.ScrollMode=e.SCROLLBAR_PADDING=e.RenderingStates=e.RendererType=e.ProgressBar=e.PresentationModeState=e.OutputScale=e.MIN_SCALE=e.MAX_SCALE=e.MAX_AUTO_SCALE=e.DEFAULT_SCALE_VALUE=e.DEFAULT_SCALE_DELTA=e.DEFAULT_SCALE=e.AutoPrintRegExp=void 0,e.apiPageLayoutToViewerModes=function ce(h){let I=A.VERTICAL,K=N.NONE;switch(h){case"SinglePage":I=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":I=A.PAGE;case"TwoColumnLeft":K=N.ODD;break;case"TwoPageRight":I=A.PAGE;case"TwoColumnRight":K=N.EVEN}return{scrollMode:I,spreadMode:K}},e.apiPageModeToSidebarView=function pe(h){switch(h){case"UseNone":return r.NONE;case"UseThumbs":return r.THUMBS;case"UseOutlines":return r.OUTLINE;case"UseAttachments":return r.ATTACHMENTS;case"UseOC":return r.LAYERS}return r.NONE},e.approximateFraction=function c(h){if(Math.floor(h)===h)return[h,1];const I=1/h;if(I>8)return[1,8];if(Math.floor(I)===I)return[1,I];const G=h>1?I:h;let _e,Y=0,oe=1,fe=1,de=1;for(;;){const me=Y+fe,Ae=oe+de;if(Ae>8)break;G<=me/Ae?(fe=me,de=Ae):(Y=me,oe=Ae)}return _e=G-Y/oe<fe/de-G?G===h?[Y,oe]:[oe,Y]:G===h?[fe,de]:[de,fe],_e},e.backtrackBeforeAllVisibleElements=_,e.binarySearchFirstItem=v,e.getActiveOrFocusedElement=function ue(){let h=document,I=h.activeElement||h.querySelector(":focus");for(;null==I?void 0:I.shadowRoot;)h=I.shadowRoot,I=h.activeElement||h.querySelector(":focus");return I},e.getPageSizeInches=function S({view:h,userUnit:I,rotate:K}){const[G,Y,oe,fe]=h,de=K%180!=0,_e=(oe-G)/72*I,me=(fe-Y)/72*I;return{width:de?me:_e,height:de?_e:me}},e.getVisibleElements=function M({scrollEl:h,views:I,sortByVisibility:K=!1,horizontal:G=!1,rtl:Y=!1}){const oe=h.scrollTop,fe=oe+h.clientHeight,de=h.scrollLeft,_e=de+h.clientWidth;const ve=[],Ee=new Set,ye=I.length;let Se=v(I,G?function Ae(Q){const T=Q.div,ee=T.offsetLeft+T.clientLeft;return Y?ee<_e:ee+T.clientWidth>de}:function me(Q){const T=Q.div;return T.offsetTop+T.clientTop+T.clientHeight>oe});Se>0&&Se<ye&&!G&&(Se=_(Se,I,oe));let Re=G?_e:-1;for(let Q=Se;Q<ye;Q++){const T=I[Q],ee=T.div,w=ee.offsetLeft+ee.clientLeft,X=ee.offsetTop+ee.clientTop,se=ee.clientWidth,be=ee.clientHeight,xe=w+se,we=X+be;if(-1===Re)we>=fe&&(Re=we);else if((G?w:X)>Re)break;if(we<=oe||X>=fe||xe<=de||w>=_e)continue;const Te=Math.max(0,oe-X)+Math.max(0,we-fe),De=(se-(Math.max(0,de-w)+Math.max(0,xe-_e)))/se;ve.push({id:T.id,x:w,y:X,view:T,percent:(be-Te)/be*De*100|0,widthPercent:100*De|0}),Ee.add(T.id)}const Le=ve[0],re=ve[ve.length-1];return K&&ve.sort(function(Q,T){const ee=Q.percent-T.percent;return Math.abs(ee)>.001?-ee:Q.id-T.id}),{first:Le,last:re,views:ve,ids:Ee}},e.isPortraitOrientation=function q(h){return h.width<=h.height},e.isValidRotation=function V(h){return Number.isInteger(h)&&h%90==0},e.isValidScrollMode=function g(h){return Number.isInteger(h)&&Object.values(A).includes(h)&&h!==A.UNKNOWN},e.isValidSpreadMode=function W(h){return Number.isInteger(h)&&Object.values(N).includes(h)&&h!==N.UNKNOWN},e.noContextMenuHandler=function i(h){h.preventDefault()},e.normalizeWheelEventDelta=function E(h){let I=P(h);return 0===h.deltaMode?I/=900:1===h.deltaMode&&(I/=30),I},e.normalizeWheelEventDirection=P,e.parseQueryString=function D(h){const I=new Map;for(const[K,G]of new URLSearchParams(h))I.set(K.toLowerCase(),G);return I},e.removeNullCharacters=function z(h,I=!1){return"string"!=typeof h?(console.error("The argument must be a string."),h):(I&&(h=h.replace(R," ")),h.replace(H,""))},e.roundToDivide=function o(h,I){const K=h%I;return 0===K?h:Math.round(h-K+I)},e.scrollIntoView=function j(h,I,K=!1){let G=h.offsetParent;if(!G)return void console.error("offsetParent is not set -- cannot scroll");let Y=h.offsetTop+h.clientTop,oe=h.offsetLeft+h.clientLeft;for(;G.clientHeight===G.scrollHeight&&G.clientWidth===G.scrollWidth||K&&(G.classList.contains("markedContent")||"hidden"===getComputedStyle(G).overflow);)if(Y+=G.offsetTop,oe+=G.offsetLeft,G=G.offsetParent,!G)return;I&&(void 0!==I.top&&(Y+=I.top),void 0!==I.left&&(oe+=I.left,G.scrollLeft=oe)),G.scrollTop=Y},e.watchScroll=function B(h,I){const K=function(oe){Y||(Y=window.requestAnimationFrame(function(){Y=null;const de=h.scrollLeft,_e=G.lastX;de!==_e&&(G.right=de>_e),G.lastX=de;const me=h.scrollTop,Ae=G.lastY;me!==Ae&&(G.down=me>Ae),G.lastY=me,I(G)}))},G={right:!0,down:!0,lastX:h.scrollLeft,lastY:h.scrollTop,_eventHandler:K};let Y=null;return h.addEventListener("scroll",K,!0),G},e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.DEFAULT_SCALE_DELTA=1.1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5;e.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const r={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};e.SidebarView=r,e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};e.ScrollMode=A;const N={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};e.SpreadMode=N,e.AutoPrintRegExp=/\bprint\s*\(/;e.OutputScale=class U{constructor(){const I=window.devicePixelRatio||1;this.sx=I,this.sy=I}get scaled(){return 1!==this.sx||1!==this.sy}};const H=/\x00/g,R=/[\x01-\x1F]/g;function v(h,I,K=0){let G=K,Y=h.length-1;if(Y<0||!I(h[Y]))return h.length;if(I(h[G]))return G;for(;G<Y;){const oe=G+Y>>1;I(h[oe])?Y=oe:G=oe+1}return G}function _(h,I,K){if(h<2)return h;let G=I[h].div,Y=G.offsetTop+G.clientTop;Y>=K&&(G=I[h-1].div,Y=G.offsetTop+G.clientTop);for(let oe=h-2;oe>=0&&(G=I[oe].div,!(G.offsetTop+G.clientTop+G.clientHeight<=Y));--oe)h=oe;return h}function P(h){let I=Math.hypot(h.deltaX,h.deltaY);const K=Math.atan2(h.deltaY,h.deltaX);return-.25*Math.PI<K&&K<.75*Math.PI&&(I=-I),I}const $=new Promise(function(h){window.requestAnimationFrame(h)});e.animationStarted=$;e.ProgressBar=class ne{constructor(I,{height:K,width:G,units:Y}={}){this.visible=!0,this.div=document.querySelector(I+" .progress"),this.bar=this.div.parentNode,this.height=K||100,this.width=G||100,this.units=Y||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(I){this._indeterminate=isNaN(I),this._percent=function Z(h,I,K){return Math.min(Math.max(h,I),K)}(I,0,100),this._updateBar()}setWidth(I){if(!I)return;const G=I.parentNode.offsetWidth-I.offsetWidth;G>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${G}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StructTreeLayerBuilder=void 0;const u={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s=/^H(\d+)$/;e.StructTreeLayerBuilder=class l{constructor({pdfPage:k}){this.pdfPage=k}render(k){return this._walk(k)}_setAttributes(k,d){void 0!==k.alt&&d.setAttribute("aria-label",k.alt),void 0!==k.id&&d.setAttribute("aria-owns",k.id),void 0!==k.lang&&d.setAttribute("lang",k.lang)}_walk(k){if(!k)return null;const d=document.createElement("span");if("role"in k){const{role:a}=k,x=a.match(s);x?(d.setAttribute("role","heading"),d.setAttribute("aria-level",x[1])):u[a]&&d.setAttribute("role",u[a])}if(this._setAttributes(k,d),k.children)if(1===k.children.length&&"id"in k.children[0])this._setAttributes(k.children[0],d);else for(const a of k.children)d.appendChild(this._walk(a));return d}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerBuilder=void 0;var s=u(3);e.TextLayerBuilder=class f{constructor({textLayerDiv:d,eventBus:a,pageIndex:x,viewport:F,highlighter:C=null,enhanceTextSelection:b=!1}){this.textLayerDiv=d,this.eventBus=a,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=x+1,this.viewport=F,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=C,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const d=document.createElement("div");d.className="endOfContent",this.textLayerDiv.appendChild(d)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(d=0){var x;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(x=this.highlighter)||x.setTextMapping(this.textDivs,this.textContentItemsStr);const a=document.createDocumentFragment();this.textLayerRenderTask=(0,s.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:a,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:d,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var F;this.textLayerDiv.appendChild(a),this._finishRendering(),null==(F=this.highlighter)||F.enable()},function(F){})}cancel(){var d;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(d=this.highlighter)||d.disable()}setTextContentStream(d){this.cancel(),this.textContentStream=d}setTextContent(d){this.cancel(),this.textContent=d}_bindMouse(){const d=this.textLayerDiv;let a=null;d.addEventListener("mousedown",x=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(a&&(clearTimeout(a),a=null));const F=d.querySelector(".endOfContent");if(!F)return;let C=x.target!==d;if(C=C&&"none"!==window.getComputedStyle(F).getPropertyValue("-moz-user-select"),C){const b=d.getBoundingClientRect(),n=Math.max(0,(x.pageY-b.top)/b.height);F.style.top=(100*n).toFixed(2)+"%"}F.classList.add("active")}),d.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(a=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),a=null},300));const x=d.querySelector(".endOfContent");!x||(x.style.top="",x.classList.remove("active"))})}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayerBuilder=void 0;var s=u(3);e.XfaLayerBuilder=class l{constructor({pageDiv:k,pdfPage:d,annotationStorage:a=null,linkService:x,xfaHtml:F=null}){this.pageDiv=k,this.pdfPage=d,this.annotationStorage=a,this.linkService=x,this.xfaHtml=F,this.div=null,this._cancelled=!1}render(k,d="display"){if("print"===d){const a={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d},x=document.createElement("div");this.pageDiv.appendChild(x),a.div=x;const F=s.XfaLayer.render(a);return Promise.resolve(F)}return this.pdfPage.getXfa().then(a=>{if(this._cancelled||!a)return{textDivs:[]};const x={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:a,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d};return this.div?s.XfaLayer.update(x):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),x.div=this.div,s.XfaLayer.render(x))}).catch(a=>{console.error(a)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=e.PDFSinglePageViewer=void 0;var s=u(6),l=u(11);e.PDFViewer=class f extends l.BaseViewer{};e.PDFSinglePageViewer=class k extends l.BaseViewer{_resetView(){super._resetView(),this._scrollMode=s.ScrollMode.PAGE,this._spreadMode=s.SpreadMode.NONE}set scrollMode(a){}_updateScrollMode(){}set spreadMode(a){}_updateSpreadMode(){}}},(t,e,u)=>{var O,U,j,et,D,H,R,z,v,c,o,S,ot,M,lt,P,We,V,ct,W,ut,$,ht,ne,dt;Object.defineProperty(e,"__esModule",{value:!0}),e.PagesCountLimit=e.PDFPageViewBuffer=e.BaseViewer=void 0;var s=u(3),l=u(6),f=u(2),k=u(4),d=u(12),a=u(14),x=u(5),F=u(7),C=u(15),b=u(8),n=u(9);const y="enablePermissions",m={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};e.PagesCountLimit=m;class A{constructor(h){Ce(this,j),Ce(this,O,new Set),Ce(this,U,0),Pe(this,U,h)}push(h){const I=ge(this,O);I.has(h)&&I.delete(h),I.add(h),I.size>ge(this,U)&&ke(this,j,et).call(this)}resize(h,I=null){Pe(this,U,h);const K=ge(this,O);if(I){const G=K.size;let Y=1;for(const oe of K)if(I.has(oe.id)&&(K.delete(oe),K.add(oe)),++Y>G)break}for(;K.size>ge(this,U);)ke(this,j,et).call(this)}has(h){return ge(this,O).has(h)}[Symbol.iterator](){return ge(this,O).keys()}}O=new WeakMap,U=new WeakMap,j=new WeakSet,et=function(){const h=ge(this,O).keys().next().value;null==h||h.destroy(),ge(this,O).delete(h)},e.PDFPageViewBuffer=A;const ce=class{constructor(h){var K,G,Y,oe;if(Ce(this,S),Ce(this,M),Ce(this,P),Ce(this,V),Ce(this,W),Ce(this,$),Ce(this,ne),Ce(this,D,null),Ce(this,H,s.AnnotationMode.ENABLE_FORMS),Ce(this,R,null),Ce(this,z,!1),Ce(this,v,0),Ce(this,c,null),Ce(this,o,null),this.constructor===ce)throw new Error("Cannot initialize BaseViewer.");const I="2.13.216";if(s.version!==I)throw new Error(`The API version "${s.version}" does not match the Viewer version "${I}".`);if(this.container=h.container,this.viewer=h.viewer||h.container.firstElementChild,"DIV"!==(null==(K=this.container)?void 0:K.tagName.toUpperCase())||"DIV"!==(null==(G=this.viewer)?void 0:G.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=h.eventBus,this.linkService=h.linkService||new x.SimpleLinkService,this.downloadManager=h.downloadManager||null,this.findController=h.findController||null,this._scriptingManager=h.scriptingManager||null,this.removePageBorders=h.removePageBorders||!1,this.textLayerMode=null!=(Y=h.textLayerMode)?Y:l.TextLayerMode.ENABLE,Pe(this,H,null!=(oe=h.annotationMode)?oe:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=h.imageResourcesPath||"",this.enablePrintAutoRotate=h.enablePrintAutoRotate||!1,this.renderer=h.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=h.useOnlyCssZoom||!1,this.maxCanvasPixels=h.maxCanvasPixels,this.l10n=h.l10n||k.NullL10n,Pe(this,z,h.enablePermissions||!1),this.defaultRenderingQueue=!h.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=h.renderingQueue,this._doc=document.documentElement,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(h){return this._pages[h]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(h){return null==h?void 0:h.pdfPage})}get renderForms(){return ge(this,H)===s.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(h){if(!Number.isInteger(h))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(h,!0)||console.error(`currentPageNumber: "${h}" is not a valid page.`)}_setCurrentPageNumber(h,I=!1){var G,Y;if(this._currentPageNumber===h)return I&&this._resetCurrentPageView(),!0;if(!(0<h&&h<=this.pagesCount))return!1;const K=this._currentPageNumber;return this._currentPageNumber=h,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:h,pageLabel:null!=(Y=null==(G=this._pageLabels)?void 0:G[h-1])?Y:null,previous:K}),I&&this._resetCurrentPageView(),!0}get currentPageLabel(){var h,I;return null!=(I=null==(h=this._pageLabels)?void 0:h[this._currentPageNumber-1])?I:null}set currentPageLabel(h){if(!this.pdfDocument)return;let I=0|h;if(this._pageLabels){const K=this._pageLabels.indexOf(h);K>=0&&(I=K+1)}this._setCurrentPageNumber(I,!0)||console.error(`currentPageLabel: "${h}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(h){if(isNaN(h))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(h,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(h){!this.pdfDocument||this._setScale(h,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(h){if(!(0,l.isValidRotation)(h))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((h%=360)<0&&(h+=360),this._pagesRotation===h))return;this._pagesRotation=h;const I=this._currentPageNumber,K={rotation:h};for(const G of this._pages)G.update(K);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:h,pageNumber:I}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(h){var I=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=h,!h)return;const K=h.isPureXfa,G=h.numPages,Y=h.getPage(1),oe=h.getOptionalContentConfig(),fe=ge(this,z)?h.getPermissions():Promise.resolve();if(G>m.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const de=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:de})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:G})},()=>{}),this._onBeforeDraw=de=>{const _e=this._pages[de.pageNumber-1];!_e||ge(this,D).push(_e)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=de=>{de.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:de.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,ge(this,o)&&(document.removeEventListener("visibilitychange",ge(this,o)),Pe(this,o,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Y,fe]).then(([de,_e])=>{if(h!==this.pdfDocument)return;this._firstPageCapability.resolve(de),this._optionalContentConfigPromise=oe,ke(this,S,ot).call(this,_e);const me=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,Ae=this.currentScale,ve=de.getViewport({scale:Ae*s.PixelsPerInch.PDF_TO_CSS_UNITS}),Ee=this.textLayerMode===l.TextLayerMode.DISABLE||K?null:this,ye=ge(this,H)!==s.AnnotationMode.DISABLE?this:null,Se=K?this:null;for(let Le=1;Le<=G;++Le){const re=new d.PDFPageView({container:me,eventBus:this.eventBus,id:Le,scale:Ae,defaultViewport:ve.clone(),optionalContentConfigPromise:oe,renderingQueue:this.renderingQueue,textLayerFactory:Ee,textLayerMode:this.textLayerMode,annotationLayerFactory:ye,annotationMode:ge(this,H),xfaLayerFactory:Se,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(re)}const Re=this._pages[0];Re&&(Re.setPdfPage(de),this.linkService.cachePageRef(1,de.ref)),this._scrollMode===l.ScrollMode.PAGE?ke(this,P,We).call(this):this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),ke(this,M,lt).call(this).then(p(function*(){if(I.findController&&I.findController.setDocument(h),I._scriptingManager&&I._scriptingManager.setDocument(h),h.loadingParams.disableAutoFetch||G>m.FORCE_LAZY_PAGE_INIT)return void I._pagesCapability.resolve();let Le=G-1;if(Le<=0)I._pagesCapability.resolve();else for(let re=2;re<=G;++re){const Q=h.getPage(re).then(T=>{const ee=I._pages[re-1];ee.pdfPage||ee.setPdfPage(T),I.linkService.cachePageRef(re,T.ref),0==--Le&&I._pagesCapability.resolve()},T=>{console.error(`Unable to get page ${re} to initialize viewer`,T),0==--Le&&I._pagesCapability.resolve()});re%m.PAUSE_EAGER_PAGE_INIT==0&&(yield Q)}})),this.eventBus.dispatch("pagesinit",{source:this}),h.getMetadata().then(({info:Le})=>{h===this.pdfDocument&&Le.Language&&(this.viewer.lang=Le.Language)}),this.defaultRenderingQueue&&this.update()}).catch(de=>{console.error("Unable to initialize viewer",de),this._pagesCapability.reject(de)})}setPageLabels(h){var I,K;if(this.pdfDocument){h?Array.isArray(h)&&this.pdfDocument.numPages===h.length?this._pageLabels=h:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let G=0,Y=this._pages.length;G<Y;G++)this._pages[G].setPageLabel(null!=(K=null==(I=this._pageLabels)?void 0:I[G])?K:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Pe(this,D,new A(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,s.createPromiseCapability)(),this._onePageRenderedCapability=(0,s.createPromiseCapability)(),this._pagesCapability=(0,s.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,Pe(this,c,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),ge(this,o)&&(document.removeEventListener("visibilitychange",ge(this,o)),Pe(this,o,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(y),null!==ge(this,R)&&(Pe(this,H,ge(this,R)),Pe(this,R,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:h,pageSpot:I=null,pageNumber:K=null}){if(this._scrollMode===l.ScrollMode.PAGE&&(K&&this._setCurrentPageNumber(K),ke(this,P,We).call(this),this.update()),!I&&!this.isInPresentationMode){const G=h.offsetLeft+h.clientLeft,Y=G+h.clientWidth,{scrollLeft:oe,clientWidth:fe}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||G<oe||Y>oe+fe)&&(I={left:0,top:0})}(0,l.scrollIntoView)(h,I)}_setScaleUpdatePages(h,I,K=!1,G=!1){if(this._currentScaleValue=I.toString(),ke(this,V,ct).call(this,h))return void(G&&this.eventBus.dispatch("scalechanging",{source:this,scale:h,presetValue:I}));this._doc.style.setProperty("--zoom-factor",h),this._doc.style.setProperty("--viewport-scale-factor",h*s.PixelsPerInch.PDF_TO_CSS_UNITS);const Y={scale:h};for(const oe of this._pages)oe.update(Y);if(this._currentScale=h,!K){let fe,oe=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(oe=this._location.pageNumber,fe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:oe,destArray:fe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:h,presetValue:G?I:void 0}),this.defaultRenderingQueue&&this.update(),Pe(this,v,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(h,I=!1){let K=parseFloat(h);if(K>0)this._setScaleUpdatePages(K,h,I,!1);else{const G=this._pages[this._currentPageNumber-1];if(!G)return;let Y=l.SCROLLBAR_PADDING,oe=l.VERTICAL_PADDING;this.isInPresentationMode?Y=oe=4:this.removePageBorders&&(Y=oe=0),this._scrollMode===l.ScrollMode.HORIZONTAL&&([Y,oe]=[oe,Y]);const fe=(this.container.clientWidth-Y)/G.width*G.scale/this._pageWidthScaleFactor,de=(this.container.clientHeight-oe)/G.height*G.scale;switch(h){case"page-actual":K=1;break;case"page-width":K=fe;break;case"page-height":K=de;break;case"page-fit":K=Math.min(fe,de);break;case"auto":const _e=(0,l.isPortraitOrientation)(G)?fe:Math.min(de,fe);K=Math.min(l.MAX_AUTO_SCALE,_e);break;default:return void console.error(`_setScale: "${h}" is an unknown zoom value.`)}this._setScaleUpdatePages(K,h,I,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(h){if(!this._pageLabels)return null;const I=this._pageLabels.indexOf(h);return I<0?null:I+1}scrollPageIntoView({pageNumber:h,destArray:I=null,allowNegativeOffset:K=!1,ignoreDestinationZoom:G=!1}){if(!this.pdfDocument)return;const Y=Number.isInteger(h)&&this._pages[h-1];if(!Y)return void console.error(`scrollPageIntoView: "${h}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!I)return void this._setCurrentPageNumber(h,!0);let me,Ae,oe=0,fe=0,de=0,_e=0;const ve=Y.rotation%180!=0,Ee=(ve?Y.height:Y.width)/Y.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS,ye=(ve?Y.width:Y.height)/Y.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS;let Se=0;switch(I[1].name){case"XYZ":oe=I[2],fe=I[3],Se=I[4],oe=null!==oe?oe:0,fe=null!==fe?fe:ye;break;case"Fit":case"FitB":Se="page-fit";break;case"FitH":case"FitBH":fe=I[2],Se="page-width",null===fe&&this._location?(oe=this._location.left,fe=this._location.top):("number"!=typeof fe||fe<0)&&(fe=ye);break;case"FitV":case"FitBV":oe=I[2],de=Ee,_e=ye,Se="page-height";break;case"FitR":oe=I[2],fe=I[3],de=I[4]-oe,_e=I[5]-fe,me=(this.container.clientWidth-(this.removePageBorders?0:l.SCROLLBAR_PADDING))/de/s.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=(this.container.clientHeight-(this.removePageBorders?0:l.VERTICAL_PADDING))/_e/s.PixelsPerInch.PDF_TO_CSS_UNITS,Se=Math.min(Math.abs(me),Math.abs(Ae));break;default:return void console.error(`scrollPageIntoView: "${I[1].name}" is not a valid destination type.`)}if(G||(Se&&Se!==this._currentScale?this.currentScaleValue=Se:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),"page-fit"===Se&&!I[4])return void this._scrollIntoView({pageDiv:Y.div,pageNumber:h});const Re=[Y.viewport.convertToViewportPoint(oe,fe),Y.viewport.convertToViewportPoint(oe+de,fe+_e)];let Le=Math.min(Re[0][0],Re[1][0]),re=Math.min(Re[0][1],Re[1][1]);K||(Le=Math.max(Le,0),re=Math.max(re,0)),this._scrollIntoView({pageDiv:Y.div,pageSpot:{left:Le,top:re},pageNumber:h})}_updateLocation(h){const I=this._currentScale,K=this._currentScaleValue,G=parseFloat(K)===I?Math.round(1e4*I)/100:K,Y=h.id;let oe="#page="+Y;oe+="&zoom="+G;const de=this.container,_e=this._pages[Y-1].getPagePoint(de.scrollLeft-h.x,de.scrollTop-h.y),me=Math.round(_e[0]),Ae=Math.round(_e[1]);oe+=","+me+","+Ae,this._location={pageNumber:Y,scale:G,top:Ae,left:me,rotation:this._pagesRotation,pdfOpenParams:oe}}update(){const h=this._getVisiblePages(),I=h.views,K=I.length;if(0===K)return;const G=Math.max(10,2*K+1);if(ge(this,D).resize(G,h.ids),this.renderingQueue.renderHighestPriority(h),!this.isInPresentationMode){const Y=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL);let oe=this._currentPageNumber,fe=!1;for(const de of I){if(de.percent<100)break;if(de.id===oe&&Y){fe=!0;break}}fe||(oe=I[0].id),this._setCurrentPageNumber(oe)}this._updateLocation(h.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(h){return this.container.contains(h)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const h=this._pages[this._currentPageNumber-1],I=h.div,K={id:h.id,x:I.offsetLeft+I.clientLeft,y:I.offsetTop+I.clientTop,view:h};return{first:K,last:K,views:[K],ids:new Set([h.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const h=this._scrollMode===l.ScrollMode.PAGE?ge(this,c).pages:this._pages,I=this._scrollMode===l.ScrollMode.HORIZONTAL;return(0,l.getVisibleElements)({scrollEl:this.container,views:h,sortByVisibility:!0,horizontal:I,rtl:I&&this._isContainerRtl})}isPageVisible(h){return!!this.pdfDocument&&(Number.isInteger(h)&&h>0&&h<=this.pagesCount?this._getVisiblePages().ids.has(h):(console.error(`isPageVisible: "${h}" is not a valid page.`),!1))}isPageCached(h){if(!this.pdfDocument)return!1;if(!(Number.isInteger(h)&&h>0&&h<=this.pagesCount))return console.error(`isPageCached: "${h}" is not a valid page.`),!1;const I=this._pages[h-1];return ge(this,D).has(I)}cleanup(){for(let h=0,I=this._pages.length;h<I;h++)this._pages[h]&&this._pages[h].renderingState!==l.RenderingStates.FINISHED&&this._pages[h].reset()}_cancelRendering(){for(let h=0,I=this._pages.length;h<I;h++)this._pages[h]&&this._pages[h].cancelRendering()}forceRendering(h){const I=h||this._getVisiblePages(),K=ke(this,$,ht).call(this,I),Y=this.renderingQueue.getHighestPriority(I,this._pages,K,this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL);return ke(this,ne,dt).call(this,I.ids),!!Y&&(ke(this,W,ut).call(this,Y).then(()=>{this.renderingQueue.renderView(Y)}),!0)}createTextLayerBuilder(h,I,K,G=!1,Y,oe){return new b.TextLayerBuilder({textLayerDiv:h,eventBus:Y,pageIndex:I,viewport:K,enhanceTextSelection:!this.isInPresentationMode&&G,highlighter:oe})}createTextHighlighter(h,I){return new C.TextHighlighter({eventBus:I,pageIndex:h,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(h,I,K=null,G="",Y=!0,oe=k.NullL10n,fe=null,de=null,_e=null,me=null,Ae=null){var ve,Ee,ye,Se;return new f.AnnotationLayerBuilder({pageDiv:h,pdfPage:I,annotationStorage:K||(null==(ve=this.pdfDocument)?void 0:ve.annotationStorage),imageResourcesPath:G,renderForms:Y,linkService:this.linkService,downloadManager:this.downloadManager,l10n:oe,enableScripting:null!=fe?fe:this.enableScripting,hasJSActionsPromise:de||(null==(Ee=this.pdfDocument)?void 0:Ee.hasJSActions()),fieldObjectsPromise:me||(null==(ye=this.pdfDocument)?void 0:ye.getFieldObjects()),mouseState:_e||(null==(Se=this._scriptingManager)?void 0:Se.mouseState),annotationCanvasMap:Ae})}createXfaLayerBuilder(h,I,K=null){var G;return new n.XfaLayerBuilder({pageDiv:h,pdfPage:I,annotationStorage:K||(null==(G=this.pdfDocument)?void 0:G.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(h){return new F.StructTreeLayerBuilder({pdfPage:h})}get hasEqualPageSizes(){const h=this._pages[0];for(let I=1,K=this._pages.length;I<K;++I){const G=this._pages[I];if(G.width!==h.width||G.height!==h.height)return!1}return!0}getPagesOverview(){return this._pages.map(h=>{const I=h.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(I)?{width:I.width,height:I.height,rotation:I.rotation}:{width:I.height,height:I.width,rotation:(I.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(h){if(!(h instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${h}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=h;const I={optionalContentConfigPromise:h};for(const K of this._pages)K.update(I);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:h})}get scrollMode(){return this._scrollMode}set scrollMode(h){if(this._scrollMode!==h){if(!(0,l.isValidScrollMode)(h))throw new Error(`Invalid scroll mode: ${h}`);this.pagesCount>m.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=h,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:h}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(h=null){const I=this._scrollMode,K=this.viewer;K.classList.toggle("scrollHorizontal",I===l.ScrollMode.HORIZONTAL),K.classList.toggle("scrollWrapped",I===l.ScrollMode.WRAPPED),this.pdfDocument&&h&&(I===l.ScrollMode.PAGE?ke(this,P,We).call(this):this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(h,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(h){if(this._spreadMode!==h){if(!(0,l.isValidSpreadMode)(h))throw new Error(`Invalid spread mode: ${h}`);this._spreadMode=h,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:h}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(h=null){if(!this.pdfDocument)return;const I=this.viewer,K=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)ke(this,P,We).call(this);else if(I.textContent="",this._spreadMode===l.SpreadMode.NONE)for(let G=0,Y=K.length;G<Y;++G)I.appendChild(K[G].div);else{const G=this._spreadMode-1;let Y=null;for(let oe=0,fe=K.length;oe<fe;++oe)null===Y?(Y=document.createElement("div"),Y.className="spread",I.appendChild(Y)):oe%2===G&&(Y=Y.cloneNode(!1),I.appendChild(Y)),Y.appendChild(K[oe].div)}!h||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(h,!0),this.update())}_getPageAdvance(h,I=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{const{views:K}=this._getVisiblePages(),G=new Map;for(const{id:Y,y:oe,percent:fe,widthPercent:de}of K){if(0===fe||de<100)continue;let _e=G.get(oe);_e||G.set(oe,_e||(_e=[])),_e.push(Y)}for(const Y of G.values()){const oe=Y.indexOf(h);if(-1===oe)continue;const fe=Y.length;if(1===fe)break;if(I)for(let de=oe-1,_e=0;de>=_e;de--){const Ae=Y[de+1]-1;if(Y[de]<Ae)return h-Ae}else for(let de=oe+1,_e=fe;de<_e;de++){const Ae=Y[de-1]+1;if(Y[de]>Ae)return Ae-h}if(I){const de=Y[0];if(de<h)return h-de+1}else{const de=Y[fe-1];if(de>h)return de-h+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;const K=this._spreadMode-1;if(I&&h%2!==K)break;if(!I&&h%2===K)break;const{views:G}=this._getVisiblePages(),Y=I?h-1:h+1;for(const{id:oe,percent:fe,widthPercent:de}of G)if(oe===Y){if(fe>0&&100===de)return 2;break}break}}return 1}nextPage(){const h=this._currentPageNumber,I=this.pagesCount;if(h>=I)return!1;const K=this._getPageAdvance(h,!1)||1;return this.currentPageNumber=Math.min(h+K,I),!0}previousPage(){const h=this._currentPageNumber;if(h<=1)return!1;const I=this._getPageAdvance(h,!0)||1;return this.currentPageNumber=Math.max(h-I,1),!0}increaseScale(h=1){let I=this._currentScale;do{I=(I*l.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.ceil(10*I)/10,I=Math.min(l.MAX_SCALE,I)}while(--h>0&&I<l.MAX_SCALE);this.currentScaleValue=I}decreaseScale(h=1){let I=this._currentScale;do{I=(I/l.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.floor(10*I)/10,I=Math.max(l.MIN_SCALE,I)}while(--h>0&&I>l.MIN_SCALE);this.currentScaleValue=I}};let N=ce;D=new WeakMap,H=new WeakMap,R=new WeakMap,z=new WeakMap,v=new WeakMap,c=new WeakMap,o=new WeakMap,S=new WeakSet,ot=function(h){!h||(h.includes(s.PermissionFlag.COPY)||this.viewer.classList.add(y),!h.includes(s.PermissionFlag.MODIFY_ANNOTATIONS)&&!h.includes(s.PermissionFlag.FILL_INTERACTIVE_FORMS)&&ge(this,H)===s.AnnotationMode.ENABLE_FORMS&&(Pe(this,R,ge(this,H)),Pe(this,H,s.AnnotationMode.ENABLE)))},M=new WeakSet,lt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const h=new Promise(I=>{Pe(this,o,()=>{"hidden"===document.visibilityState&&(I(),document.removeEventListener("visibilitychange",ge(this,o)),Pe(this,o,null))}),document.addEventListener("visibilitychange",ge(this,o))});return Promise.race([this._onePageRenderedCapability.promise,h])},P=new WeakSet,We=function(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const h=this._currentPageNumber,I=ge(this,c),K=this.viewer;if(K.textContent="",I.pages.length=0,this._spreadMode===l.SpreadMode.NONE){const G=this._pages[h-1];if(this.isInPresentationMode){const Y=document.createElement("div");Y.className="spread";const oe=document.createElement("div");oe.className="dummyPage",oe.style.height=`${this.container.clientHeight}px`,Y.appendChild(oe),Y.appendChild(G.div),K.appendChild(Y)}else K.appendChild(G.div);I.pages.push(G)}else{const G=new Set,Y=this._spreadMode-1;h%2!==Y?(G.add(h-1),G.add(h)):(G.add(h-2),G.add(h-1));let oe=null;for(const fe of G){const de=this._pages[fe];!de||(null===oe?(oe=document.createElement("div"),oe.className="spread",K.appendChild(oe)):fe%2===Y&&(oe=oe.cloneNode(!1),K.appendChild(oe)),oe.appendChild(de.div),I.pages.push(de))}}I.scrollDown=h>=I.previousPageNumber,I.previousPageNumber=h},V=new WeakSet,ct=function(h){return(!this.isInPresentationMode||this.container.clientHeight===ge(this,v))&&(h===this._currentScale||Math.abs(h-this._currentScale)<1e-15)},W=new WeakSet,ut=function(h){var I=this;return p(function*(){var K,G;if(h.pdfPage)return h.pdfPage;try{const Y=yield I.pdfDocument.getPage(h.id);return h.pdfPage||h.setPdfPage(Y),(null==(G=(K=I.linkService)._cachedPageNumber)?void 0:G.call(K,Y.ref))||I.linkService.cachePageRef(h.id,Y.ref),Y}catch(Y){return console.error("Unable to get page for page view",Y),null}})()},$=new WeakSet,ht=function(h){var I,K;if(1===(null==(I=h.first)?void 0:I.id))return!0;if((null==(K=h.last)?void 0:K.id)===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return ge(this,c).scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},ne=new WeakSet,dt=function(h){for(const I of h){const K=this._pages[I-1];null==K||K.toggleLoadingIconSpinner(!0)}for(const I of ge(this,D))h.has(I.id)||I.toggleLoadingIconSpinner(!1)},e.BaseViewer=N},(t,e,u)=>{var x;Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var s=u(3),l=u(6),f=u(13),k=u(4);const d=f.compatibilityParams.maxCanvasPixels||16777216;x=new WeakMap,e.PDFPageView=class a{constructor(C){var y,m,A,N;Ce(this,x,s.AnnotationMode.ENABLE_FORMS);const b=C.container,n=C.defaultViewport;this.id=C.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=C.scale||l.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=C.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(y=C.textLayerMode)?y:l.TextLayerMode.ENABLE,Pe(this,x,null!=(m=C.annotationMode)?m:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=C.imageResourcesPath||"",this.useOnlyCssZoom=C.useOnlyCssZoom||!1,this.maxCanvasPixels=C.maxCanvasPixels||d,this.eventBus=C.eventBus,this.renderingQueue=C.renderingQueue,this.textLayerFactory=C.textLayerFactory,this.annotationLayerFactory=C.annotationLayerFactory,this.xfaLayerFactory=C.xfaLayerFactory,this.textHighlighter=null==(A=C.textHighlighterFactory)?void 0:A.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=C.structTreeLayerFactory,this.renderer=C.renderer||l.RendererType.CANVAS,this.l10n=C.l10n||k.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(N=this.renderingQueue)?void 0:N.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(O=>{r.setAttribute("aria-label",O)}),this.div=r,null==b||b.appendChild(r)}setPdfPage(C){this.pdfPage=C,this.pdfPageRotate=C.rotate,this.viewport=C.getViewport({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var C=this;return p(function*(){let b=null;try{yield C.annotationLayer.render(C.viewport,"display")}catch(n){b=n}finally{C.eventBus.dispatch("annotationlayerrendered",{source:C,pageNumber:C.id,error:b})}})()}_renderXfaLayer(){var C=this;return p(function*(){let b=null;try{const n=yield C.xfaLayer.render(C.viewport,"display");C.textHighlighter&&C._buildXfaTextContentItems(n.textDivs)}catch(n){b=n}finally{C.eventBus.dispatch("xfalayerrendered",{source:C,pageNumber:C.id,error:b})}})()}_buildXfaTextContentItems(C){var b=this;return p(function*(){const n=yield b.pdfPage.getTextContent(),r=[];for(const y of n.items)r.push(y.str);b.textHighlighter.setTextMapping(C,r),b.textHighlighter.enable()})()}_resetZoomLayer(C=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,C&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:C=!1,keepAnnotationLayer:b=!1,keepXfaLayer:n=!1}={}){var O,U;this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:n}),this.renderingState=l.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const y=r.childNodes,m=C&&this.zoomLayer||null,A=b&&(null==(O=this.annotationLayer)?void 0:O.div)||null,N=n&&(null==(U=this.xfaLayer)?void 0:U.div)||null;for(let j=y.length-1;j>=0;j--){const B=y[j];switch(B){case m:case A:case N:continue}B.remove()}r.removeAttribute("data-loaded"),A&&this.annotationLayer.hide(),N&&this.xfaLayer.hide(),m||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(j=>{var B;null==(B=this.loadingIconDiv)||B.setAttribute("aria-label",j)}),r.appendChild(this.loadingIconDiv)}update({scale:C=0,rotation:b=null,optionalContentConfigPromise:n=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=C||this.scale,"number"==typeof b&&(this.rotation=b),n instanceof Promise&&(this._optionalContentConfigPromise=n);const y=this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:y,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale),A.setProperty("--viewport-scale-factor",y)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let m=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(m=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&m)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:C=!1,keepXfaLayer:b=!1}={}){var n;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!C||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(n=this.textHighlighter)||n.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:C,redrawAnnotationLayer:b=!1,redrawXfaLayer:n=!1}){const r=this.viewport.width,y=this.viewport.height,m=this.div;C.style.width=C.parentNode.style.width=m.style.width=Math.floor(r)+"px",C.style.height=C.parentNode.style.height=m.style.height=Math.floor(y)+"px";const A=this.viewport.rotation-this.paintedViewportMap.get(C).rotation,N=Math.abs(A);let O=1,U=1;if((90===N||270===N)&&(O=y/r,U=r/y),C.style.transform=`rotate(${A}deg) scale(${O}, ${U})`,this.textLayer){const j=this.textLayer.viewport,D=Math.abs(this.viewport.rotation-j.rotation);let H=r/j.width;(90===D||270===D)&&(H=r/j.height);const R=this.textLayer.textLayerDiv;let z,v;switch(D){case 0:z=v=0;break;case 90:z=0,v="-"+R.style.height;break;case 180:z="-"+R.style.width,v="-"+R.style.height;break;case 270:z="-"+R.style.width,v=0;break;default:console.error("Bad rotation value.")}R.style.transform=`rotate(${D}deg) scale(${H}) translate(${z}, ${v})`,R.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),n&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(C,b){return this.viewport.convertToPdfPoint(C,b)}toggleLoadingIconSpinner(C=!1){var b;null==(b=this.loadingIconDiv)||b.classList.toggle("notVisible",!C)}draw(){var U,j,B,C=this;this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:n}=this;if(!n)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=b.style.width,r.style.height=b.style.height,r.classList.add("canvasWrapper"),(null==(U=this.annotationLayer)?void 0:U.div)?b.insertBefore(r,this.annotationLayer.div):b.appendChild(r);let y=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){const D=document.createElement("div");D.className="textLayer",D.style.width=r.style.width,D.style.height=r.style.height,(null==(j=this.annotationLayer)?void 0:j.div)?b.insertBefore(D,this.annotationLayer.div):b.appendChild(D),y=this.textLayerFactory.createTextLayerBuilder(D,this.id-1,this.viewport,this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=y,ge(this,x)!==s.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,n,null,this.imageResourcesPath,ge(this,x)===s.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(B=this.xfaLayer)?void 0:B.div)&&b.appendChild(this.xfaLayer.div);let m=null;this.renderingQueue&&(m=D=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=l.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,D()});D()});const A=function(){var D=p(function*(H=null){if(N===C.paintTask&&(C.paintTask=null),H instanceof s.RenderingCancelledException)C._renderError=null;else if(C._renderError=H,C.renderingState=l.RenderingStates.FINISHED,C.loadingIconDiv&&(C.loadingIconDiv.remove(),delete C.loadingIconDiv),C._resetZoomLayer(!0),C.eventBus.dispatch("pagerendered",{source:C,pageNumber:C.id,cssTransform:!1,timestamp:performance.now(),error:C._renderError}),H)throw H});return function(){return D.apply(this,arguments)}}(),N=this.renderer===l.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);N.onRenderContinue=m,this.paintTask=N;const O=N.promise.then(()=>A(null).then(()=>{if(y){const D=n.streamTextContent({includeMarkedContent:!0});y.setTextContentStream(D),y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(D){return A(D)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,n,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=D=>{D.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(H=>{if(!H||!this.canvas)return;const R=this.structTreeLayer.render(H);R.classList.add("structTree"),this.canvas.appendChild(R)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(n)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),O}paintOnCanvas(C){const b=(0,s.createPromiseCapability)(),n={promise:b.promise,onRenderContinue(R){R()},cancel(){H.cancel()}},r=this.viewport,y=document.createElement("canvas");y.hidden=!0;let m=!0;const A=function(){m&&(y.hidden=!1,m=!1)};C.appendChild(y),this.canvas=y,y.mozOpaque=!0;const N=y.getContext("2d",{alpha:!1}),O=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){const R=r.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});O.sx*=R.width/r.width,O.sy*=R.height/r.height}if(this.maxCanvasPixels>0){const z=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));O.sx>z||O.sy>z?(O.sx=z,O.sy=z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const U=(0,l.approximateFraction)(O.sx),j=(0,l.approximateFraction)(O.sy);y.width=(0,l.roundToDivide)(r.width*O.sx,U[0]),y.height=(0,l.roundToDivide)(r.height*O.sy,j[0]),y.style.width=(0,l.roundToDivide)(r.width,U[1])+"px",y.style.height=(0,l.roundToDivide)(r.height,j[1])+"px",this.paintedViewportMap.set(y,r);const D={canvasContext:N,transform:O.scaled?[O.sx,0,0,O.sy,0,0]:null,viewport:this.viewport,annotationMode:ge(this,x),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},H=this.pdfPage.render(D);return H.onContinue=function(R){A(),n.onRenderContinue?n.onRenderContinue(R):R()},H.promise.then(function(){A(),b.resolve()},function(R){A(),b.reject(R)}),n}paintOnSvg(C){let b=!1;const n=()=>{if(b)throw new s.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,y=this.viewport.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:ge(this,x)}).then(A=>(n(),new s.SVGGraphics(r.commonObjs,r.objs).getSVG(A,y).then(O=>{n(),this.svg=O,this.paintedViewportMap.set(O,y),O.style.width=C.style.width,O.style.height=C.style.height,this.renderingState=l.RenderingStates.FINISHED,C.appendChild(O)}))),onRenderContinue(A){A()},cancel(){b=!0}}}setPageLabel(C){this.pageLabel="string"==typeof C?C:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.compatibilityParams=e.OptionKind=e.AppOptions=void 0;const u=Object.create(null);e.compatibilityParams=u;{const d=navigator.userAgent||"",a=navigator.platform||"",x=navigator.maxTouchPoints||1,F=/Android/.test(d);(/\b(iPad|iPhone|iPod)(?=;)/.test(d)||"MacIntel"===a&&x>1||F)&&(u.maxCanvasPixels=5242880)}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};e.OptionKind=s;const l={annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,compatibility:u.maxCanvasPixels,kind:s.VIEWER},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},renderer:{value:"canvas",kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},useOnlyCssZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};l.disablePreferences={value:!1,kind:s.VIEWER},l.locale={value:navigator.language||"en-US",kind:s.VIEWER},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER},l.renderer.kind+=s.PREFERENCE;const f=Object.create(null);e.AppOptions=class k{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(a){var C;const x=f[a];if(void 0!==x)return x;const F=l[a];return void 0!==F?null!=(C=F.compatibility)?C:F.value:void 0}static getAll(a=null){var F;const x=Object.create(null);for(const C in l){const b=l[C];if(a){if(0==(a&b.kind))continue;if(a===s.PREFERENCE){const r=b.value,y=typeof r;if("boolean"===y||"string"===y||"number"===y&&Number.isInteger(r)){x[C]=r;continue}throw new Error(`Invalid type for preference: ${C}`)}}const n=f[C];x[C]=void 0!==n?n:null!=(F=b.compatibility)?F:b.value}return x}static set(a,x){f[a]=x}static setAll(a){for(const x in a)f[x]=a[x]}static remove(a){delete f[a]}static _hasUserOptions(){return Object.keys(f).length>0}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=void 0;var s=u(3),l=u(6);e.PDFRenderingQueue=class k{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(a){this.pdfViewer=a}setThumbnailViewer(a){this.pdfThumbnailViewer=a}isHighestPriority(a){return this.highestPriorityPage===a.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(a){var x;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(a)&&(this.isThumbnailViewEnabled&&(null==(x=this.pdfThumbnailViewer)?void 0:x.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(a,x,F,C=!1){const b=a.views,n=b.length;if(0===n)return null;for(let N=0;N<n;N++){const O=b[N].view;if(!this.isViewFinished(O))return O}const r=a.first.id,y=a.last.id;if(y-r+1>n){const N=a.ids;for(let O=1,U=y-r;O<U;O++){const j=F?r+O:y-O;if(N.has(j))continue;const B=x[j-1];if(!this.isViewFinished(B))return B}}let m=F?y:r-2,A=x[m];return A&&!this.isViewFinished(A)||C&&(m+=F?1:-1,A=x[m],A&&!this.isViewFinished(A))?A:null}isViewFinished(a){return a.renderingState===l.RenderingStates.FINISHED}renderView(a){switch(a.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=a.renderingId,a.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=a.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=a.renderingId,a.draw().finally(()=>{this.renderHighestPriority()}).catch(x=>{x instanceof s.RenderingCancelledException||console.error(`renderView: "${x}"`)})}return!0}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextHighlighter=void 0;e.TextHighlighter=class u{constructor({findController:l,eventBus:f,pageIndex:k}){this.findController=l,this.matches=[],this.eventBus=f,this.pageIdx=k,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,f){this.textDivs=l,this.textContentItemsStr=f}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||-1===l.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,f){if(!l)return[];const{textContentItemsStr:k}=this;let d=0,a=0;const x=k.length-1,F=[];for(let C=0,b=l.length;C<b;C++){let n=l[C];for(;d!==x&&n>=a+k[d].length;)a+=k[d].length,d++;d===k.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:d,offset:n-a}};for(n+=f[C];d!==x&&n>a+k[d].length;)a+=k[d].length,d++;r.end={divIdx:d,offset:n-a},F.push(r)}return F}_renderMatches(l){if(0===l.length)return;const{findController:f,pageIdx:k}=this,{textContentItemsStr:d,textDivs:a}=this,x=k===f.selected.pageIdx,F=f.selected.matchIdx;let b=null;const n_offset=void 0;function r(N,O){const U=N.divIdx;return a[U].textContent="",y(U,0,N.offset,O)}function y(N,O,U,j){let B=a[N];if(B.nodeType===Node.TEXT_NODE){const R=document.createElement("span");B.parentNode.insertBefore(R,B),R.appendChild(B),a[N]=R,B=R}const D=d[N].substring(O,U),H=document.createTextNode(D);if(j){const R=document.createElement("span");return R.className=`${j} appended`,R.appendChild(H),B.appendChild(R),j.includes("selected")?R.offsetLeft:0}return B.appendChild(H),0}let m=F,A=m+1;if(f.state.highlightAll)m=0,A=l.length;else if(!x)return;for(let N=m;N<A;N++){const O=l[N],U=O.begin,j=O.end,B=x&&N===F,D=B?" selected":"";let H=0;if(b&&U.divIdx===b.divIdx?y(b.divIdx,b.offset,U.offset):(null!==b&&y(b.divIdx,b.offset,n_offset),r(U)),U.divIdx===j.divIdx)H=y(U.divIdx,U.offset,j.offset,"highlight"+D);else{H=y(U.divIdx,U.offset,n_offset,"highlight begin"+D);for(let R=U.divIdx+1,z=j.divIdx;R<z;R++)a[R].className="highlight middle"+D;r(j,"highlight end"+D)}b=j,B&&f.scrollMatchIntoView({element:a[U.divIdx],selectedLeft:H,pageIndex:k,matchIndex:F})}b&&y(b.divIdx,b.offset,n_offset)}_updateMatches(){if(!this.enabled)return;const{findController:l,matches:f,pageIdx:k}=this,{textContentItemsStr:d,textDivs:a}=this;let x=-1;for(let b=0,n=f.length;b<n;b++){const r=f[b];for(let m=Math.max(x,r.begin.divIdx),A=r.end.divIdx;m<=A;m++){const N=a[m];N.textContent=d[m],N.className=""}x=r.end.divIdx+1}(null==l?void 0:l.highlightMatches)&&(this.matches=this._convertMatches(l.pageMatches[k]||null,l.pageMatchesLength[k]||null),this._renderMatches(this.matches))}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var s=u(3);function l(k,d){const a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=k,a.target="_parent","download"in a&&(a.download=d),(document.body||document.documentElement).appendChild(a),a.click(),a.remove()}e.DownloadManager=class f{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(d,a){(0,s.createValidAbsoluteUrl)(d,"http://example.com")?l(d+"#pdfjs.action=download",a):console.error(`downloadUrl - not a valid URL: ${d}`)}downloadData(d,a,x){l(URL.createObjectURL(new Blob([d],{type:x})),a)}openOrDownloadData(d,a,x){const F=(0,s.isPdfFile)(x),C=F?"application/pdf":"";if(F){let n,b=this._openBlobUrls.get(d);b||(b=URL.createObjectURL(new Blob([a],{type:C})),this._openBlobUrls.set(d,b)),n="?file="+encodeURIComponent(b+"#"+x);try{return window.open(n),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(d)}}return this.downloadData(a,x,C),!1}download(d,a,x,F="download"){l(URL.createObjectURL(d),x)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WaitOnType=e.EventBus=e.AutomationEventBus=void 0,e.waitOnEventOrTimeout=function s({target:k,name:d,delay:a=0}){return new Promise(function(x,F){if("object"!=typeof k||!d||"string"!=typeof d||!(Number.isInteger(a)&&a>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function C(y){k instanceof l?k._off(d,b):k.removeEventListener(d,b),r&&clearTimeout(r),x(y)}const b=C.bind(null,u.EVENT);k instanceof l?k._on(d,b):k.addEventListener(d,b);const n=C.bind(null,u.TIMEOUT),r=setTimeout(n,a)})};const u={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=u;class l{constructor(){this._listeners=Object.create(null)}on(d,a,x=null){this._on(d,a,{external:!0,once:null==x?void 0:x.once})}off(d,a,x=null){this._off(d,a,{external:!0,once:null==x?void 0:x.once})}dispatch(d,a){const x=this._listeners[d];if(!x||0===x.length)return;let F;for(const{listener:C,external:b,once:n}of x.slice(0))n&&this._off(d,C),b?(F||(F=[])).push(C):C(a);if(F){for(const C of F)C(a);F=null}}_on(d,a,x=null){var C;((C=this._listeners)[d]||(C[d]=[])).push({listener:a,external:!0===(null==x?void 0:x.external),once:!0===(null==x?void 0:x.once)})}_off(d,a,x=null){const F=this._listeners[d];if(F)for(let C=0,b=F.length;C<b;C++)if(F[C].listener===a)return void F.splice(C,1)}}e.EventBus=l;e.AutomationEventBus=class f extends l{dispatch(d,a){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0,u(19);var s=u(4);const l=document.webL10n;e.GenericL10n=class f{constructor(d){this._lang=d,this._ready=new Promise((a,x)=>{l.setLanguage((0,s.fixupLangCode)(d),()=>{a(l)})})}getLanguage(){var d=this;return p(function*(){return(yield d._ready).getLanguage()})()}getDirection(){var d=this;return p(function*(){return(yield d._ready).getDirection()})()}get(d,a=null,x=(0,s.getL10nFallback)(d,a)){var F=this;return p(function*(){return(yield F._ready).get(d,a,x)})()}translate(d){var a=this;return p(function*(){return(yield a._ready).translate(d)})()}}},()=>{document.webL10n=function(t,e,u){var s={},l="",f="textContent",k="",d={},a="loading";function r(R,z,v){z=z||function(S){},v=v||function(){};var c=new XMLHttpRequest;c.open("GET",R,true),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=utf-8"),c.onreadystatechange=function(){4==c.readyState&&(200==c.status||0===c.status?z(c.responseText):v())},c.onerror=v,c.ontimeout=v;try{c.send(null)}catch(o){v()}}function y(R,z,v,c){var o=R.replace(/[^\/]*$/,"")||"./";function S(M){return M.lastIndexOf("\\")<0?M:M.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(R,function(M){l+=M,function _(M,i){var P={},E=/^\s*|\s*$/,V=/^\s*#|^\s*$/,g=/^\s*\[(.*)\]\s*$/,W=/^\s*@import\s+url\((.*)\)\s*$/i,q=/^([^=\s]*)\s*=\s*(.+)$/;function $(ne,ue,ce){var pe=ne.replace(E,"").split(/[\r\n]+/),h="*",I=z.split("-",1)[0],K=!1,G="";!function Y(){for(;;){if(!pe.length)return void ce();var oe=pe.shift();if(!V.test(oe)){if(ue){if(G=g.exec(oe)){h=G[1].toLowerCase(),K="*"!==h&&h!==z&&h!==I;continue}if(K)continue;if(G=W.exec(oe))return void Z(o+G[1],Y)}var fe=oe.match(q);fe&&3==fe.length&&(P[fe[1]]=S(fe[2]))}}}()}function Z(ne,ue){r(ne,function(ce){$(ce,!1,ue)},function(){console.warn(ne+" not found."),ue()})}$(M,!0,function(){i(P)})}(M,function(i){for(var P in i){var E,V,g=P.lastIndexOf(".");g>0?(E=P.substring(0,g),V=P.substring(g+1)):(E=P,V=f),s[E]||(s[E]={}),s[E][V]=i[P]}v&&v()})},c)}function m(R,z){R&&(R=R.toLowerCase()),z=z||function(){},function A(){s={},l="",k=""}(),k=R;var v=function F(){return e.querySelectorAll('link[type="application/l10n"]')}(),c=v.length;if(0!==c){var M,i=0;M=function(){++i>=c&&(z(),a="complete")};for(var E=0;E<c;E++)new P(v[E]).load(R,M)}else{var o=function C(){var R=e.querySelector('script[type="application/l10n"]');return R?JSON.parse(R.innerHTML):null}();if(o&&o.locales&&o.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(s=o.locales[R])){var S=o.default_locale.toLowerCase();for(var _ in o.locales){if((_=_.toLowerCase())===R){s=o.locales[R];break}_===S&&(s=o.locales[S])}}z()}else console.log("no resource to load, early way out");a="complete"}function P(g){var W=g.href;this.load=function(q,$){y(W,q,$,function(){console.warn(W+" not found."),console.warn('"'+q+'" resource not found'),k="",$()})}}}function O(R,z,v){var c=s[R];if(!c){if(console.warn("#"+R+" is undefined."),!v)return null;c=v}var o={};for(var S in c){var _=c[S];_=j(_=U(_,z,R,S),z,R),o[S]=_}return o}function U(R,z,v,c){var S=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(R);if(!S||!S.length)return R;var i,_=S[1],M=S[2];return z&&M in z?i=z[M]:M in s&&(i=s[M]),_ in d&&(R=(0,d[_])(R,i,v,c)),R}function j(R,z,v){return R.replace(/\{\{\s*(.+?)\s*\}\}/g,function(o,S){return z&&S in z?z[S]:S in s?s[S]:(console.log("argument {{"+S+"}} for #"+v+" is undefined."),o)})}function B(R){var z=function n(R){if(!R)return{};var z=R.getAttribute("data-l10n-id"),v=R.getAttribute("data-l10n-args"),c={};if(v)try{c=JSON.parse(v)}catch(o){console.warn("could not parse arguments for #"+z)}return{id:z,args:c}}(R);if(z.id){var v=O(z.id,z.args);if(!v)return void console.warn("#"+z.id+" is undefined.");if(v[f]){if(0===function D(R){if(R.children)return R.children.length;if(void 0!==R.childElementCount)return R.childElementCount;for(var z=0,v=0;v<R.childNodes.length;v++)z+=1===R.nodeType?1:0;return z}(R))R[f]=v[f];else{for(var c=R.childNodes,o=!1,S=0,_=c.length;S<_;S++)3===c[S].nodeType&&/\S/.test(c[S].nodeValue)&&(o?c[S].nodeValue="":(c[S].nodeValue=v[f],o=!0));if(!o){var M=e.createTextNode(v[f]);R.insertBefore(M,R.firstChild)}}delete v[f]}for(var i in v)R[i]=v[i]}}return d.plural=function(R,z,v,c){var o=parseFloat(z);if(isNaN(o)||c!=f)return R;d._pluralRules||(d._pluralRules=function N(R){function v(_,M){return-1!==M.indexOf(_)}function c(_,M,i){return M<=_&&_<=i}var o={0:function(_){return"other"},1:function(_){return c(_%100,3,10)?"few":0===_?"zero":c(_%100,11,99)?"many":2==_?"two":1==_?"one":"other"},2:function(_){return 0!==_&&_%10==0?"many":2==_?"two":1==_?"one":"other"},3:function(_){return 1==_?"one":"other"},4:function(_){return c(_,0,1)?"one":"other"},5:function(_){return c(_,0,2)&&2!=_?"one":"other"},6:function(_){return 0===_?"zero":_%10==1&&_%100!=11?"one":"other"},7:function(_){return 2==_?"two":1==_?"one":"other"},8:function(_){return c(_,3,6)?"few":c(_,7,10)?"many":2==_?"two":1==_?"one":"other"},9:function(_){return 0===_||1!=_&&c(_%100,1,19)?"few":1==_?"one":"other"},10:function(_){return c(_%10,2,9)&&!c(_%100,11,19)?"few":_%10!=1||c(_%100,11,19)?"other":"one"},11:function(_){return c(_%10,2,4)&&!c(_%100,12,14)?"few":_%10==0||c(_%10,5,9)||c(_%100,11,14)?"many":_%10==1&&_%100!=11?"one":"other"},12:function(_){return c(_,2,4)?"few":1==_?"one":"other"},13:function(_){return c(_%10,2,4)&&!c(_%100,12,14)?"few":1!=_&&c(_%10,0,1)||c(_%10,5,9)||c(_%100,12,14)?"many":1==_?"one":"other"},14:function(_){return c(_%100,3,4)?"few":_%100==2?"two":_%100==1?"one":"other"},15:function(_){return 0===_||c(_%100,2,10)?"few":c(_%100,11,19)?"many":1==_?"one":"other"},16:function(_){return _%10==1&&11!=_?"one":"other"},17:function(_){return 3==_?"few":0===_?"zero":6==_?"many":2==_?"two":1==_?"one":"other"},18:function(_){return 0===_?"zero":c(_,0,2)&&0!==_&&2!=_?"one":"other"},19:function(_){return c(_,2,10)?"few":c(_,0,1)?"one":"other"},20:function(_){return!c(_%10,3,4)&&_%10!=9||c(_%100,10,19)||c(_%100,70,79)||c(_%100,90,99)?_%1e6==0&&0!==_?"many":_%10!=2||v(_%100,[12,72,92])?_%10!=1||v(_%100,[11,71,91])?"other":"one":"two":"few"},21:function(_){return 0===_?"zero":1==_?"one":"other"},22:function(_){return c(_,0,1)||c(_,11,99)?"one":"other"},23:function(_){return c(_%10,1,2)||_%20==0?"one":"other"},24:function(_){return c(_,3,10)||c(_,13,19)?"few":v(_,[2,12])?"two":v(_,[1,11])?"one":"other"}},S={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[R.replace(/-.*$/,"")];return S in o?o[S]:(console.warn("plural form unknown for ["+R+"]"),function(){return"other"})}(k));var S="["+d._pluralRules(o)+"]";return 0===o&&v+"[zero]"in s?R=s[v+"[zero]"][c]:1==o&&v+"[one]"in s?R=s[v+"[one]"][c]:2==o&&v+"[two]"in s?R=s[v+"[two]"][c]:v+S in s?R=s[v+S][c]:v+"[other]"in s&&(R=s[v+"[other]"][c]),R},{get:function(R,z,v){var S,c=R.lastIndexOf("."),o=f;c>0&&(o=R.substring(c+1),R=R.substring(0,c)),v&&((S={})[o]=v);var _=O(R,z,S);return _&&o in _?_[o]:"{{"+R+"}}"},getData:function(){return s},getText:function(){return l},getLanguage:function(){return k},setLanguage:function(R,z){m(R,function(){z&&z()})},getDirection:function(){var z=k.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(z)>=0?"rtl":"ltr"},translate:function H(R){for(var z=function b(R){return R?R.querySelectorAll("*[data-l10n-id]"):[]}(R=R||e.documentElement),v=z.length,c=0;c<v;c++)B(z[c]);B(R)},getReadyState:function(){return a},ready:function(R){R&&("complete"==a||"interactive"==a?t.setTimeout(function(){R()}):e.addEventListener&&e.addEventListener("localized",function z(){e.removeEventListener("localized",z),R()}))}}}(window,document)},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var s=u(6),l=u(3),f=u(21);const k={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=k;const F={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},C=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...C.values()].map(j=>String.fromCharCode(j)).join(""),n=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,y=/([^\p{M}])\p{M}*$/u,m=/^\p{M}*([^\p{M}])/u;let A=null;function N(j){if(!A){const _=Object.keys(F).join("");A=new RegExp(`([${_}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const B=[];let D;for(;null!==(D=n.exec(j));)B.push([D[0].length,D.index]);let H=j.normalize("NFD");const R=[[0,0]];let z=0,v=0,c=0,o=0,S=!1;return H=H.replace(A,(_,M,i,P,E,V)=>{var g;if(V-=c,M){const W=F[_],q=W.length;for(let $=1;$<q;$++)R.push([V-v+$,v-$]);return v-=q-1,W}if(i){const W=i.endsWith("\n"),q=W?i.length-2:i.length;S=!0;let $=q;V+o===(null==(g=B[z])?void 0:g[1])&&($-=B[z][0],++z);for(let Z=1;Z<$+1;Z++)R.push([V-1-v+Z,v-Z]);return v-=$,c+=$,W?(R.push([(V+=q-1)-v+1,1+v]),v+=1,c+=1,o+=1,i.slice(0,q)):i}return P?(R.push([V-v+1,1+v]),v+=1,c+=1,o+=1,P.charAt(0)):(R.push([V-v+1,v-1]),v-=1,c+=1,o+=1," ")}),R.push([H.length,v]),[H,R,S]}function O(j,B,D){if(!j)return[B,D];const H=B,R=B+D;let z=(0,s.binarySearchFirstItem)(j,c=>c[0]>=H);j[z][0]>H&&--z;let v=(0,s.binarySearchFirstItem)(j,c=>c[0]>=R,z);return j[v][0]>R&&--v,[H+j[z][1],D+j[v][1]-j[z][1]]}e.PDFFindController=class U{constructor({linkService:B,eventBus:D}){this._linkService=B,this._eventBus=D,this._reset(),D._on("find",this._onFind.bind(this)),D._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(H,R)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const z=Object.assign(Object.create(null),R,{type:H.substring(4)});this._onFind(z)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(B){this._pdfDocument&&this._reset(),B&&(this._pdfDocument=B,this._firstPageCapability.resolve())}_onFind(B){if(!B)return;const D=this._pdfDocument,{type:H}=B;(null===this._state||this._shouldDirtyMatch(B))&&(this._dirtyMatch=!0),this._state=B,"highlightallchange"!==H&&this._updateUIState(k.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||D&&this._pdfDocument!==D)return;this._extractText();const R=!this._highlightMatches,z=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),H?this._dirtyMatch?this._nextMatch():"again"===H?(this._nextMatch(),R&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===H?(z?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:B=null,selectedLeft:D=0,pageIndex:H=-1,matchIndex:R=-1}){this._scrollMatches&&B&&-1!==R&&R===this._selected.matchIdx&&-1!==H&&H===this._selected.pageIdx&&(this._scrollMatches=!1,(0,s.scrollIntoView)(B,{top:-50,left:D+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=N(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(B){if(B.query!==this._state.query)return!0;switch(B.type){case"again":const D=this._selected.pageIdx+1,H=this._linkService;return D>=1&&D<=H.pagesCount&&D!==H.page&&!H.isPageVisible(D);case"highlightallchange":return!1}return!0}_isEntireWord(B,D,H){let R=B.slice(0,D).match(y);if(R){const z=B.charCodeAt(D),v=R[1].charCodeAt(0);if((0,f.getCharacterType)(z)===(0,f.getCharacterType)(v))return!1}if(R=B.slice(D+H).match(m),R){const z=B.charCodeAt(D+H-1),v=R[1].charCodeAt(0);if((0,f.getCharacterType)(z)===(0,f.getCharacterType)(v))return!1}return!0}_calculateRegExpMatch(B,D,H,R){const z=[],v=[],c=this._pageDiffs[H];let o;for(;null!==(o=B.exec(R));){if(D&&!this._isEntireWord(R,o.index,o[0].length))continue;const[S,_]=O(c,o.index,o[0].length);_&&(z.push(S),v.push(_))}this._pageMatches[H]=z,this._pageMatchesLength[H]=v}_convertToRegExpString(B,D){const{matchDiacritics:H}=this._state;let R=!1;const z="[ ]*";return(B=B.replace(r,(v,c,o,S,_,M)=>c?`[ ]*\\${c}[ ]*`:o?`[ ]*${o}[ ]*`:S?"[ ]+":H?_||M:_?C.has(_.charCodeAt(0))?_:"":D?(R=!0,`${M}\\p{M}*`):M)).endsWith(z)&&(B=B.slice(0,B.length-z.length)),H&&D&&(R=!0,B=`${B}(?=[${b}]|[^\\p{M}]|$)`),[R,B]}_calculateMatch(B){let D=this._query;if(0===D.length)return;const{caseSensitive:H,entireWord:R,phraseSearch:z}=this._state,v=this._pageContents[B],c=this._hasDiacritics[B];let o=!1;if(z)[o,D]=this._convertToRegExpString(D,c);else{const M=D.match(/\S+/g);M&&(D=M.sort().reverse().map(i=>{const[P,E]=this._convertToRegExpString(i,c);return o||(o=P),`(${E})`}).join("|"))}D=new RegExp(D,`g${o?"u":""}${H?"":"i"}`),this._calculateRegExpMatch(D,R,B,v),this._state.highlightAll&&this._updatePage(B),this._resumePageIdx===B&&(this._resumePageIdx=null,this._nextPageMatch());const _=this._pageMatches[B].length;_>0&&(this._matchesCountTotal+=_,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let B=Promise.resolve();for(let D=0,H=this._linkService.pagesCount;D<H;D++){const R=(0,l.createPromiseCapability)();this._extractTextPromises[D]=R.promise,B=B.then(()=>this._pdfDocument.getPage(D+1).then(z=>z.getTextContent()).then(z=>{const v=z.items,c=[];for(let o=0,S=v.length;o<S;o++)c.push(v[o].str),v[o].hasEOL&&c.push("\n");[this._pageContents[D],this._pageDiffs[D],this._hasDiacritics[D]]=N(c.join("")),R.resolve(D)},z=>{console.error(`Unable to get text content for page ${D+1}`,z),this._pageContents[D]="",this._pageDiffs[D]=null,this._hasDiacritics[D]=!1,R.resolve(D)}))}}_updatePage(B){this._scrollMatches&&this._selected.pageIdx===B&&(this._linkService.page=B+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:B})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const B=this._state.findPrevious,D=this._linkService.page-1,H=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=D,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let z=0;z<H;z++)this._pendingFindMatches.has(z)||(this._pendingFindMatches.add(z),this._extractTextPromises[z].then(v=>{this._pendingFindMatches.delete(v),this._calculateMatch(v)}))}if(""===this._query)return void this._updateUIState(k.FOUND);if(this._resumePageIdx)return;const R=this._offset;if(this._pagesToSearch=H,null!==R.matchIdx){const z=this._pageMatches[R.pageIdx].length;if(!B&&R.matchIdx+1<z||B&&R.matchIdx>0)return R.matchIdx=B?R.matchIdx-1:R.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(B)}this._nextPageMatch()}_matchesReady(B){const D=this._offset,H=B.length,R=this._state.findPrevious;return H?(D.matchIdx=R?H-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(R),!!(D.wrapped&&(D.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let B=null;do{const D=this._offset.pageIdx;if(B=this._pageMatches[D],!B){this._resumePageIdx=D;break}}while(!this._matchesReady(B))}_advanceOffsetPage(B){const D=this._offset,H=this._linkService.pagesCount;D.pageIdx=B?D.pageIdx-1:D.pageIdx+1,D.matchIdx=null,this._pagesToSearch--,(D.pageIdx>=H||D.pageIdx<0)&&(D.pageIdx=B?H-1:0,D.wrapped=!0)}_updateMatch(B=!1){let D=k.NOT_FOUND;const H=this._offset.wrapped;if(this._offset.wrapped=!1,B){const R=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,D=H?k.WRAPPED:k.FOUND,-1!==R&&R!==this._selected.pageIdx&&this._updatePage(R)}this._updateUIState(D,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(B){const D=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||D&&this._pdfDocument!==D||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(k.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var z;const{pageIdx:B,matchIdx:D}=this._selected;let H=0,R=this._matchesCountTotal;if(-1!==D){for(let v=0;v<B;v++)H+=(null==(z=this._pageMatches[v])?void 0:z.length)||0;H+=D+1}return(H<1||H>R)&&(H=R=0),{current:H,total:R}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(B,D=!1){var H,R;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:B,previous:D,matchesCount:this._requestMatchesCount(),rawQuery:null!=(R=null==(H=this._state)?void 0:H.query)?R:null})}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterType=void 0,e.getCharacterType=function n(r){return function s(r){return r<11904}(r)?function l(r){return 0==(65408&r)}(r)?function d(r){return 32===r||9===r||13===r||10===r}(r)?u.SPACE:function f(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function k(r){return r>=48&&r<=57}(r)||95===r?u.ALPHA_LETTER:u.PUNCT:function b(r){return 3584==(65408&r)}(r)?u.THAI_LETTER:160===r?u.SPACE:u.ALPHA_LETTER:function a(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?u.HAN_LETTER:function x(r){return r>=12448&&r<=12543}(r)?u.KATAKANA_LETTER:function F(r){return r>=12352&&r<=12447}(r)?u.HIRAGANA_LETTER:function C(r){return r>=65376&&r<=65439}(r)?u.HALFWIDTH_KATAKANA_LETTER:u.ALPHA_LETTER};const u={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=u},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFHistory=void 0,e.isDestArraysEqual=C,e.isDestHashesEqual=F;var s=u(6),l=u(17);function a(){return document.location.hash}function F(b,n){return"string"==typeof b&&"string"==typeof n&&(b===n||(0,s.parseQueryString)(b).get("nameddest")===n)}function C(b,n){function r(y,m){if(typeof y!=typeof m||Array.isArray(y)||Array.isArray(m))return!1;if(null!==y&&"object"==typeof y&&null!==m){if(Object.keys(y).length!==Object.keys(m).length)return!1;for(const A in y)if(!r(y[A],m[A]))return!1;return!0}return y===m||Number.isNaN(y)&&Number.isNaN(m)}if(!Array.isArray(b)||!Array.isArray(n)||b.length!==n.length)return!1;for(let y=0,m=b.length;y<m;y++)if(!r(b[y],n[y]))return!1;return!0}e.PDFHistory=class x{constructor({linkService:n,eventBus:r}){this.linkService=n,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",y=>{this._isViewerInPresentationMode=y.state!==s.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",y=>{this._isPagesLoaded=!!y.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:r=!1,updateUrl:y=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const m=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===y,this._initialized=!0,this._bindEvents();const A=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(A,!0)||r){const{hash:O,page:U,rotation:j}=this._parseCurrentHash(!0);return!O||m||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:O,page:U,rotation:j},!0)}const N=A.destination;this._updateInternalState(N,A.uid,!0),void 0!==N.rotation&&(this._initialRotation=N.rotation),N.dest?(this._initialBookmark=JSON.stringify(N.dest),this._destination.page=null):N.hash?this._initialBookmark=N.hash:N.page&&(this._initialBookmark=`page=${N.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:r,pageNumber:y}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(y)&&(null!==y||this._destination))return void console.error(`PDFHistory.push: "${y}" is not a valid pageNumber parameter.`);const m=n||JSON.stringify(r);if(!m)return;let A=!1;if(this._destination&&(F(this._destination.hash,m)||C(this._destination.dest,r))){if(this._destination.page)return;A=!0}this._popStateInProgress&&!A||(this._pushOrReplaceState({dest:r,hash:m,page:y,rotation:this.linkService.rotation},A),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){var r;if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);(null==(r=this._destination)?void 0:r.page)!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,r=!1){const y=r||!this._destination,m={fingerprint:this._fingerprint,uid:y?this._uid:this._uid+1,destination:n};let A;if(this._updateInternalState(n,m.uid),this._updateUrl&&(null==n?void 0:n.hash)){const N=document.location.href.split("#")[0];N.startsWith("file://")||(A=`${N}#${n.hash}`)}y?window.history.replaceState(m,"",A):window.history.pushState(m,"",A)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let r=this._position;if(n&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let y=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;y=!0}this._pushOrReplaceState(r,y)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,r=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[y]=performance.getEntriesByType("navigation");if("reload"!==(null==y?void 0:y.type))return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,r,y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),y&&(null==n?void 0:n.temporary)&&delete n.temporary,this._destination=n,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const r=unescape(a()).substring(1),y=(0,s.parseQueryString)(r),m=y.get("nameddest")||"";let A=0|y.get("page");return(!this._isValidPage(A)||n&&m.length>0)&&(A=null),{hash:r,page:A,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${n.pageNumber}`:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const r=a(),y=this._currentHash!==r;if(this._currentHash=r,!n){this._uid++;const{hash:A,page:N,rotation:O}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:A,page:N,rotation:O},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,y&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const m=n.destination;this._updateInternalState(m,n.uid,!0),(0,s.isValidRotation)(m.rotation)&&(this.linkService.rotation=m.rotation),m.dest?this.linkService.goToDestination(m.dest):m.hash?this.linkService.setHash(m.hash):m.page&&(this.linkService.page=m.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFScriptingManager=void 0;var s=u(6),l=u(3);e.PDFScriptingManager=class f{constructor({eventBus:d,sandboxBundleSrc:a=null,scriptingFactory:x=null,docPropertiesLookup:F=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=d,this._sandboxBundleSrc=a,this._scriptingFactory=x,this._docPropertiesLookup=F,this._scriptingFactory||window.addEventListener("updatefromsandbox",C=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:C.detail})})}setViewer(d){this._pdfViewer=d}setDocument(d){var a=this;return p(function*(){var b;if(a._pdfDocument&&(yield a._destroyScripting()),a._pdfDocument=d,!d)return;const[x,F,C]=yield Promise.all([d.getFieldObjects(),d.getCalculationOrderIds(),d.getJSActions()]);if(x||C){if(d===a._pdfDocument){try{a._scripting=a._createScripting()}catch(n){return console.error(`PDFScriptingManager.setDocument: "${null==n?void 0:n.message}".`),void(yield a._destroyScripting())}a._internalEvents.set("updatefromsandbox",n=>{(null==n?void 0:n.source)===window&&a._updateFromSandbox(n.detail)}),a._internalEvents.set("dispatcheventinsandbox",n=>{var r;null==(r=a._scripting)||r.dispatchEventInSandbox(n.detail)}),a._internalEvents.set("pagechanging",({pageNumber:n,previous:r})=>{n!==r&&(a._dispatchPageClose(r),a._dispatchPageOpen(n))}),a._internalEvents.set("pagerendered",({pageNumber:n})=>{!a._pageOpenPending.has(n)||n===a._pdfViewer.currentPageNumber&&a._dispatchPageOpen(n)}),a._internalEvents.set("pagesdestroy",function(){var n=p(function*(r){var y,m;yield a._dispatchPageClose(a._pdfViewer.currentPageNumber),yield null==(y=a._scripting)?void 0:y.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(m=a._closeCapability)||m.resolve()});return function(r){return n.apply(this,arguments)}}()),a._domEvents.set("mousedown",n=>{a._mouseState.isDown=!0}),a._domEvents.set("mouseup",n=>{a._mouseState.isDown=!1});for(const[n,r]of a._internalEvents)a._eventBus._on(n,r);for(const[n,r]of a._domEvents)window.addEventListener(n,r);try{const n=yield a._getDocProperties();if(d!==a._pdfDocument)return;yield a._scripting.createSandbox({objects:x,calculationOrder:F,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:$e(Xe({},n),{actions:C})}),a._eventBus.dispatch("sandboxcreated",{source:a})}catch(n){return console.error(`PDFScriptingManager.setDocument: "${null==n?void 0:n.message}".`),void(yield a._destroyScripting())}yield null==(b=a._scripting)?void 0:b.dispatchEventInSandbox({id:"doc",name:"Open"}),yield a._dispatchPageOpen(a._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{d===a._pdfDocument&&(a._ready=!0)})}}else yield a._destroyScripting()})()}dispatchWillSave(d){var a=this;return p(function*(){var x;return null==(x=a._scripting)?void 0:x.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(d){var a=this;return p(function*(){var x;return null==(x=a._scripting)?void 0:x.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(d){var a=this;return p(function*(){var x;return null==(x=a._scripting)?void 0:x.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(d){var a=this;return p(function*(){var x;return null==(x=a._scripting)?void 0:x.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var d;return(null==(d=this._destroyCapability)?void 0:d.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(d){var a=this;return p(function*(){var y;const x=a._pdfViewer.isInPresentationMode||a._pdfViewer.isChangingPresentationMode,{id:F,siblings:C,command:b,value:n}=d;if(!F){switch(b){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(x)return;const m=(0,s.apiPageLayoutToViewerModes)(n);a._pdfViewer.spreadMode=m.spreadMode;break;case"page-num":a._pdfViewer.currentPageNumber=n+1;break;case"print":yield a._pdfViewer.pagesPromise,a._eventBus.dispatch("print",{source:a});break;case"println":console.log(n);break;case"zoom":if(x)return;a._pdfViewer.currentScaleValue=n;break;case"SaveAs":a._eventBus.dispatch("save",{source:a});break;case"FirstPage":a._pdfViewer.currentPageNumber=1;break;case"LastPage":a._pdfViewer.currentPageNumber=a._pdfViewer.pagesCount;break;case"NextPage":a._pdfViewer.nextPage();break;case"PrevPage":a._pdfViewer.previousPage();break;case"ZoomViewIn":if(x)return;a._pdfViewer.increaseScale();break;case"ZoomViewOut":if(x)return;a._pdfViewer.decreaseScale()}return}if(x&&d.focus)return;delete d.id,delete d.siblings;const r=C?[F,...C]:[F];for(const m of r){const A=document.getElementById(m);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:d})):null==(y=a._pdfDocument)||y.annotationStorage.setValue(m,d)}})()}_dispatchPageOpen(d,a=!1){var x=this;return p(function*(){const F=x._pdfDocument,C=x._visitedPages;if(a&&(x._closeCapability=(0,l.createPromiseCapability)()),!x._closeCapability)return;const b=x._pdfViewer.getPageView(d-1);if((null==b?void 0:b.renderingState)!==s.RenderingStates.FINISHED)return void x._pageOpenPending.add(d);x._pageOpenPending.delete(d);const n=p(function*(){var y,m;const r=yield C.has(d)?null:null==(y=b.pdfPage)?void 0:y.getJSActions();F===x._pdfDocument&&(yield null==(m=x._scripting)?void 0:m.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:d,actions:r}))})();C.set(d,n)})()}_dispatchPageClose(d){var a=this;return p(function*(){var b;const x=a._pdfDocument,F=a._visitedPages;if(!a._closeCapability||a._pageOpenPending.has(d))return;const C=F.get(d);!C||(F.set(d,null),yield C,x===a._pdfDocument&&(yield null==(b=a._scripting)?void 0:b.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:d})))})()}_getDocProperties(){var d=this;return p(function*(){if(d._docPropertiesLookup)return d._docPropertiesLookup(d._pdfDocument);const{docPropertiesLookup:a}=u(24);return a(d._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:d}=u(24);return new d(this._sandboxBundleSrc)}_destroyScripting(){var d=this;return p(function*(){var a,x;if(!d._scripting)return d._pdfDocument=null,void(null==(a=d._destroyCapability)||a.resolve());d._closeCapability&&(yield Promise.race([d._closeCapability.promise,new Promise(F=>{setTimeout(F,1e3)})]).catch(F=>{}),d._closeCapability=null),d._pdfDocument=null;try{yield d._scripting.destroySandbox()}catch(F){}for(const[F,C]of d._internalEvents)d._eventBus._off(F,C);d._internalEvents.clear();for(const[F,C]of d._domEvents)window.removeEventListener(F,C);d._domEvents.clear(),d._pageOpenPending.clear(),d._visitedPages.clear(),d._scripting=null,delete d._mouseState.isDown,d._ready=!1,null==(x=d._destroyCapability)||x.resolve()})()}}},(t,e,u)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericScripting=void 0,e.docPropertiesLookup=function l(d){return f.apply(this,arguments)};var s=u(3);function f(){return(f=p(function*(d){const x="".split("#")[0];let{info:F,metadata:C,contentDispositionFilename:b,contentLength:n}=yield d.getMetadata();if(!n){const{length:r}=yield d.getDownloadInfo();n=r}return $e(Xe({},F),{baseURL:x,filesize:n,filename:b||(0,s.getPdfFilenameFromUrl)(""),metadata:null==C?void 0:C.getRaw(),authors:null==C?void 0:C.get("dc:creator"),numPages:d.numPages,URL:""})})).apply(this,arguments)}e.GenericScripting=class k{constructor(a){this._ready=(0,s.loadScript)(a,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(a){var x=this;return p(function*(){(yield x._ready).create(a)})()}dispatchEventInSandbox(a){var x=this;return p(function*(){const F=yield x._ready;setTimeout(()=>F.dispatchEvent(a),0)})()}destroySandbox(){var a=this;return p(function*(){(yield a._ready).nukeSandbox()})()}}}],ie={};function ae(t){var e=ie[t];if(void 0!==e)return e.exports;var u=ie[t]={exports:{}};return le[t](u,u.exports,ae),u.exports}var te={};return(()=>{var t=te;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return e.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return e.DefaultStructTreeLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return e.DefaultTextLayerFactory}}),Object.defineProperty(t,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return e.DefaultXfaLayerFactory}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return k.DownloadManager}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return d.EventBus}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return a.GenericL10n}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return u.LinkTarget}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return x.NullL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return F.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return C.PDFHistory}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return u.PDFLinkService}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(t,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return l.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return l.PDFViewer}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return u.SimpleLinkService}}),Object.defineProperty(t,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return y.TextLayerBuilder}}),Object.defineProperty(t,"XfaLayerBuilder",{enumerable:!0,get:function(){return m.XfaLayerBuilder}}),Object.defineProperty(t,"parseQueryString",{enumerable:!0,get:function(){return s.parseQueryString}});var e=ae(1),u=ae(5),s=ae(6),l=ae(10),f=ae(2),k=ae(16),d=ae(17),a=ae(18),x=ae(4),F=ae(20),C=ae(22),b=ae(12),n=ae(23),r=ae(7),y=ae(8),m=ae(9)})(),te})()},8926:he=>{function L(p,le,ie,ae,te,t,e){try{var u=p[t](e),s=u.value}catch(l){return void ie(l)}u.done?le(s):Promise.resolve(s).then(ae,te)}he.exports=function J(p){return function(){var le=this,ie=arguments;return new Promise(function(ae,te){var t=p.apply(le,ie);function e(s){L(t,ae,te,e,u,"next",s)}function u(s){L(t,ae,te,e,u,"throw",s)}e(void 0)})}},he.exports.__esModule=!0,he.exports.default=he.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);