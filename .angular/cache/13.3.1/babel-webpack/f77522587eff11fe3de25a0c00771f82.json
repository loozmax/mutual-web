{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { EventEmitter, Input, Output, Component, NgModule } from '@angular/core';\nimport { TuiMonth, TUI_FIRST_DAY, TUI_LAST_DAY, tuiDefaultProp, TuiFocusableModule } from '@taiga-ui/cdk';\nimport { CommonModule } from '@angular/common';\nimport { TuiLinkModule } from '@taiga-ui/core/components/link';\nimport { TuiPrimitiveSpinButtonModule } from '@taiga-ui/core/components/primitive-spin-button';\nimport { TuiMonthPipeModule } from '@taiga-ui/core/pipes';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@taiga-ui/core/components/primitive-spin-button';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from '@taiga-ui/core/components/link';\nimport * as ɵngcc4 from '@taiga-ui/cdk';\nimport * as ɵngcc5 from '@taiga-ui/core/pipes';\n\nfunction TuiPrimitiveYearMonthPaginationComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r0.value.formattedYear, \" \");\n  }\n}\n\nfunction TuiPrimitiveYearMonthPaginationComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"button\", 3);\n    ɵngcc0.ɵɵlistener(\"click\", function TuiPrimitiveYearMonthPaginationComponent_ng_template_5_Template_button_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      const ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ctx_r3.onYearClick();\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"tuiFocusable\", false);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ctx_r2.value.formattedYear, \" \");\n  }\n}\n\nlet TuiPrimitiveYearMonthPaginationComponent = /*#__PURE__*/(() => {\n  let TuiPrimitiveYearMonthPaginationComponent = class TuiPrimitiveYearMonthPaginationComponent {\n    constructor() {\n      this.value = TuiMonth.currentLocal();\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.valueChange = new EventEmitter();\n      this.yearClick = new EventEmitter();\n    }\n\n    get prevMonthDisabled() {\n      return this.value.monthSameOrBefore(this.min);\n    }\n\n    get nextMonthDisabled() {\n      return this.value.monthSameOrAfter(this.max);\n    }\n\n    get oneYear() {\n      return this.min.year === this.max.year;\n    }\n\n    onYearClick() {\n      this.yearClick.next(this.value);\n    }\n\n    onPrevMonthClick() {\n      this.appendValueWithLimit({\n        month: -1\n      });\n    }\n\n    onNextMonthClick() {\n      this.appendValueWithLimit({\n        month: 1\n      });\n    }\n\n    appendValueWithLimit(date) {\n      const newMonth = this.value.append(date);\n\n      if (this.min.monthSameOrAfter(newMonth)) {\n        this.updateValue(this.min);\n        return;\n      }\n\n      if (this.max.monthSameOrBefore(newMonth)) {\n        this.updateValue(this.max);\n        return;\n      }\n\n      this.updateValue(newMonth);\n    }\n\n    updateValue(value) {\n      if (this.value.monthSame(value)) {\n        return;\n      }\n\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n\n  };\n\n  TuiPrimitiveYearMonthPaginationComponent.ɵfac = function TuiPrimitiveYearMonthPaginationComponent_Factory(t) {\n    return new (t || TuiPrimitiveYearMonthPaginationComponent)();\n  };\n\n  TuiPrimitiveYearMonthPaginationComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TuiPrimitiveYearMonthPaginationComponent,\n    selectors: [[\"tui-primitive-year-month-pagination\"]],\n    inputs: {\n      value: \"value\",\n      min: \"min\",\n      max: \"max\"\n    },\n    outputs: {\n      valueChange: \"valueChange\",\n      yearClick: \"yearClick\"\n    },\n    decls: 7,\n    vars: 10,\n    consts: [[3, \"focusable\", \"leftDisabled\", \"rightDisabled\", \"leftClick\", \"rightClick\"], [4, \"ngIf\", \"ngIfElse\"], [\"button\", \"\"], [\"automation-id\", \"tui-primitive-year-month-pagination__year-button\", \"tuiLink\", \"\", \"type\", \"button\", 3, \"tuiFocusable\", \"click\"]],\n    template: function TuiPrimitiveYearMonthPaginationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"tui-primitive-spin-button\", 0);\n        ɵngcc0.ɵɵlistener(\"leftClick\", function TuiPrimitiveYearMonthPaginationComponent_Template_tui_primitive_spin_button_leftClick_0_listener() {\n          return ctx.onPrevMonthClick();\n        })(\"rightClick\", function TuiPrimitiveYearMonthPaginationComponent_Template_tui_primitive_spin_button_rightClick_0_listener() {\n          return ctx.onNextMonthClick();\n        });\n        ɵngcc0.ɵɵtext(1);\n        ɵngcc0.ɵɵpipe(2, \"async\");\n        ɵngcc0.ɵɵpipe(3, \"tuiMonth\");\n        ɵngcc0.ɵɵtemplate(4, TuiPrimitiveYearMonthPaginationComponent_ng_container_4_Template, 2, 1, \"ng-container\", 1);\n        ɵngcc0.ɵɵtemplate(5, TuiPrimitiveYearMonthPaginationComponent_ng_template_5_Template, 2, 2, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n        ɵngcc0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        const _r1 = ɵngcc0.ɵɵreference(6);\n\n        ɵngcc0.ɵɵproperty(\"focusable\", false)(\"leftDisabled\", ctx.prevMonthDisabled)(\"rightDisabled\", ctx.nextMonthDisabled);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind1(2, 6, ɵngcc0.ɵɵpipeBind1(3, 8, ctx.value)), \" \");\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.oneYear)(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [ɵngcc1.TuiPrimitiveSpinButtonComponent, ɵngcc2.NgIf, ɵngcc3.TuiLinkComponent, ɵngcc4.TuiFocusableDirective],\n    pipes: [ɵngcc2.AsyncPipe, ɵngcc5.TuiMonthPipe],\n    styles: [\"[_nghost-%COMP%]{display:block}\"]\n  });\n\n  __decorate([Input(), tuiDefaultProp()], TuiPrimitiveYearMonthPaginationComponent.prototype, \"value\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiPrimitiveYearMonthPaginationComponent.prototype, \"min\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiPrimitiveYearMonthPaginationComponent.prototype, \"max\", void 0);\n\n  __decorate([Output()], TuiPrimitiveYearMonthPaginationComponent.prototype, \"valueChange\", void 0);\n\n  __decorate([Output()], TuiPrimitiveYearMonthPaginationComponent.prototype, \"yearClick\", void 0);\n\n  return TuiPrimitiveYearMonthPaginationComponent;\n})();\nlet TuiPrimitiveYearMonthPaginationModule = /*#__PURE__*/(() => {\n  let TuiPrimitiveYearMonthPaginationModule = class TuiPrimitiveYearMonthPaginationModule {};\n\n  TuiPrimitiveYearMonthPaginationModule.ɵfac = function TuiPrimitiveYearMonthPaginationModule_Factory(t) {\n    return new (t || TuiPrimitiveYearMonthPaginationModule)();\n  };\n\n  TuiPrimitiveYearMonthPaginationModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiPrimitiveYearMonthPaginationModule\n  });\n  TuiPrimitiveYearMonthPaginationModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFocusableModule, TuiPrimitiveSpinButtonModule, TuiLinkModule, TuiMonthPipeModule]]\n  });\n  return TuiPrimitiveYearMonthPaginationModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiPrimitiveYearMonthPaginationModule, {\n    declarations: function () {\n      return [TuiPrimitiveYearMonthPaginationComponent];\n    },\n    imports: function () {\n      return [CommonModule, TuiFocusableModule, TuiPrimitiveSpinButtonModule, TuiLinkModule, TuiMonthPipeModule];\n    },\n    exports: function () {\n      return [TuiPrimitiveYearMonthPaginationComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TuiPrimitiveYearMonthPaginationComponent, TuiPrimitiveYearMonthPaginationModule }; //# sourceMappingURL=taiga-ui-core-internal-primitive-year-month-pagination.js.map","map":null,"metadata":{},"sourceType":"module"}