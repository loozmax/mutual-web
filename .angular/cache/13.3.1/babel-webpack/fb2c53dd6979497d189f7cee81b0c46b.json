{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { Inject, ElementRef, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { typedFromEvent, TUI_DEFAULT_IDENTITY_MATCHER, isPresent } from '@taiga-ui/cdk';\nimport { TUI_DATA_LIST_HOST, TuiOptionComponent, TuiSvgModule, TuiScrollIntoViewModule } from '@taiga-ui/core';\nimport { POLYMORPHEUS_CONTEXT, PolymorpheusComponent } from '@tinkoff/ng-polymorpheus';\nimport { merge, EMPTY } from 'rxjs';\nimport { startWith, map, distinctUntilChanged } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@taiga-ui/core';\nimport * as ɵngcc3 from '@angular/forms';\n\nfunction TuiSelectOptionComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction TuiSelectOptionComponent_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵproperty(\"tuiScrollIntoView\", true);\n  }\n}\n\nfunction TuiSelectOptionComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 4);\n  }\n}\n\nlet TuiSelectOptionComponent = /*#__PURE__*/(() => {\n  let TuiSelectOptionComponent = class TuiSelectOptionComponent {\n    constructor(context, host, elementRef, option, control) {\n      var _a;\n\n      this.context = context;\n      this.host = host;\n      this.elementRef = elementRef;\n      this.option = option;\n      this.control = control;\n      this.selected$ = merge((_a = this.control.valueChanges) !== null && _a !== void 0 ? _a : EMPTY, typedFromEvent(this.elementRef.nativeElement, 'animationstart')).pipe(startWith(null), map(() => this.selected), distinctUntilChanged());\n    }\n\n    get matcher() {\n      return this.host.identityMatcher || TUI_DEFAULT_IDENTITY_MATCHER;\n    }\n\n    ngOnInit() {\n      if (isPresent(this.option.value) && this.host.checkOption) {\n        this.host.checkOption(this.option.value);\n      }\n    }\n\n    get selected() {\n      return isPresent(this.option.value) && isPresent(this.control.value) && this.matcher(this.control.value, this.option.value);\n    }\n\n  };\n\n  TuiSelectOptionComponent.ɵfac = function TuiSelectOptionComponent_Factory(t) {\n    return new (t || TuiSelectOptionComponent)(ɵngcc0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT), ɵngcc0.ɵɵdirectiveInject(TUI_DATA_LIST_HOST), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(TuiOptionComponent), ɵngcc0.ɵɵdirectiveInject(NgControl));\n  };\n\n  TuiSelectOptionComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TuiSelectOptionComponent,\n    selectors: [[\"tui-select-option\"]],\n    decls: 5,\n    vars: 5,\n    consts: [[4, \"ngTemplateOutlet\"], [\"automation-id\", \"tui-select-option__checkmark\", \"src\", \"tuiIconCheckLarge\", \"class\", \"checkmark\", 3, \"tuiScrollIntoView\", 4, \"ngIf\", \"ngIfElse\"], [\"dummy\", \"\"], [\"automation-id\", \"tui-select-option__checkmark\", \"src\", \"tuiIconCheckLarge\", 1, \"checkmark\", 3, \"tuiScrollIntoView\"], [1, \"dummy\"]],\n    template: function TuiSelectOptionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, TuiSelectOptionComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n        ɵngcc0.ɵɵtemplate(1, TuiSelectOptionComponent_tui_svg_1_Template, 1, 1, \"tui-svg\", 1);\n        ɵngcc0.ɵɵpipe(2, \"async\");\n        ɵngcc0.ɵɵtemplate(3, TuiSelectOptionComponent_ng_template_3_Template, 1, 0, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r2 = ɵngcc0.ɵɵreference(4);\n\n        ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx.context.$implicit);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(2, 3, ctx.selected$))(\"ngIfElse\", _r2);\n      }\n    },\n    directives: [ɵngcc1.NgTemplateOutlet, ɵngcc1.NgIf, ɵngcc2.TuiSvgComponent, ɵngcc2.TuiScrollIntoViewDirective],\n    pipes: [ɵngcc1.AsyncPipe],\n    styles: [\"@-webkit-keyframes retrigger{from{left:1px}to{left:2px}}@keyframes retrigger{from{left:1px}to{left:2px}}[_nghost-%COMP%]{display:flex;flex:1;align-items:center;max-width:100%;-webkit-animation:1s retrigger;animation:1s retrigger}.checkmark[_ngcontent-%COMP%]{margin:0 -.375rem 0 auto;border-left:5px solid transparent}.dummy[_ngcontent-%COMP%]{width:1.5rem}\"],\n    changeDetection: 0\n  });\n  TuiSelectOptionComponent = __decorate([__param(0, Inject(POLYMORPHEUS_CONTEXT)), __param(1, Inject(TUI_DATA_LIST_HOST)), __param(2, Inject(ElementRef)), __param(3, Inject(TuiOptionComponent)), __param(4, Inject(NgControl))], TuiSelectOptionComponent);\n  return TuiSelectOptionComponent;\n})();\nconst TUI_SELECT_OPTION = new PolymorpheusComponent(TuiSelectOptionComponent);\nlet TuiSelectOptionModule = /*#__PURE__*/(() => {\n  let TuiSelectOptionModule = class TuiSelectOptionModule {};\n\n  TuiSelectOptionModule.ɵfac = function TuiSelectOptionModule_Factory(t) {\n    return new (t || TuiSelectOptionModule)();\n  };\n\n  TuiSelectOptionModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiSelectOptionModule\n  });\n  TuiSelectOptionModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule, TuiScrollIntoViewModule]]\n  });\n  return TuiSelectOptionModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiSelectOptionModule, {\n    declarations: function () {\n      return [TuiSelectOptionComponent];\n    },\n    imports: function () {\n      return [CommonModule, TuiSvgModule, TuiScrollIntoViewModule];\n    },\n    exports: function () {\n      return [TuiSelectOptionComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TUI_SELECT_OPTION, TuiSelectOptionComponent, TuiSelectOptionModule }; //# sourceMappingURL=taiga-ui-kit-components-select-option.js.map","map":null,"metadata":{},"sourceType":"module"}