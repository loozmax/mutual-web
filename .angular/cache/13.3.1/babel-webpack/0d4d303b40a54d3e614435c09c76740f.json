{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { InjectionToken, ElementRef, Inject, ChangeDetectorRef, Input, HostBinding, HostListener, Component, ChangeDetectionStrategy, forwardRef, NgModule } from '@angular/core';\nimport { AbstractTuiInteractive, watch, pressedObservable, isNativeFocused, TuiFocusVisibleService, TuiHoveredService, TuiDestroyService, TUI_TAKE_ONLY_TRUSTED_EVENTS, tuiDefaultProp, TUI_FOCUSABLE_ITEM_ACCESSOR } from '@taiga-ui/cdk';\nimport { Observable } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nimport { TuiLoaderModule } from '@taiga-ui/core/components/loader';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport { TuiWrapperModule } from '@taiga-ui/core/directives/wrapper';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@taiga-ui/core/directives/wrapper';\nimport * as ɵngcc2 from '@angular/common';\nimport * as ɵngcc3 from '@tinkoff/ng-polymorpheus';\nimport * as ɵngcc4 from '@taiga-ui/core/components/svg';\nimport * as ɵngcc5 from '@taiga-ui/core/components/loader';\nimport * as ɵngcc6 from '@taiga-ui/cdk';\nimport * as ɵngcc7 from 'rxjs';\nconst _c0 = [\"tuiButton\", \"\"];\n\nfunction TuiButtonComponent_span_2_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-svg\", 6);\n  }\n\n  if (rf & 2) {\n    const icon_r4 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"src\", icon_r4);\n  }\n}\n\nfunction TuiButtonComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 5);\n    ɵngcc0.ɵɵtemplate(1, TuiButtonComponent_span_2_ng_template_1_Template, 1, 1, \"ng-template\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"content\", ctx_r0.icon);\n  }\n}\n\nfunction TuiButtonComponent_span_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-svg\", 6);\n  }\n\n  if (rf & 2) {\n    const icon_r6 = ctx.$implicit;\n    ɵngcc0.ɵɵproperty(\"src\", icon_r6);\n  }\n}\n\nfunction TuiButtonComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 7);\n    ɵngcc0.ɵɵtemplate(1, TuiButtonComponent_span_4_ng_template_1_Template, 1, 1, \"ng-template\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"content\", ctx_r1.iconRight);\n  }\n}\n\nfunction TuiButtonComponent_tui_loader_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-loader\", 8);\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"size\", ctx_r2.loaderSize)(\"inheritColor\", true);\n  }\n}\n\nconst _c1 = [\"*\"];\nconst TUI_BUTTON_DEFAULT_OPTIONS = {\n  size: 'l',\n  shape: null,\n  appearance: \"primary\"\n  /* Primary */\n\n};\nconst TUI_BUTTON_OPTIONS = new InjectionToken('Default parameters for button component', {\n  factory: () => TUI_BUTTON_DEFAULT_OPTIONS\n});\n\nconst tuiButtonOptionsProvider = options => ({\n  provide: TUI_BUTTON_OPTIONS,\n  useValue: Object.assign(Object.assign({}, TUI_BUTTON_DEFAULT_OPTIONS), options)\n});\n\nvar TuiButtonComponent_1;\nlet TuiButtonComponent = TuiButtonComponent_1 = class TuiButtonComponent extends AbstractTuiInteractive {\n  constructor(elementRef, focusVisible$, hoveredService, destroy$, changeDetectorRef, takeOnlyTrustedEvents, options) {\n    super();\n    this.elementRef = elementRef;\n    this.takeOnlyTrustedEvents = takeOnlyTrustedEvents;\n    this.options = options;\n    this.appearance = this.options.appearance;\n    this.disabled = false;\n    this.icon = '';\n    this.iconRight = '';\n    this.shape = this.options.shape;\n    this.showLoader = false;\n    this.size = this.options.size;\n    hoveredService.createHovered$(elementRef.nativeElement).pipe(watch(changeDetectorRef), takeUntil(destroy$)).subscribe(hovered => {\n      this.updateHovered(hovered);\n    });\n    pressedObservable(elementRef.nativeElement, {\n      onlyTrusted: this.takeOnlyTrustedEvents\n    }).pipe(watch(changeDetectorRef), takeUntil(destroy$)).subscribe(pressed => {\n      this.updatePressed(pressed);\n    });\n    focusVisible$.subscribe(focusVisible => {\n      this.updateFocusVisible(focusVisible);\n    });\n  }\n\n  get nativeFocusableElement() {\n    return this.nativeDisabled ? null : this.elementRef.nativeElement;\n  }\n\n  get focused() {\n    return !this.showLoader && isNativeFocused(this.elementRef.nativeElement);\n  }\n\n  get loaderSize() {\n    return this.size === 'l' || this.size === 'xl' ? 'm' : 's';\n  }\n\n  get nativeDisabled() {\n    return this.computedDisabled || this.showLoader ? '' : null;\n  }\n\n  get tabIndex() {\n    return this.focusable ? 0 : -1;\n  }\n\n  onFocused(focused) {\n    this.updateFocused(focused);\n  }\n\n};\n\nTuiButtonComponent.ɵfac = function TuiButtonComponent_Factory(t) {\n  return new (t || TuiButtonComponent)(ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(TuiFocusVisibleService), ɵngcc0.ɵɵdirectiveInject(TuiHoveredService), ɵngcc0.ɵɵdirectiveInject(TuiDestroyService), ɵngcc0.ɵɵdirectiveInject(ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(TUI_TAKE_ONLY_TRUSTED_EVENTS), ɵngcc0.ɵɵdirectiveInject(TUI_BUTTON_OPTIONS));\n};\n\nTuiButtonComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: TuiButtonComponent,\n  selectors: [[\"button\", \"tuiButton\", \"\"], [\"button\", \"tuiIconButton\", \"\"], [\"a\", \"tuiButton\", \"\"], [\"a\", \"tuiIconButton\", \"\"]],\n  hostVars: 7,\n  hostBindings: function TuiButtonComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"focusin\", function TuiButtonComponent_focusin_HostBindingHandler() {\n        return ctx.onFocused(true);\n      })(\"focusout\", function TuiButtonComponent_focusout_HostBindingHandler() {\n        return ctx.onFocused(false);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵhostProperty(\"tabIndex\", ctx.tabIndex);\n      ɵngcc0.ɵɵattribute(\"data-appearance\", ctx.appearance)(\"data-shape\", ctx.shape)(\"data-size\", ctx.size)(\"disabled\", ctx.nativeDisabled);\n      ɵngcc0.ɵɵclassProp(\"_loading\", ctx.showLoader);\n    }\n  },\n  inputs: {\n    appearance: \"appearance\",\n    disabled: \"disabled\",\n    icon: \"icon\",\n    iconRight: \"iconRight\",\n    shape: \"shape\",\n    showLoader: \"showLoader\",\n    size: \"size\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: TUI_FOCUSABLE_ITEM_ACCESSOR,\n    useExisting: forwardRef(() => TuiButtonComponent_1)\n  }, TuiDestroyService, TuiFocusVisibleService]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  attrs: _c0,\n  ngContentSelectors: _c1,\n  decls: 6,\n  vars: 8,\n  consts: [[1, \"t-wrapper\", 3, \"appearance\", \"hovered\", \"pressed\", \"disabled\", \"focused\"], [1, \"t-content\"], [\"polymorpheus-outlet\", \"\", \"class\", \"t-left\", 3, \"content\", 4, \"ngIf\"], [\"polymorpheus-outlet\", \"\", \"class\", \"t-right\", 3, \"content\", 4, \"ngIf\"], [\"class\", \"t-loader\", 3, \"size\", \"inheritColor\", 4, \"ngIf\"], [\"polymorpheus-outlet\", \"\", 1, \"t-left\", 3, \"content\"], [1, \"t-icon\", 3, \"src\"], [\"polymorpheus-outlet\", \"\", 1, \"t-right\", 3, \"content\"], [1, \"t-loader\", 3, \"size\", \"inheritColor\"]],\n  template: function TuiButtonComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"tui-wrapper\", 0)(1, \"span\", 1);\n      ɵngcc0.ɵɵtemplate(2, TuiButtonComponent_span_2_Template, 2, 1, \"span\", 2);\n      ɵngcc0.ɵɵprojection(3);\n      ɵngcc0.ɵɵtemplate(4, TuiButtonComponent_span_4_Template, 2, 1, \"span\", 3);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(5, TuiButtonComponent_tui_loader_5_Template, 1, 2, \"tui-loader\", 4);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"appearance\", ctx.appearance)(\"hovered\", ctx.computedHovered)(\"pressed\", ctx.computedPressed)(\"disabled\", ctx.computedDisabled)(\"focused\", ctx.computedFocusVisible);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.icon);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.iconRight);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n    }\n  },\n  directives: [ɵngcc1.TuiWrapperDirective, ɵngcc2.NgIf, ɵngcc3.PolymorpheusOutletComponent, ɵngcc4.TuiSvgComponent, ɵngcc5.TuiLoaderComponent],\n  styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:0 0;font-size:inherit;line-height:inherit;font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:inline-block;flex-shrink:0;vertical-align:top;border-radius:var(--tui-radius-m);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;font-weight:700;outline:0}[disabled][_nghost-%COMP%]{pointer-events:none}[tuiIconButton][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0}[data-shape=rounded][_nghost-%COMP%]{border-radius:6.25rem}[data-size=xs][_nghost-%COMP%]{height:var(--tui-height-xs);font-weight:400}[data-size=xs][data-shape=square][_nghost-%COMP%], [data-size=xs][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-xs);width:var(--tui-height-xs)}[data-size='s'][_nghost-%COMP%]{height:var(--tui-height-s);font-weight:400}[data-size='s'][data-shape=square][_nghost-%COMP%], [data-size='s'][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-s);width:var(--tui-height-s)}[data-size='m'][_nghost-%COMP%]{height:var(--tui-height-m);font-size:.9375rem}[data-size='m'][data-shape=square][_nghost-%COMP%], [data-size='m'][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-m);width:var(--tui-height-m)}[data-size='l'][_nghost-%COMP%]{height:var(--tui-height-l);font-size:.9375rem}[data-size='l'][data-shape=square][_nghost-%COMP%], [data-size='l'][tuiIconButton][_nghost-%COMP%]{height:var(--tui-height-l);width:var(--tui-height-l)}[data-size=xl][_nghost-%COMP%]{height:3.75rem;font-size:.9375rem}[data-size=xl][data-shape=square][_nghost-%COMP%], [data-size=xl][tuiIconButton][_nghost-%COMP%]{height:3.75rem;width:3.75rem}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;cursor:default}.t-left[_ngcontent-%COMP%]{margin:0 .5rem 0 -.25rem}.t-right[_ngcontent-%COMP%]{margin:0 -.5rem 0 .25rem}.t-icon[_ngcontent-%COMP%]{display:block}[data-size='s'][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1rem;height:1rem}[tuiIconButton][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.t-wrapper[_ngcontent-%COMP%]{position:relative;z-index:0;box-sizing:border-box;cursor:pointer}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 .5rem}[data-size='s'][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 .75rem}[data-size='m'][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 1.5rem}[data-size='l'][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 2.25rem}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 2.5rem}[data-shape=square][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0}.t-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;text-align:center}._loading[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{opacity:0}\"],\n  changeDetection: 0\n});\n\nTuiButtonComponent.ctorParameters = () => [{\n  type: ElementRef,\n  decorators: [{\n    type: Inject,\n    args: [ElementRef]\n  }]\n}, {\n  type: TuiFocusVisibleService,\n  decorators: [{\n    type: Inject,\n    args: [TuiFocusVisibleService]\n  }]\n}, {\n  type: TuiHoveredService,\n  decorators: [{\n    type: Inject,\n    args: [TuiHoveredService]\n  }]\n}, {\n  type: Observable,\n  decorators: [{\n    type: Inject,\n    args: [TuiDestroyService]\n  }]\n}, {\n  type: ChangeDetectorRef,\n  decorators: [{\n    type: Inject,\n    args: [ChangeDetectorRef]\n  }]\n}, {\n  type: Boolean,\n  decorators: [{\n    type: Inject,\n    args: [TUI_TAKE_ONLY_TRUSTED_EVENTS]\n  }]\n}, {\n  type: undefined,\n  decorators: [{\n    type: Inject,\n    args: [TUI_BUTTON_OPTIONS]\n  }]\n}];\n\n__decorate([Input(), HostBinding('attr.data-appearance'), tuiDefaultProp()], TuiButtonComponent.prototype, \"appearance\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiButtonComponent.prototype, \"disabled\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiButtonComponent.prototype, \"icon\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiButtonComponent.prototype, \"iconRight\", void 0);\n\n__decorate([Input(), HostBinding('attr.data-shape'), tuiDefaultProp()], TuiButtonComponent.prototype, \"shape\", void 0);\n\n__decorate([Input(), HostBinding('class._loading'), tuiDefaultProp()], TuiButtonComponent.prototype, \"showLoader\", void 0);\n\n__decorate([Input(), HostBinding('attr.data-size'), tuiDefaultProp()], TuiButtonComponent.prototype, \"size\", void 0);\n\n__decorate([HostBinding('attr.disabled')], TuiButtonComponent.prototype, \"nativeDisabled\", null);\n\n__decorate([HostBinding('tabIndex')], TuiButtonComponent.prototype, \"tabIndex\", null);\n\n__decorate([HostListener('focusin', ['true']), HostListener('focusout', ['false'])], TuiButtonComponent.prototype, \"onFocused\", null);\n\nTuiButtonComponent = TuiButtonComponent_1 = __decorate([__param(0, Inject(ElementRef)), __param(1, Inject(TuiFocusVisibleService)), __param(2, Inject(TuiHoveredService)), __param(3, Inject(TuiDestroyService)), __param(4, Inject(ChangeDetectorRef)), __param(5, Inject(TUI_TAKE_ONLY_TRUSTED_EVENTS)), __param(6, Inject(TUI_BUTTON_OPTIONS))], TuiButtonComponent);\nlet TuiButtonModule = /*#__PURE__*/(() => {\n  let TuiButtonModule = class TuiButtonModule {};\n\n  TuiButtonModule.ɵfac = function TuiButtonModule_Factory(t) {\n    return new (t || TuiButtonModule)();\n  };\n\n  TuiButtonModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiButtonModule\n  });\n  TuiButtonModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule, TuiWrapperModule, TuiSvgModule, TuiLoaderModule]]\n  });\n  return TuiButtonModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiButtonModule, {\n    declarations: function () {\n      return [TuiButtonComponent];\n    },\n    imports: function () {\n      return [CommonModule, PolymorpheusModule, TuiWrapperModule, TuiSvgModule, TuiLoaderModule];\n    },\n    exports: function () {\n      return [TuiButtonComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TUI_BUTTON_DEFAULT_OPTIONS, TUI_BUTTON_OPTIONS, TuiButtonComponent, TuiButtonModule, tuiButtonOptionsProvider }; //# sourceMappingURL=taiga-ui-core-components-button.js.map","map":null,"metadata":{},"sourceType":"module"}