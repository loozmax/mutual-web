{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport { Subject, forkJoin, takeUntil, map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/room.service\";\nexport let RoomItemComponent = /*#__PURE__*/(() => {\n  class RoomItemComponent {\n    constructor(_roomService) {\n      this._roomService = _roomService;\n      this.onArrowClick = new EventEmitter();\n      this.allCount = 0;\n      this._onDestroy$ = new Subject();\n    }\n\n    ngOnDestroy() {\n      this._onDestroy$.next();\n    }\n\n    arrowClick() {\n      this.onArrowClick.emit();\n    }\n\n    ngOnInit() {\n      forkJoin([this._roomService.getTeachersByRoomdId(this.roomId, 0, 1000), this._roomService.getStudentsByRoomId(this.roomId, 0, 1000)]).pipe(takeUntil(this._onDestroy$), map(([teachers, students]) => {\n        return teachers.length + students.length;\n      })).subscribe({\n        next: count => {\n          this.allCount = count;\n        }\n      });\n    }\n\n  }\n\n  RoomItemComponent.ɵfac = function RoomItemComponent_Factory(t) {\n    return new (t || RoomItemComponent)(i0.ɵɵdirectiveInject(i1.RoomService));\n  };\n\n  RoomItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RoomItemComponent,\n    selectors: [[\"room-item\"]],\n    inputs: {\n      title: \"title\",\n      roomCount: \"roomCount\",\n      roomId: \"roomId\"\n    },\n    outputs: {\n      onArrowClick: \"onArrowClick\"\n    },\n    decls: 12,\n    vars: 3,\n    consts: [[1, \"room\"], [1, \"room__arrow\", 3, \"click\"], [\"width\", \"31\", \"height\", \"16\", \"viewBox\", \"0 0 31 16\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M29.8349 8.70711C30.2254 8.31659 30.2254 7.68342 29.8349 7.2929L23.4709 0.928935C23.0804 0.538411 22.4472 0.53841 22.0567 0.928935C21.6662 1.31946 21.6662 1.95262 22.0567 2.34315L27.7136 8L22.0567 13.6569C21.6662 14.0474 21.6662 14.6805 22.0567 15.0711C22.4472 15.4616 23.0804 15.4616 23.4709 15.0711L29.8349 8.70711ZM0.378906 9L29.1278 9L29.1278 7L0.378906 7L0.378906 9Z\", \"fill\", \"#767676\"], [1, \"room__id\"], [1, \"room__title\"], [1, \"room__count\"], [1, \"count\"]],\n    template: function RoomItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵlistener(\"click\", function RoomItemComponent_Template_div_click_1_listener() {\n          return ctx.arrowClick();\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(2, \"svg\", 2);\n        i0.ɵɵelement(3, \"path\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵtext(9, \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432 \\u00A0\\u00A0\");\n        i0.ɵɵelementStart(10, \"span\", 7);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442\\u0430 \", ctx.roomCount, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.allCount);\n      }\n    },\n    styles: [\".room[_ngcontent-%COMP%]{border-left:10px solid #7256FD;background-color:#fff;padding:50px;box-shadow:0 0 15px #0000001a;position:relative}.room__id[_ngcontent-%COMP%]{font-size:18px;color:#767676;margin-bottom:18px}.room__arrow[_ngcontent-%COMP%]{position:absolute;top:120px;right:70px;cursor:pointer}.room__title[_ngcontent-%COMP%]{font-size:36px;width:400px;margin-bottom:75px;line-height:30px}.room__count[_ngcontent-%COMP%]{margin-bottom:-30px;font-size:18px}.count[_ngcontent-%COMP%]{color:#fe7451;font-weight:700}\"]\n  });\n  return RoomItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}