{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { Inject, ElementRef, ViewChild, Input, HostListener, Component, ChangeDetectionStrategy, forwardRef, NgModule } from '@angular/core';\nimport { AbstractTuiInteractive, isNativeFocused, TuiFocusVisibleService, tuiDefaultProp, TuiDestroyService, TUI_FOCUSABLE_ITEM_ACCESSOR, TuiFocusableModule, TuiFocusVisibleModule } from '@taiga-ui/cdk';\nimport { CommonModule } from '@angular/common';\nimport { TuiDescribedByModule } from '@taiga-ui/core';\nimport { TuiMarkerIconModule } from '@taiga-ui/kit/components/marker-icon';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@taiga-ui/core';\nimport * as ɵngcc3 from '@taiga-ui/cdk';\nimport * as ɵngcc4 from '@taiga-ui/kit/components/marker-icon';\nconst _c0 = [\"focusableElement\"];\n\nfunction TuiActionComponent_label_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction TuiActionComponent_label_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"label\", 3);\n    ɵngcc0.ɵɵtemplate(1, TuiActionComponent_label_0_ng_container_1_Template, 1, 0, \"ng-container\", 4);\n    ɵngcc0.ɵɵelementStart(2, \"button\", 5, 6);\n    ɵngcc0.ɵɵlistener(\"tuiFocusVisibleChange\", function TuiActionComponent_label_0_Template_button_tuiFocusVisibleChange_2_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      const ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ctx_r5.onFocusVisible($event);\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n\n    const _r1 = ɵngcc0.ɵɵreference(2);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r1);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"id\", ctx_r0.id)(\"tuiDescribedBy\", ctx_r0.id)(\"tuiFocusable\", ctx_r0.computedFocusable);\n  }\n}\n\nfunction TuiActionComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 7);\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nconst _c1 = [\"*\"];\nvar TuiActionComponent_1;\nlet TuiActionComponent = TuiActionComponent_1 = class TuiActionComponent extends AbstractTuiInteractive {\n  constructor(focusVisible$, elementRef) {\n    super();\n    this.elementRef = elementRef;\n    this.icon = '';\n    this.isLink = this.elementRef.nativeElement.tagName.toLowerCase() === 'a';\n    this.disabled = false;\n\n    if (!this.isLink) {\n      return;\n    }\n\n    focusVisible$.subscribe(visible => {\n      this.updateFocusVisible(visible);\n    });\n  }\n\n  get nativeFocusableElement() {\n    if (this.isLink) {\n      return this.elementRef.nativeElement;\n    }\n\n    return this.focusableElement ? this.focusableElement.nativeElement : null;\n  }\n\n  get focused() {\n    return isNativeFocused(this.nativeFocusableElement);\n  }\n\n  onFocused(focused) {\n    this.updateFocused(focused);\n  }\n\n  onHovered(hovered) {\n    this.updateHovered(hovered);\n  }\n\n  onFocusVisible(focusVisible) {\n    this.updateFocusVisible(focusVisible);\n  }\n\n};\n\nTuiActionComponent.ɵfac = function TuiActionComponent_Factory(t) {\n  return new (t || TuiActionComponent)(ɵngcc0.ɵɵdirectiveInject(TuiFocusVisibleService), ɵngcc0.ɵɵdirectiveInject(ElementRef));\n};\n\nTuiActionComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: TuiActionComponent,\n  selectors: [[\"tui-action\"], [\"a\", \"tuiAction\", \"\"]],\n  viewQuery: function TuiActionComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.focusableElement = _t.first);\n    }\n  },\n  hostBindings: function TuiActionComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"focusin\", function TuiActionComponent_focusin_HostBindingHandler() {\n        return ctx.onFocused(true);\n      })(\"focusout\", function TuiActionComponent_focusout_HostBindingHandler() {\n        return ctx.onFocused(false);\n      })(\"mouseenter\", function TuiActionComponent_mouseenter_HostBindingHandler() {\n        return ctx.onHovered(true);\n      })(\"mouseleave\", function TuiActionComponent_mouseleave_HostBindingHandler() {\n        return ctx.onHovered(false);\n      });\n    }\n  },\n  inputs: {\n    icon: \"icon\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([TuiDestroyService, TuiFocusVisibleService, {\n    provide: TUI_FOCUSABLE_ITEM_ACCESSOR,\n    useExisting: forwardRef(() => TuiActionComponent_1)\n  }]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  ngContentSelectors: _c1,\n  decls: 4,\n  vars: 3,\n  consts: [[\"automation-id\", \"tui-action__content\", \"class\", \"wrapper\", 4, \"ngIf\", \"ngIfElse\"], [\"content\", \"\"], [\"size\", \"s\", 1, \"icon\", 3, \"src\"], [\"automation-id\", \"tui-action__content\", 1, \"wrapper\"], [4, \"ngTemplateOutlet\"], [\"type\", \"button\", \"automation-id\", \"tui-action__native\", 1, \"button\", 3, \"id\", \"tuiDescribedBy\", \"tuiFocusable\", \"tuiFocusVisibleChange\"], [\"focusableElement\", \"\"], [1, \"wrapper\"]],\n  template: function TuiActionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, TuiActionComponent_label_0_Template, 4, 4, \"label\", 0);\n      ɵngcc0.ɵɵtemplate(1, TuiActionComponent_ng_template_1_Template, 2, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵelement(3, \"tui-marker-icon\", 2);\n    }\n\n    if (rf & 2) {\n      const _r1 = ɵngcc0.ɵɵreference(2);\n\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.isLink)(\"ngIfElse\", _r1);\n      ɵngcc0.ɵɵadvance(3);\n      ɵngcc0.ɵɵproperty(\"src\", ctx.icon);\n    }\n  },\n  directives: [ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet, ɵngcc2.TuiDescribedByDirective, ɵngcc3.TuiFocusableDirective, ɵngcc3.TuiFocusVisibleDirective, ɵngcc4.TuiMarkerIconComponent],\n  styles: [\"[_nghost-%COMP%]{box-shadow:0 .25rem 1.5rem rgba(0,0,0,.12);transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;cursor:pointer;transition-property:transform,box-shadow;will-change:transform,box-shadow;position:relative;display:flex;font:var(--tui-font-text-m);padding:.875rem;color:var(--tui-text-01);text-decoration:none;border:2px solid transparent;border-radius:var(--tui-radius-l);outline:0}[_nghost-%COMP%]:hover{box-shadow:0 .75rem 2.25rem rgba(0,0,0,.2);transform:translateY(-.25rem)}._focus-visible[_nghost-%COMP%]{border-color:var(--tui-focus)}.button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:0 0;font-size:inherit;line-height:inherit;cursor:pointer;outline:0}.icon[_ngcontent-%COMP%]{margin-left:1.25rem;color:var(--tui-link)}.wrapper[_ngcontent-%COMP%]{flex:1}\"],\n  changeDetection: 0\n});\n\nTuiActionComponent.ctorParameters = () => [{\n  type: TuiFocusVisibleService,\n  decorators: [{\n    type: Inject,\n    args: [TuiFocusVisibleService]\n  }]\n}, {\n  type: ElementRef,\n  decorators: [{\n    type: Inject,\n    args: [ElementRef]\n  }]\n}];\n\n__decorate([ViewChild('focusableElement')], TuiActionComponent.prototype, \"focusableElement\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiActionComponent.prototype, \"icon\", void 0);\n\n__decorate([HostListener('focusin', ['true']), HostListener('focusout', ['false'])], TuiActionComponent.prototype, \"onFocused\", null);\n\n__decorate([HostListener('mouseenter', ['true']), HostListener('mouseleave', ['false'])], TuiActionComponent.prototype, \"onHovered\", null);\n\nTuiActionComponent = TuiActionComponent_1 = __decorate([__param(0, Inject(TuiFocusVisibleService)), __param(1, Inject(ElementRef))], TuiActionComponent);\nlet TuiActionModule = /*#__PURE__*/(() => {\n  let TuiActionModule = class TuiActionModule {};\n\n  TuiActionModule.ɵfac = function TuiActionModule_Factory(t) {\n    return new (t || TuiActionModule)();\n  };\n\n  TuiActionModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiActionModule\n  });\n  TuiActionModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFocusableModule, TuiFocusVisibleModule, TuiDescribedByModule, TuiMarkerIconModule]]\n  });\n  return TuiActionModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiActionModule, {\n    declarations: function () {\n      return [TuiActionComponent];\n    },\n    imports: function () {\n      return [CommonModule, TuiFocusableModule, TuiFocusVisibleModule, TuiDescribedByModule, TuiMarkerIconModule];\n    },\n    exports: function () {\n      return [TuiActionComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TuiActionComponent, TuiActionModule }; //# sourceMappingURL=taiga-ui-kit-components-action.js.map","map":null,"metadata":{},"sourceType":"module"}