{"ast":null,"code":"import { __decorate } from 'tslib';\nimport { EventEmitter, Input, Output, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { TuiMonth, ALWAYS_FALSE_HANDLER, TUI_FIRST_DAY, TUI_LAST_DAY, nullableSame, tuiDefaultProp, TuiMapperPipeModule } from '@taiga-ui/cdk';\nimport { TUI_DEFAULT_MARKER_HANDLER } from '@taiga-ui/core/constants';\nimport { CommonModule } from '@angular/common';\nimport { TuiPrimitiveCalendarModule } from '@taiga-ui/core/components/primitive-calendar';\nimport { TuiPrimitiveYearPickerModule } from '@taiga-ui/core/components/primitive-year-picker';\nimport { TuiScrollbarModule } from '@taiga-ui/core/components/scrollbar';\nimport { TuiPrimitiveYearMonthPaginationModule } from '@taiga-ui/core/internal/primitive-year-month-pagination'; // @dynamic\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@taiga-ui/core/components/scrollbar';\nimport * as ɵngcc3 from '@taiga-ui/core/components/primitive-year-picker';\nimport * as ɵngcc4 from '@taiga-ui/core/internal/primitive-year-month-pagination';\nimport * as ɵngcc5 from '@taiga-ui/core/components/primitive-calendar';\nimport * as ɵngcc6 from '@taiga-ui/cdk';\n\nfunction TuiCalendarComponent_tui_scrollbar_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"tui-scrollbar\", 2)(1, \"tui-primitive-year-picker\", 3);\n    ɵngcc0.ɵɵlistener(\"yearClick\", function TuiCalendarComponent_tui_scrollbar_0_Template_tui_primitive_year_picker_yearClick_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r4);\n      const ctx_r3 = ɵngcc0.ɵɵnextContext();\n      return ctx_r3.onPickerYearClick($event);\n    });\n    ɵngcc0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"min\", ctx_r0.min)(\"max\", ctx_r0.max)(\"initialItem\", ctx_r0.year)(\"value\", ctx_r0.value);\n  }\n}\n\nfunction TuiCalendarComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"tui-primitive-year-month-pagination\", 4);\n    ɵngcc0.ɵɵlistener(\"valueChange\", function TuiCalendarComponent_ng_template_1_Template_tui_primitive_year_month_pagination_valueChange_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      const ctx_r5 = ɵngcc0.ɵɵnextContext();\n      return ctx_r5.onPaginationValueChange($event);\n    })(\"yearClick\", function TuiCalendarComponent_ng_template_1_Template_tui_primitive_year_month_pagination_yearClick_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      const ctx_r7 = ɵngcc0.ɵɵnextContext();\n      return ctx_r7.onPaginationYearClick($event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(1, \"tui-primitive-calendar\", 5);\n    ɵngcc0.ɵɵlistener(\"hoveredItemChange\", function TuiCalendarComponent_ng_template_1_Template_tui_primitive_calendar_hoveredItemChange_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      const ctx_r8 = ɵngcc0.ɵɵnextContext();\n      return ctx_r8.onHoveredItemChange($event);\n    })(\"dayClick\", function TuiCalendarComponent_ng_template_1_Template_tui_primitive_calendar_dayClick_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r6);\n      const ctx_r9 = ɵngcc0.ɵɵnextContext();\n      return ctx_r9.onDayClick($event);\n    });\n    ɵngcc0.ɵɵpipe(2, \"tuiMapper\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"min\", ctx_r2.computedMinViewedMonth)(\"max\", ctx_r2.computedMaxViewedMonth)(\"value\", ctx_r2.month);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"showAdjacent\", ctx_r2.showAdjacent)(\"value\", ctx_r2.value)(\"month\", ctx_r2.month)(\"disabledItemHandler\", ɵngcc0.ɵɵpipeBind4(2, 9, ctx_r2.disabledItemHandler, ctx_r2.disabledItemHandlerMapper, ctx_r2.min, ctx_r2.max))(\"markerHandler\", ctx_r2.markerHandler)(\"hoveredItem\", ctx_r2.hoveredItem);\n  }\n}\n\nlet TuiCalendarComponent = /*#__PURE__*/(() => {\n  let TuiCalendarComponent = class TuiCalendarComponent {\n    constructor() {\n      this.month = TuiMonth.currentLocal();\n      this.value = null;\n      this.disabledItemHandler = ALWAYS_FALSE_HANDLER;\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.minViewedMonth = TUI_FIRST_DAY;\n      this.maxViewedMonth = TUI_LAST_DAY;\n      this.hoveredItem = null;\n      this.showAdjacent = true;\n      this.markerHandler = TUI_DEFAULT_MARKER_HANDLER;\n      this.dayClick = new EventEmitter();\n      this.monthChange = new EventEmitter();\n      this.hoveredItemChange = new EventEmitter();\n      this.year = null;\n\n      this.disabledItemHandlerMapper = (disabledItemHandler, min, max) => item => item.dayBefore(min) || item.dayAfter(max) || disabledItemHandler(item);\n    }\n\n    get computedMinViewedMonth() {\n      return this.minViewedMonth.monthSameOrAfter(this.min) ? this.minViewedMonth : this.min;\n    }\n\n    get computedMaxViewedMonth() {\n      return this.maxViewedMonth.monthSameOrBefore(this.max) ? this.maxViewedMonth : this.max;\n    }\n\n    onPaginationYearClick(year) {\n      this.year = year;\n    }\n\n    onPickerYearClick({\n      year\n    }) {\n      this.year = null;\n      this.updateViewedMonth(new TuiMonth(year, this.month.month));\n    }\n\n    onPaginationValueChange(month) {\n      this.updateViewedMonth(month);\n    }\n\n    onDayClick(day) {\n      this.dayClick.emit(day);\n    }\n\n    onHoveredItemChange(day) {\n      this.updateHoveredDay(day);\n    }\n\n    updateViewedMonth(month) {\n      if (this.month.monthSame(month)) {\n        return;\n      }\n\n      this.month = month;\n      this.monthChange.emit(month);\n    }\n\n    updateHoveredDay(day) {\n      if (nullableSame(this.hoveredItem, day, (a, b) => a.daySame(b))) {\n        return;\n      }\n\n      this.hoveredItem = day;\n      this.hoveredItemChange.emit(day);\n    }\n\n  };\n\n  TuiCalendarComponent.ɵfac = function TuiCalendarComponent_Factory(t) {\n    return new (t || TuiCalendarComponent)();\n  };\n\n  TuiCalendarComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TuiCalendarComponent,\n    selectors: [[\"tui-calendar\"]],\n    inputs: {\n      month: \"month\",\n      value: \"value\",\n      disabledItemHandler: \"disabledItemHandler\",\n      min: \"min\",\n      max: \"max\",\n      minViewedMonth: \"minViewedMonth\",\n      maxViewedMonth: \"maxViewedMonth\",\n      hoveredItem: \"hoveredItem\",\n      showAdjacent: \"showAdjacent\",\n      markerHandler: \"markerHandler\"\n    },\n    outputs: {\n      dayClick: \"dayClick\",\n      monthChange: \"monthChange\",\n      hoveredItemChange: \"hoveredItemChange\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[\"automation-id\", \"tui-calendar__scrollbar\", \"class\", \"scrollbar\", 4, \"ngIf\", \"ngIfElse\"], [\"calendar\", \"\"], [\"automation-id\", \"tui-calendar__scrollbar\", 1, \"scrollbar\"], [\"automation-id\", \"tui-calendar__year\", 3, \"min\", \"max\", \"initialItem\", \"value\", \"yearClick\"], [\"automation-id\", \"tui-calendar__pagination\", 1, \"pagination\", 3, \"min\", \"max\", \"value\", \"valueChange\", \"yearClick\"], [\"automation-id\", \"tui-calendar__calendar\", 3, \"showAdjacent\", \"value\", \"month\", \"disabledItemHandler\", \"markerHandler\", \"hoveredItem\", \"hoveredItemChange\", \"dayClick\"]],\n    template: function TuiCalendarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, TuiCalendarComponent_tui_scrollbar_0_Template, 2, 4, \"tui-scrollbar\", 0);\n        ɵngcc0.ɵɵtemplate(1, TuiCalendarComponent_ng_template_1_Template, 3, 14, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        const _r1 = ɵngcc0.ɵɵreference(2);\n\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.year)(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [ɵngcc1.NgIf, ɵngcc2.TuiScrollbarComponent, ɵngcc3.TuiPrimitiveYearPickerComponent, ɵngcc4.TuiPrimitiveYearMonthPaginationComponent, ɵngcc5.TuiPrimitiveCalendarComponent],\n    pipes: [ɵngcc6.TuiMapperPipe],\n    styles: [\"[_nghost-%COMP%]{display:block;height:18.25rem;width:15.75rem;padding:1rem 1.125rem;box-sizing:content-box}.scrollbar[_ngcontent-%COMP%]{height:18.25rem;width:16.875rem}.pagination[_ngcontent-%COMP%]{margin-bottom:1rem}\"],\n    changeDetection: 0\n  });\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"month\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"value\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"disabledItemHandler\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"min\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"max\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"minViewedMonth\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"maxViewedMonth\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"hoveredItem\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"showAdjacent\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiCalendarComponent.prototype, \"markerHandler\", void 0);\n\n  __decorate([Output()], TuiCalendarComponent.prototype, \"dayClick\", void 0);\n\n  __decorate([Output()], TuiCalendarComponent.prototype, \"monthChange\", void 0);\n\n  __decorate([Output()], TuiCalendarComponent.prototype, \"hoveredItemChange\", void 0);\n\n  return TuiCalendarComponent;\n})();\nlet TuiCalendarModule = /*#__PURE__*/(() => {\n  let TuiCalendarModule = class TuiCalendarModule {};\n\n  TuiCalendarModule.ɵfac = function TuiCalendarModule_Factory(t) {\n    return new (t || TuiCalendarModule)();\n  };\n\n  TuiCalendarModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiCalendarModule\n  });\n  TuiCalendarModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiPrimitiveYearMonthPaginationModule, TuiPrimitiveCalendarModule, TuiPrimitiveYearPickerModule, TuiScrollbarModule, TuiMapperPipeModule]]\n  });\n  return TuiCalendarModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiCalendarModule, {\n    declarations: function () {\n      return [TuiCalendarComponent];\n    },\n    imports: function () {\n      return [CommonModule, TuiPrimitiveYearMonthPaginationModule, TuiPrimitiveCalendarModule, TuiPrimitiveYearPickerModule, TuiScrollbarModule, TuiMapperPipeModule];\n    },\n    exports: function () {\n      return [TuiCalendarComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TuiCalendarComponent, TuiCalendarModule }; //# sourceMappingURL=taiga-ui-core-components-calendar.js.map","map":null,"metadata":{},"sourceType":"module"}