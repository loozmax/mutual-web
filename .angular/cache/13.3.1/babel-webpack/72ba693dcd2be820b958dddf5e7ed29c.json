{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { InjectionToken, Optional, Self, Inject, ChangeDetectorRef, ElementRef, Input, HostBinding, Component, ChangeDetectionStrategy, Output, HostListener, Directive, Pipe, forwardRef, NgModule } from '@angular/core';\nimport { NgModel, NgControl } from '@angular/forms';\nimport { USER_AGENT } from '@ng-web-apis/common';\nimport { watch, isEdgeOlderThan, CHROMIUM_EDGE_START_VERSION, tuiDefaultProp, AbstractTuiControl, typedFromEvent, isNativeFocused, round, TUI_FOCUSABLE_ITEM_ACCESSOR, TuiRepeatTimesModule, TuiFocusableModule, TuiFocusVisibleModule, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport { take, map } from 'rxjs/operators';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { TuiFormatNumberPipeModule } from '@taiga-ui/core';\nimport { TUI_FLOATING_PRECISION } from '@taiga-ui/kit/constants';\nimport { AbstractTuiSlider } from '@taiga-ui/kit/abstract';\nimport { TUI_FROM_TO_TEXTS } from '@taiga-ui/kit/tokens';\nimport { Observable } from 'rxjs';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/forms';\nimport * as ɵngcc2 from '@taiga-ui/cdk';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from '@taiga-ui/core';\nimport * as ɵngcc5 from 'rxjs';\nconst _c0 = [\"type\", \"range\", \"tuiSlider\", \"\"];\n\nfunction TuiSliderOldComponent_div_2_span_1_span_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"i18nPlural\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const segmentIndex_r4 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    const ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate1(\" \", ɵngcc0.ɵɵpipeBind2(2, 1, ctx_r7.getSegmentLabel(segmentIndex_r4), ctx_r7.pluralizeMap), \" \");\n  }\n}\n\nfunction TuiSliderOldComponent_div_2_span_1_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 12);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵpipe(2, \"tuiFormatNumber\");\n    ɵngcc0.ɵɵtemplate(3, TuiSliderOldComponent_div_2_span_1_span_1_span_3_Template, 3, 4, \"span\", 13);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const fromToText_r6 = ctx.ngIf;\n    const segmentIndex_r4 = ɵngcc0.ɵɵnextContext().$implicit;\n    const ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate2(\" \", ctx_r5.getSegmentPrefix(segmentIndex_r4, fromToText_r6), \" \", ɵngcc0.ɵɵpipeBind1(2, 3, ctx_r5.getSegmentLabel(segmentIndex_r4)), \" \");\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r5.pluralizeMap);\n  }\n}\n\nfunction TuiSliderOldComponent_div_2_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 10);\n    ɵngcc0.ɵɵtemplate(1, TuiSliderOldComponent_div_2_span_1_span_1_Template, 4, 5, \"span\", 11);\n    ɵngcc0.ɵɵpipe(2, \"async\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r3.fromToTexts$));\n  }\n}\n\nfunction TuiSliderOldComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 8);\n    ɵngcc0.ɵɵtemplate(1, TuiSliderOldComponent_div_2_span_1_Template, 3, 3, \"span\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"tuiRepeatTimesOf\", ctx_r0.segments + 1);\n  }\n}\n\nconst TUI_SLIDER_DEFAULT_OPTIONS = {\n  size: 'm',\n  trackColor: 'var(--tui-base-03)'\n};\nconst TUI_SLIDER_OPTIONS = new InjectionToken('Default parameters for Slider component', {\n  factory: () => TUI_SLIDER_DEFAULT_OPTIONS\n});\n\nfunction tuiSliderOptionsProvider(options) {\n  return {\n    provide: TUI_SLIDER_OPTIONS,\n    useValue: Object.assign(Object.assign({}, TUI_SLIDER_DEFAULT_OPTIONS), options)\n  };\n}\n\nlet TuiSliderComponent = /*#__PURE__*/(() => {\n  let TuiSliderComponent = class TuiSliderComponent {\n    constructor(control, changeDetectorRef, options, elementRef, userAgent) {\n      var _a;\n\n      this.options = options;\n      this.elementRef = elementRef;\n      this.userAgent = userAgent;\n      this.size = this.options.size;\n      this.segments = 1;\n\n      if (control instanceof NgModel) {\n        /**\n         * The ValueAccessor.writeValue method is called twice on any value accessor during component initialization,\n         * when a control is bound using [(ngModel)], first time with a phantom null value.\n         * With `changeDetection: ChangeDetectionStrategy.OnPush` the second call of writeValue with real value don't re-render the view.\n         * ___\n         * See this {@link https://github.com/angular/angular/issues/14988 issue}\n         */\n        (_a = control.valueChanges) === null || _a === void 0 ? void 0 : _a.pipe(watch(changeDetectorRef), take(1)).subscribe();\n      }\n    }\n\n    get min() {\n      return Number(this.elementRef.nativeElement.min);\n    }\n\n    get max() {\n      return Number(this.elementRef.nativeElement.max || 100);\n    }\n\n    get step() {\n      return Number(this.elementRef.nativeElement.step) || 1;\n    }\n\n    get value() {\n      return Number(this.elementRef.nativeElement.value) || 0;\n    }\n\n    set value(newValue) {\n      this.elementRef.nativeElement.value = `${newValue}`;\n    }\n\n    get valuePercentage() {\n      return 100 * (this.value - this.min) / (this.max - this.min);\n    }\n\n    get segmentWidth() {\n      return 100 / Math.max(1, this.segments);\n    }\n\n    get isOldEdge() {\n      return isEdgeOlderThan(CHROMIUM_EDGE_START_VERSION, this.userAgent);\n    }\n\n  };\n\n  TuiSliderComponent.ɵfac = function TuiSliderComponent_Factory(t) {\n    return new (t || TuiSliderComponent)(ɵngcc0.ɵɵdirectiveInject(NgControl, 10), ɵngcc0.ɵɵdirectiveInject(ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(TUI_SLIDER_OPTIONS), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(USER_AGENT));\n  };\n\n  TuiSliderComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TuiSliderComponent,\n    selectors: [[\"input\", \"type\", \"range\", \"tuiSlider\", \"\"]],\n    hostVars: 9,\n    hostBindings: function TuiSliderComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"input\", function TuiSliderComponent_input_HostBindingHandler() {\n          return 0;\n        });\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"data-size\", ctx.size);\n        ɵngcc0.ɵɵstyleProp(\"--tui-slider-track-color\", ctx.options.trackColor)(\"--tui-slider-fill-percentage\", ctx.valuePercentage, \"%\")(\"--tui-slider-segment-width\", ctx.segmentWidth, \"%\");\n        ɵngcc0.ɵɵclassProp(\"_old-edge\", ctx.isOldEdge);\n      }\n    },\n    inputs: {\n      size: \"size\",\n      segments: \"segments\"\n    },\n    attrs: _c0,\n    decls: 0,\n    vars: 0,\n    template: function TuiSliderComponent_Template(rf, ctx) {},\n    styles: [\"[_nghost-%COMP%]{display:block;width:100%;color:var(--tui-primary);cursor:pointer}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:auto}[_nghost-%COMP%]:not(._old-edge){-webkit-appearance:none;-moz-appearance:none;appearance:none;height:.125rem;padding:.4375rem 0;background-color:transparent;background-clip:content-box;outline:0;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:not(._old-edge)::-webkit-slider-container{border-radius:inherit}[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-webkit-slider-runnable-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0 .625rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-07) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor var(--tui-slider-fill-percentage),transparent var(--tui-slider-fill-percentage));background-position-x:0,.375rem,0;background-size:calc(100% - 1rem),calc(100% - 1rem),auto}[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-webkit-slider-runnable-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0 .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-07) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor var(--tui-slider-fill-percentage),transparent var(--tui-slider-fill-percentage));background-position-x:0,.125rem,0;background-size:calc(100% - .5rem),calc(100% - .5rem),auto}[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-moz-range-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0 .625rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-07) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.375rem;background-size:calc(100% - 1rem)}[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-moz-range-track{height:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0 .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-base-07) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.125rem;background-size:calc(100% - .5rem)}[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background-color:currentColor;border:none;border-radius:50%;height:1rem;width:1rem;margin-top:-.4375rem}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-webkit-slider-thumb:hover{background:var(--tui-primary-hover)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-webkit-slider-thumb:active{background:var(--tui-primary-active)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background-color:currentColor;border:none;border-radius:50%;height:.5rem;width:.5rem;margin-top:-.1875rem}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-webkit-slider-thumb:hover{background:var(--tui-primary-hover)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-webkit-slider-thumb:active{background:var(--tui-primary-active)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-moz-range-thumb{-moz-appearance:none;appearance:none;background-color:currentColor;border:none;border-radius:50%;height:1rem;width:1rem}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-moz-range-thumb:hover{background:var(--tui-primary-hover)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-moz-range-thumb:active{background:var(--tui-primary-active)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size='m']::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-moz-range-thumb{-moz-appearance:none;appearance:none;background-color:currentColor;border:none;border-radius:50%;height:.5rem;width:.5rem}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-moz-range-thumb:hover{background:var(--tui-primary-hover)}:not(:disabled)[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-moz-range-thumb:active{background:var(--tui-primary-active)}:focus-visible[_nghost-%COMP%]:not(._old-edge)[data-size='s']::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-focus)}[_nghost-%COMP%]:not(._old-edge)::-moz-range-progress{background:currentColor;border-radius:inherit;border-top-right-radius:0;border-bottom-right-radius:0}._old-edge[_nghost-%COMP%]::-ms-thumb{background:currentColor}._old-edge[_nghost-%COMP%]::-ms-fill-lower{background:currentColor}._old-edge[_nghost-%COMP%]::-ms-track{background:var(--tui-slider-track-color)}\"],\n    changeDetection: 0\n  });\n\n  __decorate([Input(), HostBinding('attr.data-size'), tuiDefaultProp()], TuiSliderComponent.prototype, \"size\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiSliderComponent.prototype, \"segments\", void 0);\n\n  __decorate([HostBinding('style.--tui-slider-fill-percentage.%')], TuiSliderComponent.prototype, \"valuePercentage\", null);\n\n  __decorate([HostBinding('style.--tui-slider-segment-width.%')], TuiSliderComponent.prototype, \"segmentWidth\", null);\n\n  __decorate([HostBinding('class._old-edge')], TuiSliderComponent.prototype, \"isOldEdge\", null);\n\n  TuiSliderComponent = __decorate([__param(0, Optional()), __param(0, Self()), __param(0, Inject(NgControl)), __param(1, Inject(ChangeDetectorRef)), __param(2, Inject(TUI_SLIDER_OPTIONS)), __param(3, Inject(ElementRef)), __param(4, Inject(USER_AGENT))], TuiSliderComponent); // @dynamic\n\n  return TuiSliderComponent;\n})();\nlet TuiSliderKeyStepsDirective = /*#__PURE__*/(() => {\n  let TuiSliderKeyStepsDirective = class TuiSliderKeyStepsDirective extends AbstractTuiControl {\n    constructor(control, changeDetectorRef, elementRef, slider) {\n      super(control, changeDetectorRef);\n      this.elementRef = elementRef;\n      this.slider = slider;\n      this.keySteps = [];\n      this.keyStepsInput = typedFromEvent(this.elementRef.nativeElement, 'input').pipe(map(() => this.controlValue));\n    }\n\n    get nativeFocusableElement() {\n      return this.computedDisabled ? null : this.elementRef.nativeElement;\n    }\n\n    get focused() {\n      return isNativeFocused(this.nativeFocusableElement);\n    }\n\n    get min() {\n      var _a;\n\n      return ((_a = this.keySteps[0]) === null || _a === void 0 ? void 0 : _a[1]) || 0;\n    }\n\n    get max() {\n      var _a;\n\n      return ((_a = this.keySteps[this.keySteps.length - 1]) === null || _a === void 0 ? void 0 : _a[1]) || 100;\n    }\n\n    get controlValue() {\n      const {\n        valuePercentage\n      } = this.slider;\n      const [lowerStep, upperStep] = findKeyStepsBoundariesByFn(this.keySteps, ([keyStepPercentage, _]) => valuePercentage <= keyStepPercentage);\n      return transformToControlValue(valuePercentage, lowerStep, upperStep);\n    }\n\n    updateControlValue() {\n      this.updateValue(this.controlValue);\n    }\n\n    writeValue(controlValue) {\n      if (controlValue === null) {\n        return;\n      }\n\n      const [lowerStep, upperStep] = findKeyStepsBoundariesByFn(this.keySteps, ([_, keyStepValue]) => controlValue <= keyStepValue);\n      this.slider.value = this.transformToNativeValue(controlValue, lowerStep, upperStep);\n    }\n\n    getFallbackValue() {\n      return 0;\n    }\n\n    transformToNativeValue(controlValue, [upperStepPercent, upperStepValue], [lowerStepPercent, lowerStepValue]) {\n      const {\n        min,\n        max\n      } = this.slider;\n      const ratio = (controlValue - lowerStepValue) / (upperStepValue - lowerStepValue);\n      const newValuePercentage = (upperStepPercent - lowerStepPercent) * ratio + lowerStepPercent;\n      return newValuePercentage * (max - min) / 100;\n    }\n\n  };\n\n  TuiSliderKeyStepsDirective.ɵfac = function TuiSliderKeyStepsDirective_Factory(t) {\n    return new (t || TuiSliderKeyStepsDirective)(ɵngcc0.ɵɵdirectiveInject(NgControl, 10), ɵngcc0.ɵɵdirectiveInject(ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(TuiSliderComponent));\n  };\n\n  TuiSliderKeyStepsDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: TuiSliderKeyStepsDirective,\n    selectors: [[\"input\", \"tuiSlider\", \"\", \"keySteps\", \"\"]],\n    hostVars: 3,\n    hostBindings: function TuiSliderKeyStepsDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"change\", function TuiSliderKeyStepsDirective_change_HostBindingHandler() {\n          return ctx.updateControlValue();\n        });\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-valuenow\", ctx.controlValue)(\"aria-valuemin\", ctx.min)(\"aria-valuemax\", ctx.max);\n      }\n    },\n    inputs: {\n      keySteps: \"keySteps\"\n    },\n    outputs: {\n      keyStepsInput: \"keyStepsInput\"\n    },\n    features: [ɵngcc0.ɵɵInheritDefinitionFeature]\n  });\n\n  __decorate([Input(), tuiDefaultProp(checkHasMinMaxPercents, 'Should contain min and max values')], TuiSliderKeyStepsDirective.prototype, \"keySteps\", void 0);\n\n  __decorate([Output()], TuiSliderKeyStepsDirective.prototype, \"keyStepsInput\", void 0);\n\n  __decorate([HostListener('change')], TuiSliderKeyStepsDirective.prototype, \"updateControlValue\", null);\n\n  TuiSliderKeyStepsDirective = __decorate([__param(0, Optional()), __param(0, Self()), __param(0, Inject(NgControl)), __param(1, Inject(ChangeDetectorRef)), __param(2, Inject(ElementRef)), __param(3, Inject(TuiSliderComponent))], TuiSliderKeyStepsDirective);\n  /**\n   * @deprecated DONT USE IT! It is just temporary solution for internal purposes only. We will delete it in next major release.\n   * TODO delete it in v3.0\n   *\n   */\n\n  return TuiSliderKeyStepsDirective;\n})();\nlet TuiSliderTickLabelPipe = /*#__PURE__*/(() => {\n  let TuiSliderTickLabelPipe = class TuiSliderTickLabelPipe {\n    transform(tickIndex, totalSegments, keySteps) {\n      const percentage = 100 / totalSegments * tickIndex;\n      const [lowerStep, upperStep] = findKeyStepsBoundariesByFn(keySteps, ([keyStepPercentage, _]) => percentage <= keyStepPercentage);\n      return transformToControlValue(percentage, upperStep, lowerStep);\n    }\n\n  };\n\n  TuiSliderTickLabelPipe.ɵfac = function TuiSliderTickLabelPipe_Factory(t) {\n    return new (t || TuiSliderTickLabelPipe)();\n  };\n\n  TuiSliderTickLabelPipe.ɵpipe = /*@__PURE__*/ɵngcc0.ɵɵdefinePipe({\n    name: \"tuiSliderTickLabel\",\n    type: TuiSliderTickLabelPipe,\n    pure: true\n  });\n  return TuiSliderTickLabelPipe;\n})();\n\nfunction checkHasMinMaxPercents(steps) {\n  return !steps.length || steps[0][0] === 0 && steps[steps.length - 1][0] === 100;\n}\n\nfunction findKeyStepsBoundariesByFn(keySteps, fn) {\n  const keyStepUpperIndex = keySteps.findIndex((ketStep, i) => i && fn(ketStep));\n  const lowerStep = keySteps[keyStepUpperIndex - 1];\n  const upperStep = keySteps[keyStepUpperIndex];\n  return [lowerStep, upperStep];\n}\n\nfunction transformToControlValue(valuePercentage, [upperStepPercent, upperStepValue], [lowerStepPercent, lowerStepValue]) {\n  const ratio = (valuePercentage - lowerStepPercent) / (upperStepPercent - lowerStepPercent);\n  const controlValue = (upperStepValue - lowerStepValue) * ratio + lowerStepValue;\n  return round(controlValue, TUI_FLOATING_PRECISION);\n}\n\nvar TuiSliderOldComponent_1;\n/**\n * @deprecated use {@link TuiSliderComponent} instead\n * TODO remove in 3.0\n */\n// @dynamic\n\nlet TuiSliderOldComponent = TuiSliderOldComponent_1 = class TuiSliderOldComponent extends AbstractTuiSlider {\n  constructor(control, changeDetectorRef, documentRef, fromToTexts$) {\n    super(control, changeDetectorRef, documentRef, fromToTexts$);\n  }\n\n  get nativeFocusableElement() {\n    return this.dotRight ? this.dotRight.nativeElement : null;\n  }\n\n  get focused() {\n    return isNativeFocused(this.nativeFocusableElement);\n  }\n\n  get left() {\n    return 0;\n  }\n\n  get right() {\n    return 100 - 100 * this.getFractionFromValue(this.value);\n  }\n\n  getFallbackValue() {\n    return 0;\n  }\n\n  processStep(increment) {\n    const fraction = this.getFractionFromValue(this.value);\n    const step = this.computedStep;\n    const value = this.getValueFromFraction(increment ? fraction + step : fraction - step);\n    this.processValue(value);\n  }\n\n  processValue(value) {\n    this.updateValue(this.valueGuard(value));\n  }\n\n};\n\nTuiSliderOldComponent.ɵfac = function TuiSliderOldComponent_Factory(t) {\n  return new (t || TuiSliderOldComponent)(ɵngcc0.ɵɵdirectiveInject(NgControl, 10), ɵngcc0.ɵɵdirectiveInject(ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(TUI_FROM_TO_TEXTS));\n};\n\nTuiSliderOldComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: TuiSliderOldComponent,\n  selectors: [[\"tui-slider\"]],\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: TUI_FOCUSABLE_ITEM_ACCESSOR,\n    useExisting: forwardRef(() => TuiSliderOldComponent_1)\n  }]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  decls: 8,\n  vars: 11,\n  consts: [[1, \"event-catcher\", 3, \"tuiActiveZoneChange\", \"mousedown\", \"touchstart\"], [1, \"wrapper\"], [\"class\", \"segments\", 4, \"ngIf\"], [\"automation-id\", \"tui-slider__bar\", 1, \"bar\"], [\"automation-id\", \"tui-slider__left\", 1, \"dot\", 3, \"tuiFocusable\", \"tuiFocusVisibleChange\", \"keydown.arrowLeft.prevent\", \"keydown.arrowDown.prevent\", \"keydown.arrowRight.prevent\", \"keydown.arrowUp.prevent\"], [\"dotLeft\", \"\"], [\"automation-id\", \"tui-slider__right\", 1, \"dot\", 3, \"tuiFocusable\", \"tuiFocusVisibleChange\", \"keydown.arrowLeft.prevent\", \"keydown.arrowDown.prevent\", \"keydown.arrowRight.prevent\", \"keydown.arrowUp.prevent\"], [\"dotRight\", \"\"], [1, \"segments\"], [\"automation-id\", \"tui-slider__segment\", \"class\", \"segment\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [\"automation-id\", \"tui-slider__segment\", 1, \"segment\"], [\"class\", \"number\", 4, \"ngIf\"], [1, \"number\"], [4, \"ngIf\"]],\n  template: function TuiSliderOldComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵlistener(\"tuiActiveZoneChange\", function TuiSliderOldComponent_Template_div_tuiActiveZoneChange_0_listener($event) {\n        return ctx.onActiveZone($event);\n      })(\"mousedown\", function TuiSliderOldComponent_Template_div_mousedown_0_listener($event) {\n        return ctx.onMouseDown($event);\n      })(\"touchstart\", function TuiSliderOldComponent_Template_div_touchstart_0_listener($event) {\n        return ctx.onTouchStart($event);\n      });\n      ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n      ɵngcc0.ɵɵtemplate(2, TuiSliderOldComponent_div_2_Template, 2, 1, \"div\", 2);\n      ɵngcc0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4, 5);\n      ɵngcc0.ɵɵlistener(\"tuiFocusVisibleChange\", function TuiSliderOldComponent_Template_div_tuiFocusVisibleChange_4_listener($event) {\n        return ctx.onLeftFocusVisible($event);\n      })(\"keydown.arrowLeft.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowLeft_prevent_4_listener() {\n        return ctx.decrement(false);\n      })(\"keydown.arrowDown.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowDown_prevent_4_listener() {\n        return ctx.decrement(false);\n      })(\"keydown.arrowRight.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowRight_prevent_4_listener() {\n        return ctx.increment(false);\n      })(\"keydown.arrowUp.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowUp_prevent_4_listener() {\n        return ctx.increment(false);\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(6, \"div\", 6, 7);\n      ɵngcc0.ɵɵlistener(\"tuiFocusVisibleChange\", function TuiSliderOldComponent_Template_div_tuiFocusVisibleChange_6_listener($event) {\n        return ctx.onRightFocusVisible($event);\n      })(\"keydown.arrowLeft.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowLeft_prevent_6_listener() {\n        return ctx.decrement(true);\n      })(\"keydown.arrowDown.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowDown_prevent_6_listener() {\n        return ctx.decrement(true);\n      })(\"keydown.arrowRight.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowRight_prevent_6_listener() {\n        return ctx.increment(true);\n      })(\"keydown.arrowUp.prevent\", function TuiSliderOldComponent_Template_div_keydown_arrowUp_prevent_6_listener() {\n        return ctx.increment(true);\n      });\n      ɵngcc0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.segmented);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵstyleProp(\"left\", ctx.left, \"%\")(\"right\", ctx.right, \"%\");\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵclassProp(\"dot_focus-visible\", ctx.focusVisibleLeft && ctx.computedFocused);\n      ɵngcc0.ɵɵproperty(\"tuiFocusable\", ctx.isLeftFocusable);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵclassProp(\"dot_focus-visible\", ctx.focusVisibleRight && ctx.computedFocused);\n      ɵngcc0.ɵɵproperty(\"tuiFocusable\", ctx.isRightFocusable);\n    }\n  },\n  directives: [ɵngcc2.TuiActiveZoneDirective, ɵngcc3.NgIf, ɵngcc2.TuiRepeatTimesDirective, ɵngcc2.TuiFocusableDirective, ɵngcc2.TuiFocusVisibleDirective],\n  pipes: [ɵngcc3.AsyncPipe, ɵngcc4.TuiFormatNumberPipe, ɵngcc3.I18nPluralPipe],\n  styles: [\"[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);color:var(--tui-base-03);min-height:.125rem;font-size:1rem}[data-size='s'][_nghost-%COMP%]{min-height:.125rem;font-size:.5rem}._segmented[_nghost-%COMP%]{padding-bottom:1.25rem}._disabled[_nghost-%COMP%]{cursor:default;pointer-events:none;opacity:var(--tui-disabled-opacity)}.event-catcher[_ngcontent-%COMP%]{min-height:inherit;border-radius:inherit;padding:.4375rem 0;cursor:pointer}.wrapper[_ngcontent-%COMP%]{position:relative;min-height:inherit;border-radius:inherit;background-color:currentColor;border:solid transparent;border-width:0 1em}.bar[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:0 -1em;border-radius:inherit;background-color:var(--tui-primary)}tui-input-slider[_nghost-%COMP%]   .bar[_ngcontent-%COMP%], tui-input-slider   [_nghost-%COMP%]   .bar[_ngcontent-%COMP%]{margin-left:calc(var(--tui-radius-m)/ 2);border-bottom-left-radius:calc(var(--tui-radius-m) * 5) calc(var(--tui-radius-m) * 1.5)}.dot[_ngcontent-%COMP%]{transition-property:background-color;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:absolute;top:50%;z-index:1;width:1em;height:1em;transform:translate(0,-50%);border-radius:100%;background-color:var(--tui-primary);outline:0;cursor:ew-resize}.dot[_ngcontent-%COMP%]:last-child{right:0;transform:translate(0,-50%)}.dot[_ngcontent-%COMP%]:hover{background-color:var(--tui-primary-hover)}.dot[_ngcontent-%COMP%]:active{background-color:var(--tui-primary-active)}.dot_focus-visible[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 2px var(--tui-focus)}.segments[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;justify-content:space-between;min-height:inherit;margin:0 -1em}.segments-spacer[_ngcontent-%COMP%]{height:1.625rem}.segment[_ngcontent-%COMP%]{position:relative;height:inherit;width:.25rem;background-color:rgba(0,0,0,.36);pointer-events:none}.segment[_ngcontent-%COMP%]:first-of-type, .segment[_ngcontent-%COMP%]:last-of-type{background-color:transparent}.number[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%,0);top:100%;font:var(--tui-font-text-s);margin-top:.5rem;color:var(--tui-text-02);white-space:nowrap}.segment[_ngcontent-%COMP%]:first-of-type   .number[_ngcontent-%COMP%]{left:-.05em;transform:none}.segment[_ngcontent-%COMP%]:last-of-type   .number[_ngcontent-%COMP%]{left:auto;right:-.05em;transform:none}._disabled[_nghost-%COMP%]   .number[_ngcontent-%COMP%]{color:var(--tui-text-01)}\", \".dot[_ngcontent-%COMP%]:first-child{display:none}.wrapper[_ngcontent-%COMP%]{border-left:none}.bar[_ngcontent-%COMP%], .segments[_ngcontent-%COMP%]{margin-left:0}\"],\n  changeDetection: 0\n});\n\nTuiSliderOldComponent.ctorParameters = () => [{\n  type: NgControl,\n  decorators: [{\n    type: Optional\n  }, {\n    type: Self\n  }, {\n    type: Inject,\n    args: [NgControl]\n  }]\n}, {\n  type: ChangeDetectorRef,\n  decorators: [{\n    type: Inject,\n    args: [ChangeDetectorRef]\n  }]\n}, {\n  type: Document,\n  decorators: [{\n    type: Inject,\n    args: [DOCUMENT]\n  }]\n}, {\n  type: Observable,\n  decorators: [{\n    type: Inject,\n    args: [TUI_FROM_TO_TEXTS]\n  }]\n}];\n\nTuiSliderOldComponent = TuiSliderOldComponent_1 = __decorate([__param(0, Optional()), __param(0, Self()), __param(0, Inject(NgControl)), __param(1, Inject(ChangeDetectorRef)), __param(2, Inject(DOCUMENT)), __param(3, Inject(TUI_FROM_TO_TEXTS))], TuiSliderOldComponent);\nlet TuiSliderModule = /*#__PURE__*/(() => {\n  let TuiSliderModule = class TuiSliderModule {};\n\n  TuiSliderModule.ɵfac = function TuiSliderModule_Factory(t) {\n    return new (t || TuiSliderModule)();\n  };\n\n  TuiSliderModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiSliderModule\n  });\n  TuiSliderModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiRepeatTimesModule, TuiFocusableModule, TuiFocusVisibleModule, TuiActiveZoneModule, TuiFormatNumberPipeModule]]\n  });\n  return TuiSliderModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiSliderModule, {\n    declarations: function () {\n      return [TuiSliderComponent, TuiSliderKeyStepsDirective, TuiSliderTickLabelPipe, TuiSliderOldComponent];\n    },\n    imports: function () {\n      return [CommonModule, TuiRepeatTimesModule, TuiFocusableModule, TuiFocusVisibleModule, TuiActiveZoneModule, TuiFormatNumberPipeModule];\n    },\n    exports: function () {\n      return [TuiSliderComponent, TuiSliderKeyStepsDirective, TuiSliderTickLabelPipe, TuiSliderOldComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TUI_SLIDER_DEFAULT_OPTIONS, TUI_SLIDER_OPTIONS, TuiSliderComponent, TuiSliderKeyStepsDirective, TuiSliderModule, TuiSliderOldComponent, TuiSliderTickLabelPipe, tuiSliderOptionsProvider }; //# sourceMappingURL=taiga-ui-kit-components-slider.js.map","map":null,"metadata":{},"sourceType":"module"}