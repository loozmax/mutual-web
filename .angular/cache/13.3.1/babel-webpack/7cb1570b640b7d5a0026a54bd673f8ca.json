{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { isPresent, tuiPure, TUI_DEFAULT_MATCHER, TUI_DEFAULT_STRINGIFY, TUI_FOCUSABLE_ITEM_ACCESSOR } from '@taiga-ui/cdk';\nimport { isFlat } from '@taiga-ui/kit/utils';\nimport { Inject, Pipe, NgModule } from '@angular/core';\nimport * as ɵngcc0 from '@angular/core';\nlet TuiFilterByInputBase = /*#__PURE__*/(() => {\n  class TuiFilterByInputBase {\n    get query() {\n      return this.accessor.nativeFocusableElement ? this.accessor.nativeFocusableElement.value || '' : '';\n    }\n\n    filter(items, matcher, stringify, query) {\n      if (!items) {\n        return null;\n      }\n\n      return isFlat(items) ? this.filterFlat(items, matcher, stringify, query) : this.filter2d(items, matcher, stringify, query);\n    }\n\n    filterFlat(items, matcher, stringify, query) {\n      const match = this.getMatch(items, stringify, query);\n      return isPresent(match) ? items : items.filter(item => matcher(item, query, stringify));\n    }\n\n    filter2d(items, matcher, stringify, query) {\n      const match = items.find(item => isPresent(this.getMatch(item, stringify, query)));\n      return isPresent(match) ? items : items.map(inner => this.filterFlat(inner, matcher, stringify, query));\n    }\n\n    getMatch(items, stringify, query) {\n      return items.find(item => stringify(item).toLocaleLowerCase() === query.toLocaleLowerCase());\n    }\n\n  }\n\n  __decorate([tuiPure], TuiFilterByInputBase.prototype, \"filter\", null);\n\n  return TuiFilterByInputBase;\n})();\nlet TuiFilterByInputPipe = /*#__PURE__*/(() => {\n  let TuiFilterByInputPipe = class TuiFilterByInputPipe extends TuiFilterByInputBase {\n    constructor(accessor) {\n      super();\n      this.accessor = accessor;\n    }\n\n    transform(items, matcher = TUI_DEFAULT_MATCHER) {\n      return this.filter(items, matcher, TUI_DEFAULT_STRINGIFY, this.query);\n    }\n\n  };\n\n  TuiFilterByInputPipe.ɵfac = function TuiFilterByInputPipe_Factory(t) {\n    return new (t || TuiFilterByInputPipe)(ɵngcc0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 16));\n  };\n\n  TuiFilterByInputPipe.ɵpipe = /*@__PURE__*/ɵngcc0.ɵɵdefinePipe({\n    name: \"tuiFilterByInput\",\n    type: TuiFilterByInputPipe,\n    pure: false\n  });\n  TuiFilterByInputPipe = __decorate([__param(0, Inject(TUI_FOCUSABLE_ITEM_ACCESSOR))], TuiFilterByInputPipe);\n  return TuiFilterByInputPipe;\n})();\nlet TuiFilterByInputWithPipe = /*#__PURE__*/(() => {\n  let TuiFilterByInputWithPipe = class TuiFilterByInputWithPipe extends TuiFilterByInputBase {\n    constructor(accessor) {\n      super();\n      this.accessor = accessor;\n    }\n\n    transform(items, stringify) {\n      return this.filter(items, TUI_DEFAULT_MATCHER, stringify, this.query);\n    }\n\n  };\n\n  TuiFilterByInputWithPipe.ɵfac = function TuiFilterByInputWithPipe_Factory(t) {\n    return new (t || TuiFilterByInputWithPipe)(ɵngcc0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 16));\n  };\n\n  TuiFilterByInputWithPipe.ɵpipe = /*@__PURE__*/ɵngcc0.ɵɵdefinePipe({\n    name: \"tuiFilterByInputWith\",\n    type: TuiFilterByInputWithPipe,\n    pure: false\n  });\n  TuiFilterByInputWithPipe = __decorate([__param(0, Inject(TUI_FOCUSABLE_ITEM_ACCESSOR))], TuiFilterByInputWithPipe);\n  return TuiFilterByInputWithPipe;\n})();\nlet TuiFilterByInputPipeModule = /*#__PURE__*/(() => {\n  let TuiFilterByInputPipeModule = class TuiFilterByInputPipeModule {};\n\n  TuiFilterByInputPipeModule.ɵfac = function TuiFilterByInputPipeModule_Factory(t) {\n    return new (t || TuiFilterByInputPipeModule)();\n  };\n\n  TuiFilterByInputPipeModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiFilterByInputPipeModule\n  });\n  TuiFilterByInputPipeModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n  return TuiFilterByInputPipeModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiFilterByInputPipeModule, {\n    declarations: [TuiFilterByInputPipe, TuiFilterByInputWithPipe],\n    exports: [TuiFilterByInputPipe, TuiFilterByInputWithPipe]\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TuiFilterByInputBase, TuiFilterByInputPipe, TuiFilterByInputPipeModule, TuiFilterByInputWithPipe }; //# sourceMappingURL=taiga-ui-kit-pipes-filter-by-input.js.map","map":null,"metadata":{},"sourceType":"module"}