{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { InjectionToken, EventEmitter, Optional, Self, Inject, ChangeDetectorRef, ElementRef, ViewChild, ViewChildren, Input, HostBinding, Output, ContentChild, TemplateRef, Component, ChangeDetectionStrategy, forwardRef, NgModule } from '@angular/core';\nimport { NgControl, FormsModule } from '@angular/forms';\nimport { AbstractTuiMultipleControl, EMPTY_QUERY, ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER, isNativeFocusedIn, getActualTarget, setNativeFocused, typedFromEvent, preventDefault, TuiScrollService, tuiDefaultProp, TUI_FOCUSABLE_ITEM_ACCESSOR, TuiFocusableModule, TuiHoveredModule, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport { TUI_TEXTFIELD_APPEARANCE, TuiModeDirective, TUI_MODE, TuiHintControllerDirective, TUI_HINT_WATCHED_CONTROLLER, TuiTextfieldController, TUI_TEXTFIELD_WATCHED_CONTROLLER, TuiHostedDropdownComponent, TuiScrollbarComponent, TuiDataListDirective, TUI_DATA_LIST_HOST, TEXTFIELD_CONTROLLER_PROVIDER, HINT_CONTROLLER_PROVIDER, MODE_PROVIDER, TuiSvgModule, TuiScrollbarModule, TuiTooltipModule, TuiHostedDropdownModule, TuiWrapperModule } from '@taiga-ui/core';\nimport { ALLOWED_SPACE_REGEXP, TuiTagModule } from '@taiga-ui/kit/components/tag';\nimport { FIXED_DROPDOWN_CONTROLLER_PROVIDER } from '@taiga-ui/kit/providers';\nimport { TUI_TAG_STATUS } from '@taiga-ui/kit/tokens';\nimport { Subject, merge, Observable } from 'rxjs';\nimport { map, filter, mapTo, switchMap, takeUntil } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@taiga-ui/core';\nimport * as ɵngcc2 from '@taiga-ui/cdk';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from '@taiga-ui/kit/components/tag';\nimport * as ɵngcc5 from '@angular/forms';\nimport * as ɵngcc6 from 'rxjs';\nconst _c0 = [\"focusableElement\"];\nconst _c1 = [\"tagsContainer\"];\nconst _c2 = [\"cleaner\"];\nconst _c3 = [\"errorIcon\"];\nconst _c4 = [\"tag\"];\n\nfunction TuiInputTagComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 11);\n    ɵngcc0.ɵɵelement(1, \"tui-svg\", 12);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r0.icon);\n  }\n}\n\nfunction TuiInputTagComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 13);\n    ɵngcc0.ɵɵprojection(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"t-placeholder_raised\", ctx_r1.placeholderRaised);\n  }\n}\n\nfunction TuiInputTagComponent_tui_scrollbar_7_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction TuiInputTagComponent_tui_scrollbar_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"tui-scrollbar\", 14);\n    ɵngcc0.ɵɵtemplate(1, TuiInputTagComponent_tui_scrollbar_7_ng_container_1_Template, 1, 0, \"ng-container\", 15);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    const _r3 = ɵngcc0.ɵɵreference(9);\n\n    ɵngcc0.ɵɵproperty(\"hidden\", true);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r3);\n  }\n}\n\nfunction TuiInputTagComponent_ng_template_8_ng_container_2_tui_tag_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"tui-tag\", 25, 26);\n    ɵngcc0.ɵɵlistener(\"edited\", function TuiInputTagComponent_ng_template_8_ng_container_2_tui_tag_1_Template_tui_tag_edited_0_listener($event) {\n      const restoredCtx = ɵngcc0.ɵɵrestoreView(_r19);\n      const index_r16 = restoredCtx.index;\n      const ctx_r18 = ɵngcc0.ɵɵnextContext(3);\n      return ctx_r18.onTagEdited($event, index_r16);\n    })(\"keydown.arrowLeft.prevent\", function TuiInputTagComponent_ng_template_8_ng_container_2_tui_tag_1_Template_tui_tag_keydown_arrowLeft_prevent_0_listener() {\n      const restoredCtx = ɵngcc0.ɵɵrestoreView(_r19);\n      const index_r16 = restoredCtx.index;\n      const ctx_r20 = ɵngcc0.ɵɵnextContext(3);\n      return ctx_r20.onTagKeyDownArrowLeft(index_r16);\n    })(\"keydown.arrowRight.prevent\", function TuiInputTagComponent_ng_template_8_ng_container_2_tui_tag_1_Template_tui_tag_keydown_arrowRight_prevent_0_listener() {\n      const restoredCtx = ɵngcc0.ɵɵrestoreView(_r19);\n      const index_r16 = restoredCtx.index;\n      const ctx_r21 = ɵngcc0.ɵɵnextContext(3);\n      return ctx_r21.onTagKeyDownArrowRight(index_r16);\n    });\n    ɵngcc0.ɵɵpipe(2, \"async\");\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r15 = ctx.$implicit;\n    const ctx_r14 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵproperty(\"status\", ɵngcc0.ɵɵpipeBind1(2, 12, ctx_r14.status$))(\"leftContent\", ctx_r14.getLeftContent(item_r15))(\"allowSpaces\", ctx_r14.allowSpaces)(\"tuiFocusable\", false)(\"disabled\", ctx_r14.computedDisabled || ctx_r14.disabledItemHandler(item_r15))(\"editable\", ctx_r14.editable && !ctx_r14.readOnly)(\"hoverable\", !ctx_r14.readOnly)(\"removable\", !ctx_r14.readOnly)(\"separator\", ctx_r14.separator)(\"maxLength\", ctx_r14.controller.maxLength)(\"size\", ctx_r14.controller.size)(\"value\", item_r15.toString());\n  }\n}\n\nfunction TuiInputTagComponent_ng_template_8_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, TuiInputTagComponent_ng_template_8_ng_container_2_tui_tag_1_Template, 3, 14, \"tui-tag\", 24);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r10.value);\n  }\n}\n\nfunction TuiInputTagComponent_ng_template_8_ng_template_3_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 28);\n  }\n\n  if (rf & 2) {\n    const item_r23 = ctx.$implicit;\n    const ctx_r22 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵclassProp(\"t-text_disabled\", ctx_r22.disabledItemHandler(item_r23))(\"t-text_error\", !ctx_r22.tagValidator(item_r23));\n    ɵngcc0.ɵɵproperty(\"innerText\", item_r23);\n  }\n}\n\nfunction TuiInputTagComponent_ng_template_8_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, TuiInputTagComponent_ng_template_8_ng_template_3_span_0_Template, 1, 5, \"span\", 27);\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngForOf\", ctx_r12.value);\n  }\n}\n\nfunction TuiInputTagComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"div\", 16, 17);\n    ɵngcc0.ɵɵtemplate(2, TuiInputTagComponent_ng_template_8_ng_container_2_Template, 2, 1, \"ng-container\", 18);\n    ɵngcc0.ɵɵtemplate(3, TuiInputTagComponent_ng_template_8_ng_template_3_Template, 1, 1, \"ng-template\", null, 19, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementStart(5, \"div\", 20)(6, \"div\", 21);\n    ɵngcc0.ɵɵtext(7);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementStart(8, \"input\", 22, 23);\n    ɵngcc0.ɵɵlistener(\"ngModelChange\", function TuiInputTagComponent_ng_template_8_Template_input_ngModelChange_8_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r25);\n      const ctx_r24 = ɵngcc0.ɵɵnextContext();\n      return ctx_r24.onInput($event);\n    })(\"keydown.arrowLeft\", function TuiInputTagComponent_ng_template_8_Template_input_keydown_arrowLeft_8_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r25);\n      const ctx_r26 = ɵngcc0.ɵɵnextContext();\n      return ctx_r26.onFieldKeyDownArrowLeft($event);\n    })(\"keydown.backspace\", function TuiInputTagComponent_ng_template_8_Template_input_keydown_backspace_8_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r25);\n      const ctx_r27 = ɵngcc0.ɵɵnextContext();\n      return ctx_r27.onFieldKeyDownBackspace($event);\n    })(\"keydown.enter.prevent\", function TuiInputTagComponent_ng_template_8_Template_input_keydown_enter_prevent_8_listener() {\n      ɵngcc0.ɵɵrestoreView(_r25);\n      const ctx_r28 = ɵngcc0.ɵɵnextContext();\n      return ctx_r28.onFieldKeyDownEnter();\n    });\n    ɵngcc0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const _r11 = ɵngcc0.ɵɵreference(4);\n\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r4.labelOutside)(\"ngIfElse\", _r11);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵclassProp(\"t-input-wrapper_collapsed\", ctx_r4.computedDisabled || ctx_r4.readOnly || ctx_r4.inputHidden);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r4.search);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"t-native_hidden\", ctx_r4.inputHidden);\n    ɵngcc0.ɵɵproperty(\"placeholder\", ctx_r4.controller.exampleText)(\"id\", ctx_r4.id)(\"disabled\", ctx_r4.computedDisabled)(\"readOnly\", ctx_r4.readOnly || ctx_r4.inputHidden)(\"tuiFocusable\", ctx_r4.computedFocusable)(\"ngModel\", ctx_r4.search);\n    ɵngcc0.ɵɵattribute(\"maxLength\", ctx_r4.controller.maxLength);\n  }\n}\n\nfunction TuiInputTagComponent_div_10_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"tui-svg\", 33, 34);\n    ɵngcc0.ɵɵlistener(\"click.stop\", function TuiInputTagComponent_div_10_tui_svg_1_Template_tui_svg_click_stop_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r34);\n      const ctx_r33 = ɵngcc0.ɵɵnextContext(2);\n      return ctx_r33.onCleanerClick();\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nfunction TuiInputTagComponent_div_10_tui_tooltip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-tooltip\", 35);\n  }\n\n  if (rf & 2) {\n    const ctx_r30 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"direction\", ctx_r30.hintController.direction)(\"mode\", ctx_r30.hintController.mode)(\"content\", ctx_r30.hintController.content)(\"showDelay\", ctx_r30.hintController.showDelay)(\"hideDelay\", ctx_r30.hintController.hideDelay);\n  }\n}\n\nfunction TuiInputTagComponent_div_10_tui_svg_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-svg\", 12);\n  }\n\n  if (rf & 2) {\n    const ctx_r31 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r31.icon);\n  }\n}\n\nfunction TuiInputTagComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 29);\n    ɵngcc0.ɵɵtemplate(1, TuiInputTagComponent_div_10_tui_svg_1_Template, 2, 0, \"tui-svg\", 30);\n    ɵngcc0.ɵɵtemplate(2, TuiInputTagComponent_div_10_tui_tooltip_2_Template, 1, 5, \"tui-tooltip\", 31);\n    ɵngcc0.ɵɵtemplate(3, TuiInputTagComponent_div_10_tui_svg_3_Template, 1, 1, \"tui-svg\", 32);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r5.hasCleaner);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r5.hasTooltip);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r5.iconAlignRight);\n  }\n}\n\nfunction TuiInputTagComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-svg\", 36);\n  }\n}\n\nconst _c5 = [\"*\"];\nconst TUI_INPUT_TAG_DEFAULT_OPTIONS = {\n  separator: ',',\n  uniqueTags: true\n};\nconst TUI_INPUT_TAG_OPTIONS = new InjectionToken('Default parameters for input-tag', {\n  factory: () => TUI_INPUT_TAG_DEFAULT_OPTIONS\n});\nvar TuiInputTagComponent_1;\nconst EVENT_Y_TO_X_COEFFICIENT = 3;\nlet TuiInputTagComponent = TuiInputTagComponent_1 = class TuiInputTagComponent extends AbstractTuiMultipleControl {\n  constructor(control, changeDetectorRef, tuiScrollService, elementRef, appearance, modeDirective, mode$, tagStatus, hintController, controller, options, parentHostedDropdown) {\n    super(control, changeDetectorRef);\n    this.tuiScrollService = tuiScrollService;\n    this.elementRef = elementRef;\n    this.appearance = appearance;\n    this.modeDirective = modeDirective;\n    this.mode$ = mode$;\n    this.tagStatus = tagStatus;\n    this.hintController = hintController;\n    this.controller = controller;\n    this.options = options;\n    this.parentHostedDropdown = parentHostedDropdown;\n    this.tags = EMPTY_QUERY;\n    this.scrollToStart$ = new Subject();\n    this.scrollToEnd$ = new Subject(); // TODO: Remove in 3.0\n\n    this.allowSpaces = true;\n    this.separator = this.options.separator;\n    this.icon = '';\n    this.iconAlign = 'right';\n    this.search = '';\n    this.editable = true;\n    this.tagValidator = ALWAYS_TRUE_HANDLER;\n    this.expandable = true;\n    this.inputHidden = false;\n    this.uniqueTags = this.options.uniqueTags;\n    this.disabledItemHandler = ALWAYS_FALSE_HANDLER;\n    this.searchChange = new EventEmitter();\n    this.status$ = this.mode$.pipe(map(mode => mode ? 'default' : this.tagStatus));\n    this.open = false;\n  }\n\n  set pseudoFocusedSetter(value) {\n    if (!value && !this.focused) {\n      this.scrollToStart$.next();\n    }\n\n    this.pseudoFocused = value;\n  }\n\n  set scrollerSetter(scroller) {\n    this.initScrollerSubscrition(scroller);\n  }\n\n  get nativeFocusableElement() {\n    return !this.focusableElement || this.computedDisabled ? null : this.focusableElement.nativeElement;\n  }\n\n  get focused() {\n    var _a;\n\n    return isNativeFocusedIn(this.elementRef.nativeElement) || !!((_a = this.hostedDropdown) === null || _a === void 0 ? void 0 : _a.focused);\n  }\n\n  get size() {\n    return this.controller.size;\n  }\n\n  get labelOutside() {\n    const {\n      size,\n      labelOutside\n    } = this.controller;\n    return size === 's' || labelOutside;\n  }\n\n  get hasCleaner() {\n    return this.controller.cleaner && this.hasValue && this.interactive;\n  }\n\n  get hasNativeValue() {\n    return !!this.search;\n  }\n\n  get hasValue() {\n    return !!this.value.length || this.hasNativeValue;\n  }\n\n  get hasPlaceholder() {\n    return !this.labelOutside || !this.hasValue && (!this.hasExampleText || this.inputHidden);\n  }\n\n  get placeholderRaised() {\n    return !this.labelOutside && (this.computedFocused && !this.readOnly || this.hasValue);\n  }\n\n  get hasExampleText() {\n    return !!this.controller.exampleText && this.computedFocused && !this.hasValue && !this.readOnly;\n  }\n\n  get hasTooltip() {\n    return !!this.hintController.content && !this.disabled;\n  }\n\n  get iconAlignLeft() {\n    return !!this.icon && this.iconAlign === 'left';\n  }\n\n  get iconAlignRight() {\n    return !!this.icon && this.iconAlign === 'right';\n  }\n\n  get hasRightIcons() {\n    return this.hasCleaner || this.hasTooltip || this.iconAlignRight;\n  }\n  /**\n   * @deprecated: use `status$ | async` instead\n   * TODO: remove in v3.0\n   */\n\n\n  get status() {\n    return this.modeDirective && this.modeDirective.mode ? 'default' : this.tagStatus;\n  }\n\n  get canOpen() {\n    return this.interactive && !!this.datalist;\n  }\n\n  getLeftContent(tag) {\n    return !this.tagValidator(tag) && this.errorIconTemplate ? this.errorIconTemplate : '';\n  }\n\n  onCleanerClick() {\n    var _a;\n\n    this.updateSearch('');\n    this.clear();\n    this.focusInput();\n    (_a = this.parentHostedDropdown) === null || _a === void 0 ? void 0 : _a.updateOpen(true);\n  }\n\n  onActiveZone(active) {\n    this.open = false;\n    this.addTag();\n    this.updateFocused(active);\n\n    if (!this.computedFocused) {\n      this.scrollToStart$.next();\n    }\n  }\n\n  onMouseDown(event) {\n    const actualTarget = getActualTarget(event);\n\n    if (!this.focusableElement || actualTarget === this.focusableElement.nativeElement || // TODO: iframe warning\n    !(event.target instanceof Element) || this.cleanerSvg && this.cleanerSvg.nativeElement.contains(event.target) || this.tagsContainer && actualTarget !== this.tagsContainer.nativeElement && this.tagsContainer.nativeElement.contains(actualTarget)) {\n      return;\n    }\n\n    event.preventDefault();\n    this.focusInput();\n  }\n\n  onFieldKeyDownBackspace(event) {\n    if (!this.labelOutside && !this.hasNativeValue && this.value.length) {\n      this.deleteLastEnabledItem();\n    } else {\n      this.onFieldKeyDownArrowLeft(event);\n    }\n  }\n\n  onFieldKeyDownArrowLeft(event) {\n    if (!this.labelOutside || this.hasNativeValue || !this.value.length) {\n      return;\n    }\n\n    event.preventDefault();\n    setNativeFocused(this.tags.last.nativeElement);\n  }\n\n  onFieldKeyDownEnter() {\n    this.addTag();\n    this.scrollToEnd$.next();\n  }\n\n  onTagKeyDownArrowLeft(currentIndex) {\n    if (currentIndex > 0) {\n      this.onScrollKeyDown(currentIndex, -1);\n    }\n  }\n\n  onTagKeyDownArrowRight(currentIndex) {\n    if (currentIndex === this.value.length - 1) {\n      this.focusInput();\n    } else {\n      this.onScrollKeyDown(currentIndex, 1);\n    }\n  }\n\n  onTagEdited(value, index) {\n    this.focusInput();\n    this.updateValue(this.value.map((tag, tagIndex) => tagIndex !== index ? tag : value.split(this.separator).map(tag => tag.trim()).filter(Boolean)).reduce((result, item) => result.concat(item), []));\n  }\n\n  handleOption(item) {\n    this.focusInput();\n    this.updateSearch('');\n    this.updateValue(this.value.concat(item));\n    this.open = false;\n    this.scrollToEnd$.next();\n  }\n\n  onInput(value) {\n    const array = this.allowSpaces ? value.split(this.separator) : value.split(ALLOWED_SPACE_REGEXP);\n    const tags = array.map(item => item.trim()).filter((item, index, {\n      length\n    }) => item.length > 0 && index !== length - 1);\n    const validated = tags.filter(tag => !this.disabledItemHandler(tag));\n\n    if (array.length > 1) {\n      this.updateSearch(array[array.length - 1].trim());\n      this.updateValue([...this.value, ...validated]);\n    } else {\n      this.updateSearch(value);\n    }\n\n    this.open = this.hasNativeValue;\n  }\n\n  onHoveredChange(hovered) {\n    this.updateHovered(hovered);\n  }\n\n  setDisabledState() {\n    super.setDisabledState();\n    this.open = false;\n  }\n\n  updateValue(value) {\n    const seen = new Set();\n    super.updateValue(value.reverse().filter(item => !this.uniqueTags || !!item && !seen.has(item) && seen.add(item)).reverse());\n  }\n\n  onScrollKeyDown(currentIndex, flag) {\n    const tag = this.tags.find((_item, index) => index === currentIndex + flag);\n\n    if (!tag || !this.scrollBar) {\n      return;\n    }\n\n    setNativeFocused(tag.nativeElement);\n\n    if (flag * this.scrollBar.nativeElement.clientWidth - flag * tag.nativeElement.offsetLeft - tag.nativeElement.clientWidth < 0) {\n      this.scrollBar.nativeElement.scrollLeft += flag * tag.nativeElement.clientWidth;\n    }\n  }\n\n  initScrollerSubscrition(scroller) {\n    if (!scroller || !scroller.browserScrollRef) {\n      return;\n    }\n\n    const {\n      nativeElement\n    } = scroller.browserScrollRef;\n    const wheel$ = typedFromEvent(nativeElement, 'wheel', {\n      passive: false\n    }).pipe(filter(event => event.deltaX === 0 && this.shouldScroll(nativeElement)), preventDefault(), map(({\n      deltaY\n    }) => Math.max(nativeElement.scrollLeft + deltaY * EVENT_Y_TO_X_COEFFICIENT, 0)));\n    const start$ = this.scrollToStart$.pipe(mapTo(0));\n    const end$ = this.scrollToEnd$.pipe(map(() => nativeElement.scrollWidth));\n    merge(wheel$, start$, end$).pipe(switchMap(left => this.tuiScrollService.scroll$(nativeElement, 0, left)), takeUntil(this.destroy$)).subscribe();\n  }\n\n  updateSearch(value) {\n    if (this.focusableElement) {\n      this.focusableElement.nativeElement.value = value;\n    }\n\n    this.search = value;\n    this.searchChange.emit(value);\n  }\n\n  shouldScroll({\n    scrollWidth,\n    offsetWidth\n  }) {\n    return scrollWidth > offsetWidth;\n  }\n\n  addTag() {\n    const inputValue = this.search.trim();\n\n    if (!inputValue || this.disabledItemHandler(inputValue)) {\n      return;\n    }\n\n    this.updateSearch('');\n    this.updateValue(this.value.concat(inputValue));\n  }\n\n  deleteLastEnabledItem() {\n    for (let index = this.value.length - 1; index >= 0; index--) {\n      if (!this.disabledItemHandler(this.value[index])) {\n        this.updateValue([...this.value.slice(0, index), ...this.value.slice(index + 1, this.value.length)]);\n        break;\n      }\n    }\n  }\n\n  focusInput(preventScroll = false) {\n    if (this.nativeFocusableElement) {\n      setNativeFocused(this.nativeFocusableElement, true, preventScroll);\n    }\n  }\n\n};\n\nTuiInputTagComponent.ɵfac = function TuiInputTagComponent_Factory(t) {\n  return new (t || TuiInputTagComponent)(ɵngcc0.ɵɵdirectiveInject(NgControl, 10), ɵngcc0.ɵɵdirectiveInject(ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(TuiScrollService), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(TUI_TEXTFIELD_APPEARANCE), ɵngcc0.ɵɵdirectiveInject(TuiModeDirective, 8), ɵngcc0.ɵɵdirectiveInject(TUI_MODE), ɵngcc0.ɵɵdirectiveInject(TUI_TAG_STATUS), ɵngcc0.ɵɵdirectiveInject(TUI_HINT_WATCHED_CONTROLLER), ɵngcc0.ɵɵdirectiveInject(TUI_TEXTFIELD_WATCHED_CONTROLLER), ɵngcc0.ɵɵdirectiveInject(TUI_INPUT_TAG_OPTIONS), ɵngcc0.ɵɵdirectiveInject(TuiHostedDropdownComponent, 8));\n};\n\nTuiInputTagComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: TuiInputTagComponent,\n  selectors: [[\"tui-input-tag\"]],\n  contentQueries: function TuiInputTagComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵcontentQuery(dirIndex, TuiDataListDirective, 5, TemplateRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.datalist = _t.first);\n    }\n  },\n  viewQuery: function TuiInputTagComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(TuiScrollbarComponent, 5);\n      ɵngcc0.ɵɵviewQuery(TuiHostedDropdownComponent, 5);\n      ɵngcc0.ɵɵviewQuery(_c0, 5);\n      ɵngcc0.ɵɵviewQuery(_c1, 5);\n      ɵngcc0.ɵɵviewQuery(_c2, 5, ElementRef);\n      ɵngcc0.ɵɵviewQuery(TuiScrollbarComponent, 5, ElementRef);\n      ɵngcc0.ɵɵviewQuery(_c3, 5);\n      ɵngcc0.ɵɵviewQuery(_c4, 5, ElementRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.scrollerSetter = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.hostedDropdown = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.focusableElement = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tagsContainer = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.cleanerSvg = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.scrollBar = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.errorIconTemplate = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.tags = _t);\n    }\n  },\n  hostVars: 5,\n  hostBindings: function TuiInputTagComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"data-size\", ctx.size);\n      ɵngcc0.ɵɵclassProp(\"_expandable\", ctx.expandable)(\"_label-outside\", ctx.labelOutside);\n    }\n  },\n  inputs: {\n    allowSpaces: \"allowSpaces\",\n    separator: \"separator\",\n    icon: \"icon\",\n    iconAlign: \"iconAlign\",\n    search: \"search\",\n    editable: \"editable\",\n    tagValidator: \"tagValidator\",\n    expandable: \"expandable\",\n    inputHidden: \"inputHidden\",\n    uniqueTags: \"uniqueTags\",\n    disabledItemHandler: \"disabledItemHandler\",\n    pseudoFocusedSetter: [\"pseudoFocused\", \"pseudoFocusedSetter\"]\n  },\n  outputs: {\n    searchChange: \"searchChange\"\n  },\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    provide: TUI_FOCUSABLE_ITEM_ACCESSOR,\n    useExisting: forwardRef(() => TuiInputTagComponent_1)\n  }, {\n    provide: TUI_DATA_LIST_HOST,\n    useExisting: forwardRef(() => TuiInputTagComponent_1)\n  }, FIXED_DROPDOWN_CONTROLLER_PROVIDER, TEXTFIELD_CONTROLLER_PROVIDER, HINT_CONTROLLER_PROVIDER, MODE_PROVIDER]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  ngContentSelectors: _c5,\n  decls: 13,\n  vars: 14,\n  consts: [[1, \"t-hosted\", 3, \"canOpen\", \"content\", \"open\", \"openChange\", \"tuiActiveZoneChange\"], [3, \"appearance\", \"readOnly\", \"focused\", \"hovered\", \"disabled\", \"invalid\", \"tuiHoveredChange\", \"mousedown\"], [1, \"t-content\"], [\"class\", \"t-icons t-icons_left\", 4, \"ngIf\"], [1, \"t-wrapper\"], [1, \"t-absolute-wrapper\"], [\"automation-id\", \"tui-input-tag__placeholder\", \"class\", \"t-placeholder\", 3, \"t-placeholder_raised\", 4, \"ngIf\"], [\"class\", \"t-scrollbar\", 3, \"hidden\", 4, \"ngIf\", \"ngIfElse\"], [\"items\", \"\"], [\"class\", \"t-icons t-icons_right\", 4, \"ngIf\"], [\"errorIcon\", \"\"], [1, \"t-icons\", \"t-icons_left\"], [1, \"t-icon\", 3, \"src\"], [\"automation-id\", \"tui-input-tag__placeholder\", 1, \"t-placeholder\"], [1, \"t-scrollbar\", 3, \"hidden\"], [4, \"ngTemplateOutlet\"], [1, \"t-tags\"], [\"tagsContainer\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"text\", \"\"], [1, \"t-input-wrapper\"], [1, \"t-ghost\"], [\"type\", \"text\", \"automation-id\", \"tui-input-tag__native\", 1, \"t-native\", 3, \"placeholder\", \"id\", \"disabled\", \"readOnly\", \"tuiFocusable\", \"ngModel\", \"ngModelChange\", \"keydown.arrowLeft\", \"keydown.backspace\", \"keydown.enter.prevent\"], [\"focusableElement\", \"\"], [\"automation-id\", \"tui-input-tag__tag\", \"class\", \"t-tag\", 3, \"status\", \"leftContent\", \"allowSpaces\", \"tuiFocusable\", \"disabled\", \"editable\", \"hoverable\", \"removable\", \"separator\", \"maxLength\", \"size\", \"value\", \"edited\", \"keydown.arrowLeft.prevent\", \"keydown.arrowRight.prevent\", 4, \"ngFor\", \"ngForOf\"], [\"automation-id\", \"tui-input-tag__tag\", 1, \"t-tag\", 3, \"status\", \"leftContent\", \"allowSpaces\", \"tuiFocusable\", \"disabled\", \"editable\", \"hoverable\", \"removable\", \"separator\", \"maxLength\", \"size\", \"value\", \"edited\", \"keydown.arrowLeft.prevent\", \"keydown.arrowRight.prevent\"], [\"tag\", \"\"], [\"class\", \"t-text\", 3, \"t-text_disabled\", \"t-text_error\", \"innerText\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-text\", 3, \"innerText\"], [1, \"t-icons\", \"t-icons_right\"], [\"automation-id\", \"tui-input-tag__cleaner\", \"src\", \"tuiIconCloseLarge\", \"class\", \"t-cleaner\", 3, \"click.stop\", 4, \"ngIf\"], [\"automation-id\", \"tui-input-tag__tooltip\", \"describeId\", \"placeholer_until_accesibility_is_added\", \"class\", \"t-tooltip\", 3, \"direction\", \"mode\", \"content\", \"showDelay\", \"hideDelay\", 4, \"ngIf\"], [\"class\", \"t-icon\", 3, \"src\", 4, \"ngIf\"], [\"automation-id\", \"tui-input-tag__cleaner\", \"src\", \"tuiIconCloseLarge\", 1, \"t-cleaner\", 3, \"click.stop\"], [\"cleaner\", \"\"], [\"automation-id\", \"tui-input-tag__tooltip\", \"describeId\", \"placeholer_until_accesibility_is_added\", 1, \"t-tooltip\", 3, \"direction\", \"mode\", \"content\", \"showDelay\", \"hideDelay\"], [\"src\", \"tuiIconAttention\", 1, \"t-error-icon\"]],\n  template: function TuiInputTagComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 0);\n      ɵngcc0.ɵɵlistener(\"openChange\", function TuiInputTagComponent_Template_tui_hosted_dropdown_openChange_0_listener($event) {\n        return ctx.open = $event;\n      })(\"tuiActiveZoneChange\", function TuiInputTagComponent_Template_tui_hosted_dropdown_tuiActiveZoneChange_0_listener($event) {\n        return ctx.onActiveZone($event);\n      });\n      ɵngcc0.ɵɵelementStart(1, \"tui-wrapper\", 1);\n      ɵngcc0.ɵɵlistener(\"tuiHoveredChange\", function TuiInputTagComponent_Template_tui_wrapper_tuiHoveredChange_1_listener($event) {\n        return ctx.onHoveredChange($event);\n      })(\"mousedown\", function TuiInputTagComponent_Template_tui_wrapper_mousedown_1_listener($event) {\n        return ctx.onMouseDown($event);\n      });\n      ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n      ɵngcc0.ɵɵtemplate(3, TuiInputTagComponent_div_3_Template, 2, 1, \"div\", 3);\n      ɵngcc0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5);\n      ɵngcc0.ɵɵtemplate(6, TuiInputTagComponent_div_6_Template, 2, 2, \"div\", 6);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(7, TuiInputTagComponent_tui_scrollbar_7_Template, 2, 2, \"tui-scrollbar\", 7);\n      ɵngcc0.ɵɵtemplate(8, TuiInputTagComponent_ng_template_8_Template, 10, 14, \"ng-template\", null, 8, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(10, TuiInputTagComponent_div_10_Template, 4, 3, \"div\", 9);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵtemplate(11, TuiInputTagComponent_ng_template_11_Template, 1, 0, \"ng-template\", null, 10, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      const _r3 = ɵngcc0.ɵɵreference(9);\n\n      ɵngcc0.ɵɵproperty(\"canOpen\", ctx.canOpen)(\"content\", ctx.datalist || \"\")(\"open\", ctx.open);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"appearance\", ctx.appearance)(\"readOnly\", ctx.readOnly)(\"focused\", ctx.computedFocused)(\"hovered\", ctx.computedHovered)(\"disabled\", ctx.computedDisabled)(\"invalid\", ctx.computedInvalid);\n      ɵngcc0.ɵɵadvance(2);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.iconAlignLeft);\n      ɵngcc0.ɵɵadvance(3);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasPlaceholder);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.expandable)(\"ngIfElse\", _r3);\n      ɵngcc0.ɵɵadvance(3);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.hasRightIcons);\n    }\n  },\n  directives: [ɵngcc1.TuiHostedDropdownComponent, ɵngcc2.TuiActiveZoneDirective, ɵngcc1.TuiWrapperDirective, ɵngcc2.TuiHoveredDirective, ɵngcc3.NgIf, ɵngcc1.TuiSvgComponent, ɵngcc1.TuiScrollbarComponent, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgForOf, ɵngcc4.TuiTagComponent, ɵngcc2.TuiFocusableDirective, ɵngcc5.DefaultValueAccessor, ɵngcc5.NgControlStatus, ɵngcc5.NgModel, ɵngcc1.TuiTooltipComponent],\n  pipes: [ɵngcc3.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:block;border-radius:var(--tui-radius-m);text-align:left}[data-size='s'][_nghost-%COMP%]{height:var(--tui-height-s);min-height:var(--tui-height-s);max-height:var(--tui-height-s)}[data-size='m'][_nghost-%COMP%]{height:var(--tui-height-m);min-height:var(--tui-height-m);max-height:var(--tui-height-m)}[data-size='l'][_nghost-%COMP%]{height:var(--tui-height-l);min-height:var(--tui-height-l);max-height:var(--tui-height-l);font:var(--tui-font-text-m);line-height:1.25rem}.t-input[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);padding:0;border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;padding:0 var(--tui-padding-m);border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0);text-indent:var(--text-indent);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 1000px var(--tui-autofill) inset!important}.t-input   tui-primitive-textfield[data-mode=onDark][_nghost-%COMP%]:-webkit-autofill, tui-primitive-textfield[data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill, .t-input   tui-primitive-textfield[data-mode=onDark][_nghost-%COMP%]:-webkit-autofill:focus, tui-primitive-textfield[data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:focus, .t-input   tui-primitive-textfield[data-mode=onDark][_nghost-%COMP%]:-webkit-autofill:hover, tui-primitive-textfield[data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:hover, .t-input   tui-text-area[data-mode=onDark][_nghost-%COMP%]:-webkit-autofill, tui-text-area[data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill, .t-input   tui-text-area[data-mode=onDark][_nghost-%COMP%]:-webkit-autofill:focus, tui-text-area[data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:focus, .t-input   tui-text-area[data-mode=onDark][_nghost-%COMP%]:-webkit-autofill:hover, tui-text-area[data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:hover, [data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:-webkit-autofill, [data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus, [data-mode=onDark][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01-night)!important;border-color:var(--tui-autofill-night);-webkit-box-shadow:0 0 0 1000px var(--tui-autofill-night) inset!important}.t-input   tui-primitive-textfield[data-size='s'][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size='s']   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-text-area[data-size='s'][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size='s']   [_nghost-%COMP%]:not(tui-text-area), [data-size='s'][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}.t-input   tui-primitive-textfield[data-size='l'][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size='l']   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-text-area[data-size='l'][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size='l']   [_nghost-%COMP%]:not(tui-text-area), [data-size='l'][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-input   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], .t-input   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%], ._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]{pointer-events:none}.t-input   tui-primitive-textfield[data-size='l']:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size='l']:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield), [data-size='l'][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.25rem}.t-input   tui-primitive-textfield[data-size='l']:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield):-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], tui-primitive-textfield[data-size='l']:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield):-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-size='l'][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}.t-input   tui-primitive-textfield[data-size='m']:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size='m']:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield), [data-size='m'][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.125rem}.t-input   tui-primitive-textfield[data-size='m']:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield):-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], tui-primitive-textfield[data-size='m']:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield):-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], [data-size='m'][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .content[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}.t-input   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%], ._hidden[_nghost-%COMP%]   input.t-input[_ngcontent-%COMP%]{opacity:0;text-indent:-10em;-webkit-user-select:none}.t-content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;padding:0 var(--tui-padding-m);box-sizing:border-box;align-items:center;overflow:hidden}[data-size='s'][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}[data-size='l'][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-content[_ngcontent-%COMP%]:after{content:'';margin-right:-.25rem}[data-size='m'][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]:after{display:none}.t-wrapper[_ngcontent-%COMP%]{flex:1;min-width:0;-webkit-padding-end:.25rem;padding-inline-end:.25rem;-webkit-padding-start:0;padding-inline-start:0}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--tui-text-02);pointer-events:none}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size='m'][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}[data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], [data-mode=onDark]._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='l']._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='m']._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size='l'][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.9375rem}[data-size='l'][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size='l']._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size='m']._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[data-mode=onDark][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size='l'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size='m'][data-mode=onDark]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='l'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size='m'][data-mode=onDark]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}@supports (-webkit-hyphens:none){.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,color,letter-spacing}}.t-cleaner[_ngcontent-%COMP%]{transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;color:var(--tui-text-03);position:relative;box-sizing:border-box;cursor:pointer;transition-property:color,transform}.t-cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-text-02)}._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}[data-mode=onDark][_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-text-01-night)}.t-icon[_ngcontent-%COMP%]{display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;color:var(--tui-text-03)}[data-mode=onDark][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.t-icon_left[_ngcontent-%COMP%]{margin:0 .5rem 0 -.25rem;-webkit-margin-start:-.25rem;margin-inline-start:-.25rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}[data-size='s'][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-right:.25rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem}[_nghost-%COMP%]{cursor:text}._expandable[_nghost-%COMP%]{height:auto;max-height:none}._disabled[_nghost-%COMP%]{pointer-events:none}._readonly[_nghost-%COMP%]{cursor:default}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-scrollbar[_ngcontent-%COMP%]{margin:0 -.25rem;padding:0 .25rem}.t-tags[_ngcontent-%COMP%]{display:flex;align-items:center;box-sizing:border-box}._expandable[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{flex-wrap:wrap;white-space:normal}._readonly[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{pointer-events:none}[data-size='s'][_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{min-height:var(--tui-height-s);padding:.25rem .25rem .25rem 0}[data-size='m'][_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{min-height:var(--tui-height-m);padding:.5rem .25rem .5rem 0}[data-size='l'][_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{min-height:var(--tui-height-l);padding:.625rem .25rem .625rem 0}[data-size='m'][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%]{padding:1.1875rem 1rem 0 0}[data-size='l'][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%]{padding:1.6875rem 1rem .5625rem 0}.t-tags   [data-size][_nghost-%COMP%]{-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:.25rem;padding-inline-end:.25rem}[data-size][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%]{-webkit-padding-end:1rem;padding-inline-end:1rem}.t-content[_ngcontent-%COMP%]{align-items:flex-start}.t-icons[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 0 0 .75rem;-webkit-padding-start:.75rem;padding-inline-start:.75rem;-webkit-padding-end:0;padding-inline-end:0}.t-icons_left[_ngcontent-%COMP%]{padding:0;margin:0 .5rem 0 -.25rem;-webkit-margin-start:-.25rem;margin-inline-start:-.25rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}._expandable[_nghost-%COMP%]   .t-icons_right[_ngcontent-%COMP%]{margin:0 0 0 -.625rem;-webkit-margin-start:-.625rem;margin-inline-start:-.625rem;-webkit-margin-end:0;margin-inline-end:0}[data-size='s'][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{height:var(--tui-height-s)}[data-size='m'][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{height:var(--tui-height-m)}[data-size='l'][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{height:var(--tui-height-l)}.t-absolute-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center}[data-size='m'][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{height:var(--tui-height-m)}[data-size='l'][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{height:var(--tui-height-l)}.t-wrapper[_ngcontent-%COMP%]{position:relative;padding:0}.t-tag[_ngcontent-%COMP%]{margin:.125rem .5rem .125rem -.25rem;-webkit-margin-start:-.25rem;margin-inline-start:-.25rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem;max-width:100%;flex-shrink:0}.t-text[_ngcontent-%COMP%]:after{content:',\\\\00a0'}.t-text_disabled[_ngcontent-%COMP%]{color:var(--tui-text-03)}.t-text_error[_ngcontent-%COMP%]{color:var(--tui-negative)}[_nghost-%COMP%]:not(._expandable)   .t-text[_ngcontent-%COMP%]{white-space:nowrap}[_nghost-%COMP%]:not(._focused)   .t-text[_ngcontent-%COMP%]:last-of-type:after{content:''}.t-input-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;max-width:100%}.t-input-wrapper_collapsed[_ngcontent-%COMP%]{flex:0;margin:0 0 0 -.5rem;-webkit-margin-start:-.5rem;margin-inline-start:-.5rem;-webkit-margin-end:0;margin-inline-end:0}[data-size='s'][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%]{min-height:1.5rem}[data-size='m'][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%]{min-height:calc(var(--tui-height-xs) + 2 * .125rem)}[data-size='l'][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%]{min-height:calc(var(--tui-height-s) + 2 * .125rem)}[_nghost-%COMP%]:not(._label-outside)   .t-input-wrapper[_ngcontent-%COMP%]{min-height:1.25rem}.t-ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip;min-width:.125rem}[_nghost-%COMP%]:not(._expandable)   .t-ghost[_ngcontent-%COMP%]{min-width:2rem}.t-native[_ngcontent-%COMP%]{border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;padding:0;cursor:inherit}.t-native[_ngcontent-%COMP%]:-webkit-autofill, .t-native[_ngcontent-%COMP%]:-webkit-autofill:focus, .t-native[_ngcontent-%COMP%]:-webkit-autofill:hover{border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 1000px var(--tui-autofill) inset!important}.t-native_hidden[_ngcontent-%COMP%]{opacity:0;text-indent:-10em}.t-native[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--tui-text-03);opacity:0}.t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}[data-mode=onDark][_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03-night)}._focused[_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]:not(:read-only)::-ms-input-placeholder{opacity:1}._focused[_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]:not(:-moz-read-only)::placeholder{opacity:1}._focused[_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}.t-error-icon[_ngcontent-%COMP%]{display:block;color:var(--tui-error-fill);width:1rem;height:1rem}\"],\n  changeDetection: 0\n});\n\nTuiInputTagComponent.ctorParameters = () => [{\n  type: NgControl,\n  decorators: [{\n    type: Optional\n  }, {\n    type: Self\n  }, {\n    type: Inject,\n    args: [NgControl]\n  }]\n}, {\n  type: ChangeDetectorRef,\n  decorators: [{\n    type: Inject,\n    args: [ChangeDetectorRef]\n  }]\n}, {\n  type: TuiScrollService,\n  decorators: [{\n    type: Inject,\n    args: [TuiScrollService]\n  }]\n}, {\n  type: ElementRef,\n  decorators: [{\n    type: Inject,\n    args: [ElementRef]\n  }]\n}, {\n  type: String,\n  decorators: [{\n    type: Inject,\n    args: [TUI_TEXTFIELD_APPEARANCE]\n  }]\n}, {\n  type: TuiModeDirective,\n  decorators: [{\n    type: Optional\n  }, {\n    type: Inject,\n    args: [TuiModeDirective]\n  }]\n}, {\n  type: Observable,\n  decorators: [{\n    type: Inject,\n    args: [TUI_MODE]\n  }]\n}, {\n  type: undefined,\n  decorators: [{\n    type: Inject,\n    args: [TUI_TAG_STATUS]\n  }]\n}, {\n  type: TuiHintControllerDirective,\n  decorators: [{\n    type: Inject,\n    args: [TUI_HINT_WATCHED_CONTROLLER]\n  }]\n}, {\n  type: TuiTextfieldController,\n  decorators: [{\n    type: Inject,\n    args: [TUI_TEXTFIELD_WATCHED_CONTROLLER]\n  }]\n}, {\n  type: undefined,\n  decorators: [{\n    type: Inject,\n    args: [TUI_INPUT_TAG_OPTIONS]\n  }]\n}, {\n  type: TuiHostedDropdownComponent,\n  decorators: [{\n    type: Optional\n  }, {\n    type: Inject,\n    args: [TuiHostedDropdownComponent]\n  }]\n}];\n\n__decorate([ViewChild(TuiHostedDropdownComponent)], TuiInputTagComponent.prototype, \"hostedDropdown\", void 0);\n\n__decorate([ViewChild('focusableElement')], TuiInputTagComponent.prototype, \"focusableElement\", void 0);\n\n__decorate([ViewChild('tagsContainer')], TuiInputTagComponent.prototype, \"tagsContainer\", void 0);\n\n__decorate([ViewChildren('tag', {\n  read: ElementRef\n})], TuiInputTagComponent.prototype, \"tags\", void 0);\n\n__decorate([ViewChild('cleaner', {\n  read: ElementRef\n})], TuiInputTagComponent.prototype, \"cleanerSvg\", void 0);\n\n__decorate([ViewChild(TuiScrollbarComponent, {\n  read: ElementRef\n})], TuiInputTagComponent.prototype, \"scrollBar\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"allowSpaces\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"separator\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"icon\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"iconAlign\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"search\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"editable\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"tagValidator\", void 0);\n\n__decorate([Input(), HostBinding('class._expandable'), tuiDefaultProp()], TuiInputTagComponent.prototype, \"expandable\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"inputHidden\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"uniqueTags\", void 0);\n\n__decorate([Input(), tuiDefaultProp()], TuiInputTagComponent.prototype, \"disabledItemHandler\", void 0);\n\n__decorate([Input('pseudoFocused')], TuiInputTagComponent.prototype, \"pseudoFocusedSetter\", null);\n\n__decorate([Output()], TuiInputTagComponent.prototype, \"searchChange\", void 0);\n\n__decorate([ContentChild(TuiDataListDirective, {\n  read: TemplateRef\n})], TuiInputTagComponent.prototype, \"datalist\", void 0);\n\n__decorate([ViewChild('errorIcon')], TuiInputTagComponent.prototype, \"errorIconTemplate\", void 0);\n\n__decorate([ViewChild(TuiScrollbarComponent)], TuiInputTagComponent.prototype, \"scrollerSetter\", null);\n\n__decorate([HostBinding('attr.data-size')], TuiInputTagComponent.prototype, \"size\", null);\n\n__decorate([HostBinding('class._label-outside')], TuiInputTagComponent.prototype, \"labelOutside\", null);\n\nTuiInputTagComponent = TuiInputTagComponent_1 = __decorate([__param(0, Optional()), __param(0, Self()), __param(0, Inject(NgControl)), __param(1, Inject(ChangeDetectorRef)), __param(2, Inject(TuiScrollService)), __param(3, Inject(ElementRef)), __param(4, Inject(TUI_TEXTFIELD_APPEARANCE)), __param(5, Optional()), __param(5, Inject(TuiModeDirective)), __param(6, Inject(TUI_MODE)), __param(7, Inject(TUI_TAG_STATUS)), __param(8, Inject(TUI_HINT_WATCHED_CONTROLLER)), __param(9, Inject(TUI_TEXTFIELD_WATCHED_CONTROLLER)), __param(10, Inject(TUI_INPUT_TAG_OPTIONS)), __param(11, Optional()), __param(11, Inject(TuiHostedDropdownComponent))], TuiInputTagComponent);\nlet TuiInputTagModule = /*#__PURE__*/(() => {\n  let TuiInputTagModule = class TuiInputTagModule {};\n\n  TuiInputTagModule.ɵfac = function TuiInputTagModule_Factory(t) {\n    return new (t || TuiInputTagModule)();\n  };\n\n  TuiInputTagModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiInputTagModule\n  });\n  TuiInputTagModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    providers: [TuiScrollService],\n    imports: [[CommonModule, FormsModule, PolymorpheusModule, TuiFocusableModule, TuiHoveredModule, TuiActiveZoneModule, TuiSvgModule, TuiScrollbarModule, TuiTooltipModule, TuiHostedDropdownModule, TuiTagModule, TuiWrapperModule]]\n  });\n  return TuiInputTagModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiInputTagModule, {\n    declarations: function () {\n      return [TuiInputTagComponent];\n    },\n    imports: function () {\n      return [CommonModule, FormsModule, PolymorpheusModule, TuiFocusableModule, TuiHoveredModule, TuiActiveZoneModule, TuiSvgModule, TuiScrollbarModule, TuiTooltipModule, TuiHostedDropdownModule, TuiTagModule, TuiWrapperModule];\n    },\n    exports: function () {\n      return [TuiInputTagComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TUI_INPUT_TAG_DEFAULT_OPTIONS, TUI_INPUT_TAG_OPTIONS, TuiInputTagComponent, TuiInputTagModule }; //# sourceMappingURL=taiga-ui-kit-components-input-tag.js.map","map":null,"metadata":{},"sourceType":"module"}