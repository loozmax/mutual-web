{"ast":null,"code":"import { __decorate, __param } from 'tslib';\nimport { EventEmitter, ContentChildren, forwardRef, ElementRef, Input, HostBinding, Output, HostListener, Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { EMPTY_QUERY, itemsQueryListObservable, getOriginalArrayFromQueryList, moveFocus, tuiDefaultProp, tuiPure, TuiFocusVisibleService, TuiDestroyService } from '@taiga-ui/cdk';\nimport { TuiRouterLinkActiveService, TuiSvgModule } from '@taiga-ui/core';\nimport { identity, Observable } from 'rxjs';\nimport { delay, filter } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nimport * as ɵngcc2 from '@taiga-ui/core';\nimport * as ɵngcc3 from '@taiga-ui/cdk';\nimport * as ɵngcc4 from 'rxjs';\n\nfunction TuiStepperComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nconst _c0 = [\"*\"];\nconst _c1 = [\"tuiStep\", \"\"];\n\nfunction TuiStepComponent_tui_svg_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"tui-svg\", 4);\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r0.icon);\n  }\n}\n\nlet TuiStepperComponent = /*#__PURE__*/(() => {\n  let TuiStepperComponent = class TuiStepperComponent {\n    constructor() {\n      this.steps = EMPTY_QUERY;\n      this.orientation = 'horizontal';\n      this.activeItemIndex = 0;\n      this.activeItemIndexChange = new EventEmitter();\n    }\n\n    get changes$() {\n      // Delay is required to trigger change detection after steps are rendered\n      // so they can update their \"active\" status\n      return itemsQueryListObservable(this.steps).pipe(delay(0));\n    }\n\n    onHorizontal(event, step) {\n      if (this.orientation !== 'horizontal' || !event.target) {\n        return;\n      }\n\n      event.preventDefault();\n      this.moveFocus(event.target, step);\n    }\n\n    onVertical(event, step) {\n      if (this.orientation !== 'vertical' || !event.target) {\n        return;\n      }\n\n      event.preventDefault();\n      this.moveFocus(event.target, step);\n    }\n\n    indexOf(step) {\n      return getOriginalArrayFromQueryList(this.steps).findIndex(({\n        nativeElement\n      }) => nativeElement === step);\n    }\n\n    isActive(index) {\n      return index === this.activeItemIndex;\n    }\n\n    activate(index) {\n      if (this.activeItemIndex === index) {\n        return;\n      }\n\n      this.activeItemIndex = index;\n      this.activeItemIndexChange.emit(index);\n    }\n\n    moveFocus(current, step) {\n      const steps = getOriginalArrayFromQueryList(this.steps).map(({\n        nativeElement\n      }) => nativeElement);\n      moveFocus(steps.indexOf(current), steps, step);\n    }\n\n  };\n\n  TuiStepperComponent.ɵfac = function TuiStepperComponent_Factory(t) {\n    return new (t || TuiStepperComponent)();\n  };\n\n  TuiStepperComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TuiStepperComponent,\n    selectors: [[\"tui-stepper\"], [\"nav\", \"tuiStepper\", \"\"]],\n    contentQueries: function TuiStepperComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, TuiStepComponent, 4, ElementRef);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.steps = _t);\n      }\n    },\n    hostVars: 1,\n    hostBindings: function TuiStepperComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keydown.arrowRight\", function TuiStepperComponent_keydown_arrowRight_HostBindingHandler($event) {\n          return ctx.onHorizontal($event, 1);\n        })(\"keydown.arrowLeft\", function TuiStepperComponent_keydown_arrowLeft_HostBindingHandler($event) {\n          return ctx.onHorizontal($event, -1);\n        })(\"keydown.arrowDown\", function TuiStepperComponent_keydown_arrowDown_HostBindingHandler($event) {\n          return ctx.onVertical($event, 1);\n        })(\"keydown.arrowUp\", function TuiStepperComponent_keydown_arrowUp_HostBindingHandler($event) {\n          return ctx.onVertical($event, -1);\n        });\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"data-orientation\", ctx.orientation);\n      }\n    },\n    inputs: {\n      orientation: \"orientation\",\n      activeItemIndex: \"activeItemIndex\"\n    },\n    outputs: {\n      activeItemIndexChange: \"activeItemIndexChange\"\n    },\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 3,\n    consts: [[4, \"ngIf\"]],\n    template: function TuiStepperComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, TuiStepperComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n        ɵngcc0.ɵɵpipe(1, \"async\");\n        ɵngcc0.ɵɵprojection(2);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ɵngcc0.ɵɵpipeBind1(1, 1, ctx.changes$));\n      }\n    },\n    directives: [ɵngcc1.NgIf],\n    pipes: [ɵngcc1.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;display:flex;overflow:auto;counter-reset:steps}[_nghost-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]::-webkit-scrollbar-thumb{background:0 0;width:0;height:0}[data-orientation=vertical][_nghost-%COMP%]{flex-direction:column}\"],\n    changeDetection: 0\n  });\n\n  __decorate([ContentChildren(forwardRef(() => TuiStepComponent), {\n    read: ElementRef\n  })], TuiStepperComponent.prototype, \"steps\", void 0);\n\n  __decorate([Input(), HostBinding('attr.data-orientation'), tuiDefaultProp()], TuiStepperComponent.prototype, \"orientation\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiStepperComponent.prototype, \"activeItemIndex\", void 0);\n\n  __decorate([Output()], TuiStepperComponent.prototype, \"activeItemIndexChange\", void 0);\n\n  __decorate([tuiPure], TuiStepperComponent.prototype, \"changes$\", null);\n\n  __decorate([HostListener('keydown.arrowRight', ['$event', '1']), HostListener('keydown.arrowLeft', ['$event', '-1'])], TuiStepperComponent.prototype, \"onHorizontal\", null);\n\n  __decorate([HostListener('keydown.arrowDown', ['$event', '1']), HostListener('keydown.arrowUp', ['$event', '-1'])], TuiStepperComponent.prototype, \"onVertical\", null);\n\n  return TuiStepperComponent;\n})();\nlet TuiStepComponent = /*#__PURE__*/(() => {\n  let TuiStepComponent = class TuiStepComponent {\n    constructor(focusVisible$, routerLinkActive$, stepper, elementRef) {\n      this.stepper = stepper;\n      this.elementRef = elementRef;\n      this.state = 'normal';\n      this.icon = '';\n      this.focusVisible = false;\n      routerLinkActive$.pipe(filter(identity)).subscribe(() => {\n        this.activate();\n      });\n      focusVisible$.subscribe(visible => {\n        this.focusVisible = visible;\n      });\n    }\n\n    get isActive() {\n      return this.stepper.isActive(this.index);\n    }\n\n    get isVertical() {\n      return this.stepper.orientation === 'vertical';\n    }\n\n    get tabIndex() {\n      return this.isActive ? 0 : -1;\n    }\n\n    get index() {\n      return this.stepper.indexOf(this.elementRef.nativeElement);\n    }\n\n    activate() {\n      this.stepper.activate(this.index);\n    }\n\n  };\n\n  TuiStepComponent.ɵfac = function TuiStepComponent_Factory(t) {\n    return new (t || TuiStepComponent)(ɵngcc0.ɵɵdirectiveInject(TuiFocusVisibleService), ɵngcc0.ɵɵdirectiveInject(TuiRouterLinkActiveService), ɵngcc0.ɵɵdirectiveInject(TuiStepperComponent), ɵngcc0.ɵɵdirectiveInject(ElementRef));\n  };\n\n  TuiStepComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: TuiStepComponent,\n    selectors: [[\"button\", \"tuiStep\", \"\"], [\"a\", \"tuiStep\", \"\", 3, \"routerLink\", \"\"], [\"a\", \"tuiStep\", \"\", \"routerLink\", \"\", \"routerLinkActive\", \"\"]],\n    hostAttrs: [\"type\", \"button\"],\n    hostVars: 8,\n    hostBindings: function TuiStepComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"click\", function TuiStepComponent_click_HostBindingHandler() {\n          return ctx.activate();\n        });\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵhostProperty(\"tabIndex\", ctx.tabIndex);\n        ɵngcc0.ɵɵattribute(\"data-state\", ctx.state);\n        ɵngcc0.ɵɵclassProp(\"_focus-visible\", ctx.focusVisible)(\"_active\", ctx.isActive)(\"_vertical\", ctx.isVertical);\n      }\n    },\n    inputs: {\n      state: \"state\",\n      icon: \"icon\"\n    },\n    features: [ɵngcc0.ɵɵProvidersFeature([TuiDestroyService, TuiRouterLinkActiveService, TuiFocusVisibleService])],\n    attrs: _c1,\n    ngContentSelectors: _c0,\n    decls: 5,\n    vars: 1,\n    consts: [[\"class\", \"marker marker_custom\", 3, \"src\", 4, \"ngIf\"], [\"src\", \"tuiIconWarningLarge\", 1, \"marker\", \"marker_error\"], [\"src\", \"tuiIconCheckLarge\", 1, \"marker\", \"marker_pass\"], [1, \"marker\", \"marker_index\"], [1, \"marker\", \"marker_custom\", 3, \"src\"]],\n    template: function TuiStepComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵtemplate(0, TuiStepComponent_tui_svg_0_Template, 1, 1, \"tui-svg\", 0);\n        ɵngcc0.ɵɵelement(1, \"tui-svg\", 1)(2, \"tui-svg\", 2)(3, \"div\", 3);\n        ɵngcc0.ɵɵprojection(4);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.icon);\n      }\n    },\n    directives: [ɵngcc1.NgIf, ɵngcc2.TuiSvgComponent],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:0 0;font-size:inherit;line-height:inherit;position:relative;display:flex;align-items:center;flex-shrink:0;color:var(--tui-link);margin-right:2rem;outline:0;cursor:pointer;text-decoration:none;counter-increment:steps}[_nghost-%COMP%]:disabled{pointer-events:none;color:var(--tui-base-07)}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:not(:last-of-type)._vertical{margin-bottom:1.25rem}._active[_nghost-%COMP%], ._active[_nghost-%COMP%]:hover{color:var(--tui-text-01);cursor:default}._focus-visible[_nghost-%COMP%]:before{content:'';position:absolute;left:2.75rem;right:0;top:50%;height:1.5rem;margin-top:-.75rem;background:var(--tui-selection)}.marker[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:2rem;height:2rem;border-radius:100%;margin-right:.75rem;flex-shrink:0;align-items:center;justify-content:center;background:var(--tui-secondary);color:var(--tui-link)}[_nghost-%COMP%]:disabled   .marker[_ngcontent-%COMP%]{background:var(--tui-base-03);color:var(--tui-base-07)}.marker_index[_ngcontent-%COMP%]:before{content:counter(steps)}[_nghost-%COMP%]:hover   .marker_index[_ngcontent-%COMP%]{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}._active[_nghost-%COMP%]   .marker_index[_ngcontent-%COMP%]{color:var(--tui-primary-text);background:var(--tui-primary)}[_nghost-%COMP%]:not(._active)   .marker_custom[_ngcontent-%COMP%] ~ .marker_index[_ngcontent-%COMP%], [_nghost-%COMP%]:not([data-state=normal]):not(._active)   .marker_index[_ngcontent-%COMP%]{display:none}.marker_error[_ngcontent-%COMP%]{background:var(--tui-error-bg);color:var(--tui-error-fill)}[_nghost-%COMP%]:hover   .marker_error[_ngcontent-%COMP%]{background:var(--tui-error-bg-hover);color:var(--tui-error-fill)}._active[_nghost-%COMP%]   .marker_error[_ngcontent-%COMP%], [_nghost-%COMP%]:not([data-state=error])   .marker_error[_ngcontent-%COMP%]{display:none}._active[_nghost-%COMP%]   .marker_pass[_ngcontent-%COMP%], [_nghost-%COMP%]:not([data-state=pass])   .marker_pass[_ngcontent-%COMP%]{display:none}._active[_nghost-%COMP%]   .marker_custom[_ngcontent-%COMP%], [_nghost-%COMP%]:not([data-state=normal])   .marker_custom[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]:hover   .marker_custom[_ngcontent-%COMP%]{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}\"],\n    changeDetection: 0\n  });\n\n  __decorate([Input(), HostBinding('attr.data-state'), tuiDefaultProp()], TuiStepComponent.prototype, \"state\", void 0);\n\n  __decorate([Input(), tuiDefaultProp()], TuiStepComponent.prototype, \"icon\", void 0);\n\n  __decorate([HostBinding('class._focus-visible')], TuiStepComponent.prototype, \"focusVisible\", void 0);\n\n  __decorate([HostBinding('class._active')], TuiStepComponent.prototype, \"isActive\", null);\n\n  __decorate([HostBinding('class._vertical')], TuiStepComponent.prototype, \"isVertical\", null);\n\n  __decorate([HostBinding('tabIndex')], TuiStepComponent.prototype, \"tabIndex\", null);\n\n  __decorate([HostListener('click')], TuiStepComponent.prototype, \"activate\", null);\n\n  TuiStepComponent = __decorate([__param(0, Inject(TuiFocusVisibleService)), __param(1, Inject(TuiRouterLinkActiveService)), __param(2, Inject(TuiStepperComponent)), __param(3, Inject(ElementRef))], TuiStepComponent);\n  return TuiStepComponent;\n})();\nlet TuiStepperModule = /*#__PURE__*/(() => {\n  let TuiStepperModule = class TuiStepperModule {};\n\n  TuiStepperModule.ɵfac = function TuiStepperModule_Factory(t) {\n    return new (t || TuiStepperModule)();\n  };\n\n  TuiStepperModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: TuiStepperModule\n  });\n  TuiStepperModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule]]\n  });\n  return TuiStepperModule;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TuiStepperModule, {\n    declarations: function () {\n      return [TuiStepperComponent, TuiStepComponent];\n    },\n    imports: function () {\n      return [CommonModule, TuiSvgModule];\n    },\n    exports: function () {\n      return [TuiStepperComponent, TuiStepComponent];\n    }\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { TuiStepComponent, TuiStepperComponent, TuiStepperModule }; //# sourceMappingURL=taiga-ui-kit-components-stepper.js.map","map":null,"metadata":{},"sourceType":"module"}