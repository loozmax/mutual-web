{"ast":null,"code":"import { Subject, takeUntil } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/room.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../task-item/task-item.component\";\n\nfunction RoomInformationsComponent_h1_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.room.title);\n  }\n}\n\nfunction RoomInformationsComponent_ng_container_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0438\\u0435 \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F:\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RoomInformationsComponent_ng_container_2_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1, \"\\u0412 \\u044D\\u0442\\u043E\\u0439 \\u043A\\u043E\\u043C\\u043D\\u0430\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u043D\\u0435\\u0442 \\u043D\\u0438 \\u043E\\u0434\\u043D\\u043E\\u0433\\u043E \\u0437\\u0430\\u0434\\u0430\\u043D\\u0438\\u044F \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RoomInformationsComponent_ng_container_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"task-item\", 4);\n    i0.ɵɵlistener(\"onTaskClick\", function RoomInformationsComponent_ng_container_2_div_3_Template_task_item_onTaskClick_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const task_r6 = restoredCtx.$implicit;\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.navigateToDetails(task_r6.id, i_r7 + 1);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const task_r6 = ctx.$implicit;\n    const i_r7 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"task\", task_r6)(\"index\", i_r7 + 1);\n  }\n}\n\nfunction RoomInformationsComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, RoomInformationsComponent_ng_container_2_div_1_Template, 2, 0, \"div\", 1);\n    i0.ɵɵtemplate(2, RoomInformationsComponent_ng_container_2_div_2_Template, 2, 0, \"div\", 1);\n    i0.ɵɵtemplate(3, RoomInformationsComponent_ng_container_2_div_3_Template, 2, 2, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const tasks_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", tasks_r2.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !tasks_r2.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", tasks_r2);\n  }\n}\n\nexport let RoomInformationsComponent = /*#__PURE__*/(() => {\n  class RoomInformationsComponent {\n    constructor(_activatedRouter, _roomService, _router) {\n      this._activatedRouter = _activatedRouter;\n      this._roomService = _roomService;\n      this._router = _router;\n      this._destroySubj$ = new Subject();\n\n      _activatedRouter.parent.params.subscribe(id => {\n        this.roomId = id['id'];\n      });\n    }\n\n    ngOnInit() {\n      this._roomService.getRoomById(parseInt(this.roomId)).pipe(takeUntil(this._destroySubj$)).subscribe(room => {\n        this.room = room;\n      });\n\n      this.tasks$ = this._roomService.getTasks(parseInt(this.roomId)).pipe(takeUntil(this._destroySubj$));\n    }\n    /** просмотр детальной информации о задании */\n\n\n    navigateToDetails(id, index) {\n      this._router.navigate(['cabinet', 'room', this.roomId, 'task', id], {\n        queryParams: {\n          index\n        }\n      });\n    }\n\n    ngOnDestroy() {\n      this._destroySubj$.next();\n    }\n\n  }\n\n  RoomInformationsComponent.ɵfac = function RoomInformationsComponent_Factory(t) {\n    return new (t || RoomInformationsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.RoomService), i0.ɵɵdirectiveInject(i1.Router));\n  };\n\n  RoomInformationsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RoomInformationsComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 4,\n    vars: 4,\n    consts: [[4, \"ngIf\"], [\"class\", \"current_task\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"current_task\"], [3, \"task\", \"index\", \"onTaskClick\"]],\n    template: function RoomInformationsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtemplate(1, RoomInformationsComponent_h1_1_Template, 2, 1, \"h1\", 0);\n        i0.ɵɵtemplate(2, RoomInformationsComponent_ng_container_2_Template, 4, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.room);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.tasks$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i4.TaskItemComponent],\n    pipes: [i3.AsyncPipe],\n    styles: [\"h1[_ngcontent-%COMP%]{font-size:80px}.current_task[_ngcontent-%COMP%]{font-size:24px;margin-top:25px}\"]\n  });\n  return RoomInformationsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}